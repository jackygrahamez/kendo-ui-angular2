import 'core-js/es6';

import { ok, equal } from '../../test/test-helpers';
import { triggerEvent, createChart, destroyChart, getChartDomElement }  from '../test-helpers';

let chart;

function setupChart(options) {
    chart = createChart(options);
}

(function() {
    
    function triggerMouseover(element) {
        triggerEvent("mouseover", getChartDomElement(element));
    }

    describe('mouseover', () => {
        beforeEach(() => {
            setupChart({});
        });

        afterEach(() => {
            destroyChart(chart);
        });

        it("does not change highlight if hovering over the plotarea", 0, () => {
            chart._highlight.show = chart._highlight.hide = function() {
                ok(false);
            };

            triggerMouseover(chart._plotArea);
            chart._highlight.show = chart._highlight.hide = function() {}
        });
    });

})();


// ------------------------------------------------------------
(function() {
    describe('surface mouseleave', () => {
        beforeEach(() => {
            setupChart({});
        });
        
        afterEach(() => {
            destroyChart(chart);
        });

        it("calls chart element leave method if available", () => {
            chart._drawingChartElement = function() {
                return {
                    leave: function() {
                        ok(true);
                    }
                };
            };

            chart.surface.trigger("mouseleave", { element: { }, originalEvent: {}});
        });
    });
})();