{"version":3,"sources":["webpack:///webpack/bootstrap 13e767750b2d13e6c0a1?db68*","webpack:///./src/geometry/transform.js?4efe","webpack:///./src/geometry/transformation.js?ce5c","webpack:///./src/mixins/observers-mixin.js?bc00","webpack:///./src/common/to-matrix.js?6da2","webpack:///./src/geometry/matrix.js?f797","webpack:///./src/common/defined.js?16fa","webpack:///./src/common/round.js?f851","webpack:///./src/geometry/math.js?48db","webpack:///./src/geometry/complex-number.js?4d62","webpack:///./src/geometry/constants.js?7629","webpack:///./src/geometry/point.js?fc87","webpack:///./src/accessors/define-accessors.js?45c5","webpack:///./src/common/animation-frame.js?2564","webpack:///./src/canvas.js","webpack:///./src/canvas/surface.js","webpack:///./src/core/surface.js","webpack:///./src/shapes/group.js","webpack:///./src/shapes/element.js","webpack:///./src/core/options-store.js","webpack:///./src/common/is-class.js","webpack:///./src/geometry/rect.js","webpack:///./src/geometry/size.js","webpack:///./src/common/value-or-default.js","webpack:///./src/common/definition-id.js","webpack:///./src/common/is-transparent.js","webpack:///./src/mixins/traversable.js","webpack:///./src/common/append.js","webpack:///./src/shapes/utils/elements-bounding-box.js","webpack:///./src/shapes/utils/elements-clippend-bounding-box.js","webpack:///./src/core/surface-factory.js","webpack:///./src/core/observable.js","webpack:///./src/common/element-styles.js","webpack:///./src/common/element-size.js","webpack:///./src/common/element-offset.js","webpack:///./src/common/create-promise.js","webpack:///./~/promise/index.js","webpack:///./~/promise/lib/index.js","webpack:///./~/promise/lib/core.js","webpack:///./~/asap/browser-raw.js","webpack:///./~/promise/lib/done.js","webpack:///./~/promise/lib/finally.js","webpack:///./~/promise/lib/es6-extensions.js","webpack:///./~/promise/lib/node-extensions.js","webpack:///./~/asap/browser-asap.js","webpack:///./~/promise/lib/synchronous.js","webpack:///./src/canvas/root-node.js","webpack:///./src/canvas/group-node.js","webpack:///./src/canvas/node.js","webpack:///./src/core/base-node.js","webpack:///./src/canvas/node-map.js","webpack:///./src/canvas/utils/render-path.js","webpack:///./src/common/throttle.js","webpack:///./src/search/shapes-quad-tree.js","webpack:///./src/search/quad-root.js","webpack:///./src/search/quad-node.js","webpack:///./src/canvas/arc-node.js","webpack:///./src/canvas/path-node.js","webpack:///./src/gradients/linear-gradient.js","webpack:///./src/accessors/define-point-accessors.js","webpack:///./src/gradients/gradient.js","webpack:///./src/gradients/stops-array.js","webpack:///./src/common/elements-array.js","webpack:///./src/gradients/gradient-stop.js","webpack:///./src/accessors/define-options-accessors.js","webpack:///./src/gradients/radial-gradient.js","webpack:///./src/core/constants.js","webpack:///./~/chroma-js/chroma.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/canvas/circle-node.js","webpack:///./src/canvas/rect-node.js","webpack:///./src/canvas/image-node.js","webpack:///./src/canvas/text-node.js","webpack:///./src/canvas/multi-path-node.js"],"names":[],"mappings":"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ACH,UAHD;AAIA,oBAAW,kBAAC,IAAD,EAAU;AACjB,qBAAQ,KAAR,GAAgB,UAAhB;AACA,oBAAO,IAAP;AACH,UAHD;AAIH,MATe,CAAhB;AAUA,aAAQ,KAAR,GAAgB,SAAhB;AACA,aAAQ,OAAR,GAAkB,SAAlB;AACA,aAAQ,MAAR,GAAiB,QAAjB;AACA,YAAO,OAAP;AACH,E;;;;;;AClBD;;AAEA;;;;;;;ACFA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACPA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sDAAqD,cAAc;AACnE;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;ACpNA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAgE,kBAAkB;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,oBAAoB;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC3NA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;;;;;;;ACZA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,MAAK;AACL,IAAG;AACH;;;;;;;ACfA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,iBAAiB;AACpC;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;;AAEA;;AAEA;AACA;AACA;;;;;;;AC1GA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA,yBAAwB;AACxB,cAAa,SAAS,EAAE,OAAO,SAAS,EAAE;AAC1C,KAAI;AACJ;AACA;AACA;AACA,kBAAiB,mBAAmB;AACpC;AACA;AACA;AACA,gDAA+C;AAC/C,sBAAqB;AACrB,4CAA2C;AAC3C;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,SAAQ,SAAS;AACjB,OAAM,EAAE;AACR,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,cAAc;AAC/B;AACA;AACA;AACA,gDAA+C;AAC/C,sBAAqB;AACrB,eAAc;AACd,uCAAsC;AACtC,gDAA+C;AAC/C,6CAA4C;AAC5C,qBAAoB,sBAAsB,OAAO;AACjD,6BAA4B;AAC5B,OAAM;AACN,OAAM;AACN,4CAA2C;AAC3C,kCAAiC;AACjC,cAAa;AACb,0BAAyB;AACzB;AACA;AACA;AACA,8FAA6F;AAC7F,gBAAe;AACf;AACA,MAAK;AACL;AACA,2BAA0B;AAC1B,iCAAgC;AAChC,OAAM;;AAEN;AACA;AACA;AACA,SAAQ,SAAS;AACjB,OAAM,EAAE;AACR,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,MAAK;AACL,IAAG;AACH;;;;;;;ACjIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;;;;;;ACjEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC7DA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;AAEA,KAAM,cAAc,OAAO,EAA3B;;KAEM,Q;;;A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A;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,gCAAgC;AACrC;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uEAAsE;AACtE,wBAAuB;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,0CAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,kDAAiD,UAAU;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;;;AAGA;AACA;;AAEA;AACA;;AAEA,mE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK,4DAA4D;AACjE;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uCAAsC,SAAS;AAC/C;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,yCAAwC,SAAS;AACjD;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,0BAAyB,QAAQ;AACjC;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,yCAAwC,SAAS;AACjD;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,0BAAyB,QAAQ;AACjC;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,yCAAwC,SAAS;AACjD;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,0BAAyB,QAAQ;AACjC;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uEAAsE;AACtE,wBAAuB;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK,4DAA4D;AACjE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,oCAAmC,EAAE,aAAa,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK,4DAA4D;AACjE;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK,4DAA4D;AACjE;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK,4DAA4D;AACjE;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA,MAAK;AACL;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA,MAAK;AACL;AACA,uBAAsB,SAAS;AAC/B;AACA;AACA;AACA,MAAK;AACL;AACA,uBAAsB,SAAS;AAC/B;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK,4DAA4D;AACjE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK,6DAA6D;AAClE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK,2DAA2D;AAChE;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C,SAAS;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK,oEAAoE;AACzE;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,SAAS;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAiD,mCAAmC;AACpF;AACA;AACA;AACA;AACA;AACA;AACA,kDAAiD,mCAAmC;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,iDAAgD,gCAAgC;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC,SAAS;AACjD;AACA;AACA;AACA,QAAO;AACP,qCAAoC,gCAAgC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,gDAAgD,6BAA6B,iBAAiB;AACvH;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,+CAA8C,8BAA8B;AAC5E;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,qCAAoC,SAAS;AAC7C;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC,gCAAgC;AACpE;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,mCAAmC;AACxE;AACA;AACA;AACA,MAAK;AACL;AACA,uCAAsC,qCAAqC;AAC3E;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC,qCAAqC;AAC3E;AACA;AACA;AACA;AACA,yCAAwC,qCAAqC;AAC7E;AACA;AACA,uCAAsC,qCAAqC;AAC3E;AACA;AACA,2CAA0C,qCAAqC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC,qCAAqC;AAC7E;AACA;AACA,uCAAsC,qCAAqC;AAC3E;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,yCAAwC,qCAAqC;AAC7E;AACA;AACA;AACA,0CAAyC,wCAAwC;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,wCAAwC;AAC/E;AACA;AACA,sCAAqC,wCAAwC;AAC7E;AACA;AACA;AACA;AACA,wCAAuC,wCAAwC;AAC/E;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,2DAA0D,aAAa;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK,4DAA4D;AACjE;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAiC,SAAS;AAC1C;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAC;;;;;;;;AC/6ED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACTA;;;;AACA;;;;;;;;;;;;KAEM,U;;;;;;;;;;;sCACW,G,EAAK;AAAA,wCACa,KAAK,UAAL,CAAgB,QAAhB,EADb;;AAAA,iBACN,MADM,wBACN,MADM;AAAA,iBACE,MADF,wBACE,MADF;;;AAGd,iBAAI,GAAJ,CAAQ,OAAO,CAAf,EAAkB,OAAO,CAAzB,EAA4B,MAA5B,EAAoC,CAApC,EAAuC,KAAK,EAAL,GAAU,CAAjD;AACH;;;;;;AAGL,mBAAS,MAAT,GAAkB,UAAlB;;mBAEe,U;;;;;;;;;;;;;;ACbf;;;;AACA;;;;;;;;;;;;KAEM,Q;;;;;;;;;;;sCACW,G,EAAK;AAAA,wCACW,KAAK,UAAL,CAAgB,QAAhB,EADX;;AAAA,iBACN,MADM,wBACN,MADM;AAAA,iBACE,IADF,wBACE,IADF;;;AAGd,iBAAI,IAAJ,CAAS,OAAO,CAAhB,EAAmB,OAAO,CAA1B,EAA6B,KAAK,KAAlC,EAAyC,KAAK,MAA9C;AACH;;;;;;AAGL,mBAAS,IAAT,GAAgB,QAAhB;;mBAEe,Q;;;;;;;;;;;;;;;;ACbf;;;;AACA;;;;AACA;;;;;;;;;;;;KAEM,S;;;AACF,wBAAY,UAAZ,EAAwB,IAAxB,EAA8B;AAAA;;AAAA,kGACpB,UADoB;;AAG1B,eAAK,MAAL,GAAc,MAAK,MAAL,CAAY,IAAZ,OAAd;AACA,eAAK,OAAL,GAAe,MAAK,OAAL,CAAa,IAAb,OAAf;;AAEA,eAAK,OAAL,GAAe,8BAAf;;AAEA,aAAM,MAAM,MAAK,GAAL,GAAW,IAAI,KAAJ,EAAvB;;AAEA,aAAI,QAAQ,CAAE,UAAU,IAAV,CAAe,WAAW,GAAX,EAAf,CAAd,EAAiD;AAC7C,iBAAI,WAAJ,GAAkB,IAAlB;AACH;;AAED,aAAI,GAAJ,GAAU,WAAW,GAAX,EAAV;;AAEA,aAAI,IAAI,QAAR,EAAkB;AACd,mBAAK,MAAL;AACH,UAFD,MAEO;AACH,iBAAI,MAAJ,GAAa,MAAK,MAAlB;AACA,iBAAI,OAAJ,GAAc,MAAK,OAAnB;AACH;AArByB;AAsB7B;;;;kCAEQ,G,EAAK;AACV,iBAAI,KAAK,OAAL,CAAa,KAAb,KAAuB,UAA3B,EAAuC;AACnC,qBAAI,IAAJ;;AAEA,sBAAK,YAAL,CAAkB,GAAlB;AACA,sBAAK,OAAL,CAAa,GAAb;;AAEA,sBAAK,SAAL,CAAe,GAAf;;AAEA,qBAAI,OAAJ;AACH;AACJ;;;uCAEa,C,EAAG;AACb,iBAAI,EAAE,KAAF,KAAY,KAAhB,EAAuB;AACnB,sBAAK,OAAL,GAAe,8BAAf;AACA,sBAAK,GAAL,CAAS,GAAT,GAAe,KAAK,UAAL,CAAgB,GAAhB,EAAf;AACH,cAHD,MAGO;AACH,oGAAoB,CAApB;AACH;AACJ;;;kCAEQ;AACL,kBAAK,OAAL,CAAa,OAAb;AACA,kBAAK,UAAL;AACH;;;mCAES;AACN,kBAAK,OAAL,CAAa,MAAb,CAAoB,IAAI,KAAJ,CAChB,2BAA2B,KAAK,GAAL,CAAS,GAApC,GACA,oDAFgB,CAApB;AAIH;;;mCAES,G,EAAK;AACX,iBAAM,OAAO,KAAK,UAAL,CAAgB,IAAhB,EAAb;AACA,iBAAM,UAAU,KAAK,OAAL,EAAhB;;AAEA,iBAAI,SAAJ,CACI,KAAK,GADT,EACc,QAAQ,CADtB,EACyB,QAAQ,CADjC,EACoC,KAAK,KAAL,EADpC,EACkD,KAAK,MAAL,EADlD;AAGH;;;;;;AAGL,mBAAS,KAAT,GAAiB,SAAjB;;mBAEe,S;;;;;;;;;;;;;;AC3Ef;;;;AACA;;;;;;;;;;;;KAEM,Q;;;;;;;;;;;kCACO,G,EAAK;AACV,iBAAM,OAAO,KAAK,UAAlB;AACA,iBAAM,MAAM,KAAK,QAAL,EAAZ;AACA,iBAAM,OAAO,KAAK,OAAL,EAAb;;AAEA,iBAAI,IAAJ;;AAEA,kBAAK,YAAL,CAAkB,GAAlB;AACA,kBAAK,OAAL,CAAa,GAAb;AACA,kBAAK,UAAL,CAAgB,GAAhB;;AAEA,iBAAI,SAAJ;;AAEA,iBAAI,IAAJ,GAAW,KAAK,OAAL,CAAa,IAAxB;AACA,iBAAI,KAAK,OAAL,CAAa,GAAb,CAAJ,EAAuB;AACnB,qBAAI,QAAJ,CAAa,KAAK,OAAL,EAAb,EAA6B,IAAI,CAAjC,EAAoC,IAAI,CAAJ,GAAQ,KAAK,QAAjD;AACH;;AAED,iBAAI,KAAK,SAAL,CAAe,GAAf,CAAJ,EAAyB;AACrB,sBAAK,WAAL,CAAiB,GAAjB;AACA,qBAAI,UAAJ,CAAe,KAAK,OAAL,EAAf,EAA+B,IAAI,CAAnC,EAAsC,IAAI,CAAJ,GAAQ,KAAK,QAAnD;AACH;;AAED,iBAAI,OAAJ;AACH;;;;;;AAIL,mBAAS,IAAT,GAAgB,QAAhB;;mBAEe,Q;;;;;;;;;;;;;;AClCf;;;;AACA;;;;AACA;;;;;;;;;;;;KAEM,a;;;;;;;;;;;sCACW,G,EAAK;AACd,iBAAM,QAAQ,KAAK,UAAL,CAAgB,KAA9B;AACA,kBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,MAAM,MAA1B,EAAkC,GAAlC,EAAuC;AACnC,2CAAW,GAAX,EAAgB,MAAM,CAAN,CAAhB;AACH;AACJ;;;;;;AAGL,mBAAS,SAAT,GAAqB,aAArB;;mBAEe,a","file":"src/canvas.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 13e767750b2d13e6c0a1\n **/","import Transformation from './transformation';\n\nexport default function transform(matrix) {\n    if (matrix === null) {\n        return null;\n    }\n\n    if (matrix instanceof Transformation) {\n        return matrix;\n    }\n\n    return new Transformation(matrix);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/transform.js\n **/","import ObserversMixin from '../mixins/observers-mixin';\nimport toMatrix from '../common/to-matrix';\nimport Matrix from './matrix';\nimport Point from './point';\n\nclass Transformation {\n\n    constructor(matrix = Matrix.unit()) {\n        this._matrix = matrix;\n    }\n\n    clone() {\n        return new Transformation(\n            this._matrix.clone()\n        );\n    }\n\n    equals(other) {\n        return other &&\n               other._matrix.equals(this._matrix);\n    }\n\n    translate(x, y) {\n        this._matrix = this._matrix.multiplyCopy(Matrix.translate(x, y));\n\n        this._optionsChange();\n        return this;\n    }\n\n    scale(scaleX, scaleY = scaleX, origin = null) {\n        let originPoint = origin;\n\n        if (originPoint) {\n            originPoint = Point.create(originPoint);\n            this._matrix = this._matrix.multiplyCopy(Matrix.translate(originPoint.x, originPoint.y));\n        }\n\n        this._matrix = this._matrix.multiplyCopy(Matrix.scale(scaleX, scaleY));\n\n        if (originPoint) {\n            this._matrix = this._matrix.multiplyCopy(Matrix.translate(-originPoint.x, -originPoint.y));\n        }\n\n        this._optionsChange();\n        return this;\n    }\n\n    rotate(angle, origin) {\n        const originPoint = Point.create(origin) || Point.ZERO;\n\n        this._matrix = this._matrix.multiplyCopy(Matrix.rotate(angle, originPoint.x, originPoint.y));\n\n        this._optionsChange();\n        return this;\n    }\n\n    multiply(transformation) {\n        const matrix = toMatrix(transformation);\n\n        this._matrix = this._matrix.multiplyCopy(matrix);\n\n        this._optionsChange();\n        return this;\n    }\n\n    matrix(matrix) {\n        if (matrix) {\n            this._matrix = matrix;\n            this._optionsChange();\n            return this;\n        }\n\n        return this._matrix;\n    }\n\n    _optionsChange() {\n        this.optionsChange({\n            field: \"transform\",\n            value: this\n        });\n    }\n}\n\nObserversMixin.extend(Transformation.prototype);\n\nexport default Transformation;\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/transformation.js\n **/","\nconst ObserversMixin = {\n    extend: function(proto) {\n        for (let method in this) {\n            if (method !== \"extend\") {\n                proto[method] = this[method];\n            }\n        }\n    },\n\n    observers: function() {\n        this._observers = this._observers || [];\n        return this._observers;\n    },\n\n    addObserver: function(element) {\n        if (!this._observers) {\n            this._observers = [ element ];\n        } else {\n            this._observers.push(element);\n        }\n        return this;\n    },\n\n    removeObserver: function(element) {\n        const observers = this.observers();\n        const index = observers.indexOf(element);\n        if (index !== -1) {\n            observers.splice(index, 1);\n        }\n        return this;\n    },\n\n    trigger: function(methodName, event) {\n        const observers = this._observers;\n\n        if (observers && !this._suspended) {\n            for (let idx = 0; idx < observers.length; idx++) {\n                let observer = observers[idx];\n                if (observer[methodName]) {\n                    observer[methodName](event);\n                }\n            }\n        }\n        return this;\n    },\n\n    optionsChange: function(e = {}) {\n        e.element = this;\n        this.trigger(\"optionsChange\", e);\n    },\n\n    geometryChange: function() {\n        this.trigger(\"geometryChange\", {\n            element: this\n        });\n    },\n\n    suspend: function() {\n        this._suspended = (this._suspended || 0) + 1;\n        return this;\n    },\n\n    resume: function() {\n        this._suspended = Math.max((this._suspended || 0) - 1, 0);\n        return this;\n    },\n\n    _observerField: function(field, value) {\n        if (this[field]) {\n            this[field].removeObserver(this);\n        }\n        this[field] = value;\n        value.addObserver(this);\n    }\n};\n\nexport default ObserversMixin;\n\n\n/** WEBPACK FOOTER **\n ** ./src/mixins/observers-mixin.js\n **/","export default function toMatrix(transformation) {\n    if (transformation && typeof transformation.matrix === \"function\") {\n        return transformation.matrix();\n    }\n\n    return transformation;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/to-matrix.js\n **/","import defined from '../common/defined';\nimport round from '../common/round';\nimport { rad } from './math';\n\nclass Matrix {\n\n    constructor(a = 0, b = 0, c = 0, d = 0, e = 0, f = 0) {\n        this.a = a;\n        this.b = b;\n        this.c = c;\n        this.d = d;\n        this.e = e;\n        this.f = f;\n    }\n\n    multiplyCopy(matrix) {\n        return new Matrix(\n            this.a * matrix.a + this.c * matrix.b,\n            this.b * matrix.a + this.d * matrix.b,\n            this.a * matrix.c + this.c * matrix.d,\n            this.b * matrix.c + this.d * matrix.d,\n            this.a * matrix.e + this.c * matrix.f + this.e,\n            this.b * matrix.e + this.d * matrix.f + this.f\n        );\n    }\n\n    invert() {\n        const { a, b, c: d, d: e, e: g, f: h } = this;\n        const det = a * e - b * d;\n\n        if (det === 0) {\n            return null;\n        }\n\n        return new Matrix(e / det, -b / det, -d / det, a / det,\n                          (d * h - e * g) / det, (b * g - a * h) / det);\n    }\n\n    clone() {\n        return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n    }\n\n    equals(other) {\n        if (!other) {\n            return false;\n        }\n\n        return this.a === other.a && this.b === other.b &&\n               this.c === other.c && this.d === other.d &&\n               this.e === other.e && this.f === other.f;\n    }\n\n    round(precision) {\n        this.a = round(this.a, precision);\n        this.b = round(this.b, precision);\n        this.c = round(this.c, precision);\n        this.d = round(this.d, precision);\n        this.e = round(this.e, precision);\n        this.f = round(this.f, precision);\n\n        return this;\n    }\n\n    toArray(precision) {\n        const result = [ this.a, this.b, this.c, this.d, this.e, this.f ];\n\n        if (defined(precision)) {\n            for (let i = 0; i < result.length; i++) {\n                result[i] = round(result[i], precision);\n            }\n        }\n\n        return result;\n    }\n\n    toString(precision, separator = \",\") {\n        return this.toArray(precision).join(separator);\n    }\n\n    static translate(x, y) {\n        return new Matrix(1, 0, 0, 1, x, y);\n    }\n\n    static unit() {\n        return new Matrix(1, 0, 0, 1, 0, 0);\n    }\n\n    static rotate(angle, x, y) {\n        const matrix = new Matrix();\n        matrix.a = Math.cos(rad(angle));\n        matrix.b = Math.sin(rad(angle));\n        matrix.c = -matrix.b;\n        matrix.d = matrix.a;\n        matrix.e = (x - x * matrix.a + y * matrix.b) || 0;\n        matrix.f = (y - y * matrix.a - x * matrix.b) || 0;\n\n        return matrix;\n    }\n\n    static scale(scaleX, scaleY) {\n        return new Matrix(scaleX, 0, 0, scaleY, 0, 0);\n    }\n}\n\nMatrix.IDENTITY = Matrix.unit();\n\nexport default Matrix;\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/matrix.js\n **/","const UNDEFINED = \"undefined\";\n\nexport default function defined(value) {\n    return typeof value !== UNDEFINED;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/defined.js\n **/","function pow(p) {\n    if (p) {\n        return Math.pow(10, p);\n    }\n\n    return 1;\n}\n\nexport default function round(value, precision) {\n    const power = pow(precision);\n    return Math.round(value * power) / power;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/round.js\n **/","import ComplexNumber from './complex-number';\nimport Point from './point';\nimport transform from './transform';\nimport { PRECISION, DEG_TO_RAD } from './constants';\nimport round from '../common/round';\n\nfunction numberSign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nexport function solveQuadraticEquation(a, b, c) {\n    const squareRoot = Math.sqrt(Math.pow(b, 2) - 4 * a * c);\n    return [\n        (-b + squareRoot) / (2 * a),\n        (-b - squareRoot) / (2 * a)\n    ];\n}\n\n//Cardano's formula\nexport function solveCubicEquation(a, b, c, d) {\n    if (a === 0) {\n        return solveQuadraticEquation(b, c, d);\n    }\n\n    const p = (3 * a * c - Math.pow(b, 2)) / (3 * Math.pow(a, 2));\n    const q = (2 * Math.pow(b, 3) - 9 * a * b * c + 27 * Math.pow(a, 2) * d) / (27 * Math.pow(a, 3));\n    const Q = Math.pow(p / 3, 3) + Math.pow(q / 2, 2);\n    const i = new ComplexNumber(0,1);\n    const b3a = -b / (3 * a);\n    let x1, x2, y1, y2, y3, z1, z2;\n\n    if (Q < 0) {\n        x1 = new ComplexNumber(-q / 2, Math.sqrt(-Q)).nthRoot(3);\n        x2 = new ComplexNumber(-q / 2, - Math.sqrt(-Q)).nthRoot(3);\n    } else {\n        x1 = -q / 2 + Math.sqrt(Q);\n        x1 = new ComplexNumber(numberSign(x1) * Math.pow(Math.abs(x1), 1 / 3));\n        x2 = -q / 2 - Math.sqrt(Q);\n        x2 = new ComplexNumber(numberSign(x2) * Math.pow(Math.abs(x2), 1 / 3));\n    }\n\n    y1 = x1.add(x2);\n\n    z1 = x1.add(x2).multiplyConstant(-1 / 2);\n    z2 = x1.add(x2.negate()).multiplyConstant(Math.sqrt(3) / 2);\n\n    y2 = z1.add(i.multiply(z2));\n    y3 = z1.add(i.negate().multiply(z2));\n\n    const result = [];\n\n    if (y1.isReal()) {\n        result.push(round(y1.real + b3a, PRECISION));\n    }\n    if (y2.isReal()) {\n        result.push(round(y2.real + b3a, PRECISION));\n    }\n    if (y3.isReal()) {\n        result.push(round(y3.real + b3a, PRECISION));\n    }\n\n    return result;\n}\n\nfunction toCubicPolynomial(points, field) {\n    return [ -points[0][field] + 3 * points[1][field] - 3 * points[2][field] + points[3][field],\n        3 * (points[0][field] - 2 * points[1][field] + points[2][field]),\n        3 * (-points[0][field] + points[1][field]),\n        points[0][field]\n    ];\n}\n\nexport function calculateCurveAt(t, field, points) {\n    const t1 = 1 - t;\n    return Math.pow(t1, 3) * points[0][field] +\n        3 * Math.pow(t1, 2) * t * points[1][field] +\n        3 * Math.pow(t, 2) * t1 * points[2][field] +\n        Math.pow(t, 3) * points[3][field];\n}\n\nexport function curveIntersectionsCount(points, point, bbox) {\n    const polynomial = toCubicPolynomial(points, \"x\");\n    const roots = solveCubicEquation(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point.x);\n    let rayIntersection, intersectsRay;\n    let count = 0;\n    for (let i = 0; i < roots.length; i++) {\n        rayIntersection = calculateCurveAt(roots[i], \"y\", points);\n        intersectsRay = close(rayIntersection, point.y) || rayIntersection > point.y;\n        if (intersectsRay && (((roots[i] === 0 || roots[i] === 1) && bbox.bottomRight().x > point.x) || (0 < roots[i] && roots[i] < 1))) {\n            count++;\n        }\n    }\n\n    return count;\n}\n\nexport function lineIntersectionsCount(a, b, point) {\n    let intersects;\n    if (a.x !== b.x) {\n        const minX = Math.min(a.x, b.x);\n        const maxX = Math.max(a.x, b.x);\n        const minY = Math.min(a.y, b.y);\n        const maxY = Math.max(a.y, b.y);\n        const inRange = minX <= point.x && point.x < maxX;\n\n        if (minY === maxY) {\n            intersects = point.y <= minY && inRange;\n        } else {\n            intersects = inRange && (((maxY - minY) * ((a.x - b.x) * (a.y - b.y) > 0 ? point.x - minX : maxX - point.x)) / (maxX - minX) + minY - point.y) >= 0;\n        }\n    }\n    return intersects ? 1 : 0;\n}\n\nexport function lineIntersection(p0, p1, p2, p3) {\n    const s1x = p1.x - p0.x;\n    const s2x = p3.x - p2.x;\n    const s1y = p1.y - p0.y;\n    const s2y = p3.y - p2.y;\n    const nx = p0.x - p2.x;\n    const ny = p0.y - p2.y;\n    const d = s1x * s2y - s2x * s1y;\n    const s = (s1x * ny - s1y * nx) / d;\n    const t = (s2x * ny - s2y * nx) / d;\n\n    if (s >= 0 && s <= 1 && t >= 0 && t <= 1) {\n        return new Point(p0.x + t * s1x, p0.y + t * s1y);\n    }\n}\n\nexport function close(a, b, tolerance = PRECISION) {\n    return round(Math.abs(a - b), tolerance) === 0;\n}\n\nexport function closeOrLess(a, b, tolerance) {\n    return a < b || close(a, b, tolerance);\n}\n\nexport function isOutOfEndPoint(endPoint, controlPoint, point) {\n    const angle = deg(Math.atan2(controlPoint.y - endPoint.y, controlPoint.x - endPoint.x));\n    const rotatedPoint = point.transformCopy(transform().rotate(-angle, endPoint));\n\n    return rotatedPoint.x < endPoint.x;\n}\n\nexport function hasRootsInRange(points, point, field, rootField, range) {\n    const polynomial = toCubicPolynomial(points, rootField);\n    const roots = solveCubicEquation(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point[rootField]);\n    let intersection;\n\n    for (let idx = 0; idx < roots.length; idx++) {\n        if (0 <= roots[idx] && roots[idx] <= 1) {\n            intersection = calculateCurveAt(roots[idx], field, points);\n            if (Math.abs(intersection - point[field]) <= range) {\n                return true;\n            }\n        }\n    }\n}\n\nexport function deg(radians) {\n    return radians / DEG_TO_RAD;\n}\n\nexport function rad(degrees) {\n    return degrees * DEG_TO_RAD;\n}\n\nexport function ellipseExtremeAngles(center, rx, ry, matrix) {\n    let extremeX = 0;\n    let extremeY = 0;\n\n    if (matrix) {\n        extremeX = Math.atan2(matrix.c * ry, matrix.a * rx);\n        if (matrix.b !== 0) {\n            extremeY = Math.atan2(matrix.d * ry, matrix.b * rx);\n        }\n    }\n\n    return {\n        x: extremeX,\n        y: extremeY\n    };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/math.js\n **/","import { PRECISION } from './constants';\nimport round from '../common/round';\n\nclass ComplexNumber {\n\n    constructor(real = 0, img = 0) {\n        this.real = real;\n        this.img = img;\n    }\n\n    add(cNumber) {\n        return new ComplexNumber(round(this.real + cNumber.real, PRECISION), round(this.img + cNumber.img, PRECISION));\n    }\n\n    addConstant(value) {\n        return new ComplexNumber(this.real + value, this.img);\n    }\n\n    negate() {\n        return new ComplexNumber(-this.real, -this.img);\n    }\n\n    multiply(cNumber) {\n        return new ComplexNumber(this.real * cNumber.real - this.img * cNumber.img,\n            this.real * cNumber.img + this.img * cNumber.real);\n    }\n\n    multiplyConstant(value) {\n        return new ComplexNumber(this.real * value, this.img * value);\n    }\n\n    nthRoot(n) {\n        const rad = Math.atan2(this.img, this.real);\n        const r = Math.sqrt(Math.pow(this.img, 2) + Math.pow(this.real, 2));\n        const nthR = Math.pow(r, 1 / n);\n\n        return new ComplexNumber(nthR * Math.cos(rad / n), nthR * Math.sin(rad / n)); //Moivre's formula\n    }\n\n    equals(cNumber) {\n        return this.real === cNumber.real && this.img === cNumber.img;\n    }\n\n    isReal() {\n        return this.img === 0;\n    }\n}\n\nexport default ComplexNumber;\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/complex-number.js\n **/","const DEG_TO_RAD = Math.PI / 180;\nconst MAX_NUM = Number.MAX_VALUE;\nconst MIN_NUM = -Number.MAX_VALUE;\nconst PRECISION = 10;\n\nexport { DEG_TO_RAD, MAX_NUM, MIN_NUM, PRECISION };\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/constants.js\n **/","import defineAccessors from '../accessors/define-accessors';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport { MIN_NUM, MAX_NUM } from './constants';\nimport toMatrix from '../common/to-matrix';\nimport defined from '../common/defined';\nimport round from '../common/round';\nimport transform from './transform';\n\nclass Point {\n\n    constructor(x = 0, y = 0) {\n        this.x = x;\n        this.y = y;\n    }\n\n    equals(other) {\n        return other && other.x === this.x && other.y === this.y;\n    }\n\n    clone() {\n        return new Point(this.x, this.y);\n    }\n\n    rotate(angle, origin) {\n        return this.transform(\n            transform().rotate(angle, origin)\n        );\n    }\n\n    translate(x, y) {\n        this.x += x;\n        this.y += y;\n\n        this.geometryChange();\n\n        return this;\n    }\n\n    translateWith(point) {\n        return this.translate(point.x, point.y);\n    }\n\n    move(x, y) {\n        this.x = this.y = 0;\n        return this.translate(x, y);\n    }\n\n    scale(scaleX, scaleY = scaleX) {\n        this.x *= scaleX;\n        this.y *= scaleY;\n\n        this.geometryChange();\n\n        return this;\n    }\n\n    scaleCopy(scaleX, scaleY) {\n        return this.clone().scale(scaleX, scaleY);\n    }\n\n    transform(transformation) {\n        const matrix = toMatrix(transformation);\n        const { x, y } = this;\n\n        this.x = matrix.a * x + matrix.c * y + matrix.e;\n        this.y = matrix.b * x + matrix.d * y + matrix.f;\n\n        this.geometryChange();\n\n        return this;\n    }\n\n    transformCopy(transformation) {\n        const point = this.clone();\n\n        if (transformation) {\n            point.transform(transformation);\n        }\n\n        return point;\n    }\n\n    distanceTo(point) {\n        const dx = this.x - point.x;\n        const dy = this.y - point.y;\n\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n\n    round(digits) {\n        this.x = round(this.x, digits);\n        this.y = round(this.y, digits);\n\n        this.geometryChange();\n\n        return this;\n    }\n\n    toArray(digits) {\n        const doRound = defined(digits);\n        const x = doRound ? round(this.x, digits) : this.x;\n        const y = doRound ? round(this.y, digits) : this.y;\n\n        return [ x, y ];\n    }\n\n    toString(digits, separator = \" \") {\n        let { x, y } = this;\n\n        if (defined(digits)) {\n            x = round(x, digits);\n            y = round(y, digits);\n        }\n\n        return x + separator + y;\n    }\n\n    static create(arg0, arg1) {\n        if (defined(arg0)) {\n            if (arg0 instanceof Point) {\n                return arg0;\n            } else if (arguments.length === 1 && arg0.length === 2) {\n                return new Point(arg0[0], arg0[1]);\n            }\n\n            return new Point(arg0, arg1);\n        }\n    }\n\n    static min() {\n        let minX = MAX_NUM;\n        let minY = MAX_NUM;\n\n        for (let i = 0; i < arguments.length; i++) {\n            let point = arguments[i];\n            minX = Math.min(point.x, minX);\n            minY = Math.min(point.y, minY);\n        }\n\n        return new Point(minX, minY);\n    }\n\n    static max() {\n        let maxX = MIN_NUM;\n        let maxY = MIN_NUM;\n\n        for (let i = 0; i < arguments.length; i++) {\n            const point = arguments[i];\n            maxX = Math.max(point.x, maxX);\n            maxY = Math.max(point.y, maxY);\n        }\n\n        return new Point(maxX, maxY);\n    }\n\n    static minPoint() {\n        return new Point(MIN_NUM, MIN_NUM);\n    }\n\n    static maxPoint() {\n        return new Point(MAX_NUM, MAX_NUM);\n    }\n\n    static get ZERO() {\n        return new Point(0, 0);\n    }\n}\n\ndefineAccessors(Point.prototype, [ \"x\", \"y\" ]);\nObserversMixin.extend(Point.prototype);\n\nexport default Point;\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/point.js\n **/","function setAccessor(field) {\n    return function(value) {\n        if (this[field] !== value) {\n            this[field] = value;\n            this.geometryChange();\n        }\n\n        return this;\n    };\n}\n\nfunction getAccessor(field) {\n    return function() {\n        return this[field];\n    };\n}\n\nexport default function defineAccessors(fn, fields) {\n    for (let i = 0; i < fields.length; i++) {\n        let name = fields[i];\n        let capitalized = name.charAt(0).toUpperCase() +\n                          name.substring(1, name.length);\n\n        fn[\"set\" + capitalized] = setAccessor(name);\n        fn[\"get\" + capitalized] = getAccessor(name);\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/accessors/define-accessors.js\n **/","const wnd = typeof window !== \"undefined\" ? window : {};\n\nconst animationFrame = wnd.requestAnimationFrame ||\n                    wnd.webkitRequestAnimationFrame ||\n                    wnd.mozRequestAnimationFrame ||\n                    wnd.oRequestAnimationFrame ||\n                    wnd.msRequestAnimationFrame ||\n                    function(callback) { setTimeout(callback, 1000 / 60); };\n\nexport default function(callback) {\n    animationFrame.call(wnd, callback);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/animation-frame.js\n **/","export { default as Surface } from './canvas/surface';\n\nexport { default as RootNode } from './canvas/root-node';\nexport { default as Node } from './canvas/node';\nexport { default as GroupNode } from './canvas/group-node';\nexport { default as ArcNode } from './canvas/arc-node';\nexport { default as CircleNode } from './canvas/circle-node';\nexport { default as RectNode } from './canvas/rect-node';\nexport { default as ImageNode } from './canvas/image-node';\nexport { default as TextNode } from './canvas/text-node';\nexport { default as PathNode } from './canvas/path-node';\nexport { default as MultiPathNode } from './canvas/multi-path-node';\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas.js\n **/","import BaseSurface from '../core/surface';\nimport SurfaceFactory from '../core/surface-factory';\nimport elementSize from '../common/element-size';\nimport createPromise from '../common/create-promise';\nimport RootNode from './root-node';\nimport ShapesQuadTree from '../search/shapes-quad-tree';\nimport Promise from 'promise';\n\nclass Surface extends BaseSurface {\n\n    constructor(element, options) {\n        super(element, options);\n\n        this.element.innerHTML = this._template(this);\n\n        const canvas = this.element.firstElementChild;\n        const size = elementSize(element);\n\n        canvas.width = size.width;\n        canvas.height = size.height;\n\n        this._rootElement = canvas;\n\n        this._root = new RootNode(canvas);\n\n        this._mouseTrackHandler = this._trackMouse.bind(this);\n\n        this.element.addEventListener(\"click\", this._mouseTrackHandler, false);\n        this.element.addEventListener(\"mousemove\", this._mouseTrackHandler, false);\n    }\n\n    destroy() {\n        super.destroy();\n\n        if (this._root) {\n            this._root.destroy();\n            this._root = null;\n        }\n    }\n\n    draw(element) {\n        super.draw(element);\n        this._root.load([ element ], undefined, this.options.cors);\n    }\n\n    clear() {\n        super.clear();\n        this._root.clear();\n    }\n\n    eventTarget(e) {\n        if (this._searchTree) {\n            const point = this._surfacePoint(e);\n            const shape = this._searchTree.pointShape(point);\n            return shape;\n        }\n    }\n\n    image() {\n        const { _root: root, _rootElement: rootElement } = this;\n        const loadingStates = [];\n\n        root.traverse((childNode) => {\n            if (childNode.loading) {\n                loadingStates.push(childNode.loading);\n            }\n        });\n\n        const promise = createPromise();\n        Promise.all(loadingStates).then(() => {\n            root._invalidate();\n\n            try {\n                const data = rootElement.toDataURL();\n                promise.resolve(data);\n            } catch (e) {\n                promise.reject(e);\n            }\n        }).catch((e) => {\n            promise.reject(e);\n        });\n\n        return promise;\n    }\n\n    suspendTracking() {\n        super.suspendTracking();\n        if (this._searchTree) {\n            this._searchTree.clear();\n            delete this._searchTree;\n        }\n    }\n\n    resumeTracking() {\n        super.resumeTracking();\n        if (!this._searchTree) {\n            this._searchTree = new ShapesQuadTree();\n\n            const childNodes = this._root.childNodes;\n            const rootElements = [];\n            for (let idx = 0; idx < childNodes.length; idx++) {\n                rootElements.push(childNodes[idx].srcElement);\n            }\n            this._searchTree.add(rootElements);\n        }\n    }\n\n    _resize() {\n        this._rootElement.width = this._size.width;\n        this._rootElement.height = this._size.height;\n\n        this._root.invalidate();\n    }\n\n    _template() {\n        return \"<canvas style='width: 100%; height: 100%;'></canvas>\";\n    }\n\n    _enableTracking() {\n        this._searchTree = new ShapesQuadTree();\n\n        super._enableTracking();\n    }\n\n    _trackMouse(e) {\n        if (this._suspendedTracking) {\n            return;\n        }\n\n        const shape = this.eventTarget(e);\n\n        if (e.type !== \"click\") {\n            const currentShape = this._currentShape;\n            if (currentShape && currentShape !== shape) {\n                this.trigger(\"mouseleave\", {\n                    element: currentShape,\n                    originalEvent: e,\n                    type: \"mouseleave\"\n                });\n            }\n\n            if (shape && currentShape !== shape) {\n                this.trigger(\"mouseenter\", {\n                    element: shape,\n                    originalEvent: e,\n                    type: \"mouseenter\"\n                });\n            }\n\n            this.trigger(\"mousemove\", {\n                element: shape,\n                originalEvent: e,\n                type: \"mousemove\"\n            });\n\n            this._currentShape = shape;\n        } else if (shape) {\n            this.trigger(\"click\", {\n                element: shape,\n                originalEvent: e,\n                type: \"click\"\n            });\n        }\n    }\n}\n\nSurface.prototype.type = \"canvas\";\n\nif (document.createElement(\"canvas\").getContext) {\n    SurfaceFactory.current.register(\"canvas\", Surface, 20);\n}\n\nexport default Surface;\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas/surface.js\n **/","import Group from '../shapes/group';\nimport Point from '../geometry/point';\nimport SurfaceFactory from './surface-factory';\nimport Observable from './observable';\nimport elementStyles from '../common/element-styles';\nimport elementSize from '../common/element-size';\nimport elementOffset from '../common/element-offset';\n\nconst events = [\n    \"click\",\n    \"mouseenter\",\n    \"mouseleave\",\n    \"mousemove\",\n    \"resize\",\n    \"tooltipOpen\",\n    \"tooltipClose\"\n];\n\nclass Surface extends Observable {\n\n    constructor(element, options) {\n        super();\n\n        this.options = Object.assign({}, options);\n        this.element = element;\n\n        this._click = this._handler(\"click\");\n        this._mouseenter = this._handler(\"mouseenter\");\n        this._mouseleave = this._handler(\"mouseleave\");\n        this._mousemove = this._handler(\"mousemove\");\n\n        this._visual = new Group();\n\n        elementSize(element, this.options);\n\n        this.bind(events, options);\n\n        this._enableTracking();\n    }\n\n    draw(element) {\n        this._visual.children.push(element);\n    }\n\n    clear() {\n        this._visual.children = [];\n    }\n\n    destroy() {\n        this._visual = null;\n        this.unbind();\n    }\n\n    eventTarget(e) {\n        let domNode = e.target;\n        let node;\n\n        while (!node && domNode) {\n            node = domNode._kendoNode;\n            if (domNode === this.element) {\n                break;\n            }\n\n            domNode = domNode.parentElement;\n        }\n\n        if (node) {\n            return node.srcElement;\n        }\n    }\n\n    exportVisual() {\n        return this._visual;\n    }\n\n    getSize() {\n        return elementSize(this.element);\n    }\n\n    setSize(size) {\n        elementSize(this.element, size);\n\n        this._size = size;\n        this._resize();\n    }\n\n    resize(force) {\n        const size = this.getSize();\n        const currentSize = this._size;\n\n        if (force || (size.width > 0 || size.height > 0) && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {\n            this._size = size;\n            this._resize(size, force);\n            this.trigger(\"resize\", size);\n        }\n    }\n\n    size(size) {\n        if (!size) {\n            return this.getSize();\n        }\n\n        this.setSize(size);\n    }\n\n    suspendTracking() {\n        this._suspendedTracking = true;\n    }\n\n    resumeTracking() {\n        this._suspendedTracking = false;\n    }\n\n    _enableTracking() {}\n\n    _resize() {}\n\n    _handler(event) {\n        return (e) => {\n            const node = this.eventTarget(e);\n            if (node && !this._suspendedTracking) {\n                this.trigger(event, {\n                    element: node,\n                    originalEvent: e,\n                    type: event\n                });\n            }\n        };\n    }\n\n    _elementOffset() {\n        const element = this.element;\n        const { paddingLeft, paddingTop } = elementStyles(element, [ \"paddingLeft\", \"paddingTop\" ]);\n        const { left, top } = elementOffset(element);\n\n        return {\n            left: left + parseInt(paddingLeft, 10),\n            top: top + parseInt(paddingTop, 10)\n        };\n    }\n\n    _surfacePoint(event) {\n        const offset = this._elementOffset();\n        const coord = eventCoordinates(event);\n        const x = coord.x - offset.left;\n        const y = coord.y - offset.top;\n\n        return new Point(x, y);\n    }\n}\n\nSurface.create = function(element, options) {\n    return SurfaceFactory.current.create(element, options);\n};\n\nfunction eventCoordinates(event) {\n    return {\n        x: event.pageX || event.clientX || 0,\n        y: event.pageY || event.clientY || 0\n    };\n}\n\nexport default Surface;\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/surface.js\n **/","import Element from './element';\nimport Traversable from '../mixins/traversable';\nimport append from '../common/append';\nimport elementsBoundingBox from './utils/elements-bounding-box';\nimport elementsClippedBoundingBox from './utils/elements-clippend-bounding-box';\n\nclass Group extends Element {\n\n    constructor(options) {\n        super(options);\n        this.children = [];\n    }\n\n    childrenChange(action, items, index) {\n        this.trigger(\"childrenChange\",{\n            action: action,\n            items: items,\n            index: index\n        });\n    }\n\n    append() {\n        append(this.children, arguments);\n        this._reparent(arguments, this);\n\n        this.childrenChange(\"add\", arguments);\n\n        return this;\n    }\n\n    insert(index, element) {\n        this.children.splice(index, 0, element);\n        element.parent = this;\n\n        this.childrenChange(\"add\", [ element ], index);\n\n        return this;\n    }\n\n    remove(element) {\n        const index = this.children.indexOf(element);\n        if (index >= 0) {\n            this.children.splice(index, 1);\n            element.parent = null;\n            this.childrenChange(\"remove\", [ element ], index);\n        }\n\n        return this;\n    }\n\n    removeAt(index) {\n        if (0 <= index && index < this.children.length) {\n            let element = this.children[index];\n            this.children.splice(index, 1);\n            element.parent = null;\n            this.childrenChange(\"remove\", [ element ], index);\n        }\n\n        return this;\n    }\n\n    clear() {\n        const items = this.children;\n        this.children = [];\n        this._reparent(items, null);\n\n        this.childrenChange(\"remove\", items, 0);\n\n        return this;\n    }\n\n    bbox(transformation) {\n        return elementsBoundingBox(this.children, true, this.currentTransform(transformation));\n    }\n\n    rawBBox() {\n        return elementsBoundingBox(this.children, false);\n    }\n\n    _clippedBBox(transformation) {\n        return elementsClippedBoundingBox(this.children, this.currentTransform(transformation));\n    }\n\n    currentTransform(transformation) {\n        return Element.prototype.currentTransform.call(this, transformation) || null;\n    }\n\n    containsPoint(point, parentTransform) {\n        if (this.visible()) {\n            const children = this.children;\n            const transform = this.currentTransform(parentTransform);\n            for (let idx = 0; idx < children.length; idx++) {\n                if (children[idx].containsPoint(point, transform)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    _reparent(elements, newParent) {\n        for (let i = 0; i < elements.length; i++) {\n            const child = elements[i];\n            const parent = child.parent;\n            if (parent && parent !== this && parent.remove) {\n                parent.remove(child);\n            }\n\n            child.parent = newParent;\n        }\n    }\n}\n\nGroup.prototype.nodeType = \"Group\";\n\nTraversable.extend(Group.prototype, \"children\");\n\nexport default Group;\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/group.js\n **/","import OptionsStore from '../core/options-store';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport Rect from '../geometry/rect';\nimport Matrix from '../geometry/matrix';\nimport createTransform from '../geometry/transform';\nimport valueOrDefault from '../common/value-or-default';\nimport definitionId from '../common/definition-id';\nimport defined from '../common/defined';\nimport toMatrix from '../common/to-matrix';\nimport isTransparent from '../common/is-transparent';\n\nclass Element {\n\n    constructor(options) {\n        this._initOptions(options);\n    }\n\n    _initOptions(options = {}) {\n        const { clip, transform } = options;\n\n        if (transform) {\n            options.transform = createTransform(transform);\n        }\n\n        if (clip && !clip.id) {\n            clip.id = definitionId();\n        }\n\n        this.options = new OptionsStore(options);\n        this.options.addObserver(this);\n    }\n\n    transform(transform) {\n        if (defined(transform)) {\n            this.options.set(\"transform\", createTransform(transform));\n        } else {\n            return this.options.get(\"transform\");\n        }\n    }\n\n    parentTransform() {\n        let element = this;\n        let parentMatrix;\n\n        while (element.parent) {\n            element = element.parent;\n            let transformation = element.transform();\n            if (transformation) {\n                parentMatrix = transformation.matrix().multiplyCopy(parentMatrix || Matrix.unit());\n            }\n        }\n\n        if (parentMatrix) {\n            return createTransform(parentMatrix);\n        }\n    }\n\n    currentTransform(parentTransform = this.parentTransform()) {\n        const elementTransform = this.transform();\n        const elementMatrix = toMatrix(elementTransform);\n\n        let parentMatrix = toMatrix(parentTransform);\n        let combinedMatrix;\n\n        if (elementMatrix && parentMatrix) {\n            combinedMatrix = parentMatrix.multiplyCopy(elementMatrix);\n        } else {\n            combinedMatrix = elementMatrix || parentMatrix;\n        }\n\n        if (combinedMatrix) {\n            return createTransform(combinedMatrix);\n        }\n    }\n\n    visible(visible) {\n        if (defined(visible)) {\n            this.options.set(\"visible\", visible);\n            return this;\n        }\n\n        return this.options.get(\"visible\") !== false;\n    }\n\n    clip(clip) {\n        const options = this.options;\n        if (defined(clip)) {\n            if (clip && !clip.id) {\n                clip.id = definitionId();\n            }\n            options.set(\"clip\", clip);\n            return this;\n        }\n\n        return options.get(\"clip\");\n    }\n\n    opacity(value) {\n        if (defined(value)) {\n            this.options.set(\"opacity\", value);\n            return this;\n        }\n\n        return valueOrDefault(this.options.get(\"opacity\"), 1);\n    }\n\n    clippedBBox(transformation) {\n        const bbox = this._clippedBBox(transformation);\n        if (bbox) {\n            const clip = this.clip();\n            return clip ? Rect.intersect(bbox, clip.bbox(transformation)) : bbox;\n        }\n    }\n\n    containsPoint(point, parentTransform) {\n        if (this.visible()) {\n            const transform = this.currentTransform(parentTransform);\n            let transformedPoint = point;\n            if (transform) {\n                transformedPoint = point.transformCopy(transform.matrix().invert());\n            }\n            return (this._hasFill() && this._containsPoint(transformedPoint)) || (this._isOnPath && this._hasStroke() && this._isOnPath(transformedPoint));\n        }\n        return false;\n    }\n\n    _hasFill() {\n        const fill = this.options.fill;\n        return fill && !isTransparent(fill.color);\n    }\n\n    _hasStroke() {\n        const stroke = this.options.stroke;\n        return stroke && stroke.width > 0 && !isTransparent(stroke.color);\n    }\n\n    _clippedBBox(transformation) {\n        return this.bbox(transformation);\n    }\n}\n\nElement.prototype.nodeType = \"Element\";\n\nObserversMixin.extend(Element.prototype);\n\nexport default Element;\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/element.js\n **/","import ObserversMixin from '../mixins/observers-mixin';\nimport defined from '../common/defined';\nimport isClass from '../common/is-class';\n\nconst toString = {}.toString;\n\nclass OptionsStore {\n\n    constructor(options, prefix = \"\") {\n        this.prefix = prefix;\n\n        for (let field in options) {\n            let member = options[field];\n            member = this._wrap(member, field);\n            this[field] = member;\n        }\n    }\n\n    get(field) {\n        const parts = field.split(\".\");\n        let result = this;\n\n        while (parts.length && result) {\n            let part = parts.shift();\n            result = result[part];\n        }\n\n        return result;\n    }\n\n    set(field, value) {\n        const current = this.get(field);\n\n        if (current !== value) {\n            this._set(field, this._wrap(value, field));\n            this.optionsChange({\n                field: this.prefix + field,\n                value: value\n            });\n        }\n    }\n\n    _set(field, value) {\n        const composite = field.indexOf(\".\") >= 0;\n        let parentObj = this;\n        let fieldName = field;\n\n        if (composite) {\n            const parts = fieldName.split(\".\");\n            let prefix = this.prefix;\n\n            while (parts.length > 1) {\n                fieldName = parts.shift();\n                prefix += fieldName + \".\";\n\n                let obj = parentObj[fieldName];\n\n                if (!obj) {\n                    obj = new OptionsStore({}, prefix);\n                    obj.addObserver(this);\n                    parentObj[fieldName] = obj;\n                }\n                parentObj = obj;\n            }\n            fieldName = parts[0];\n        }\n\n        parentObj._clear(fieldName);\n        parentObj[fieldName] = value;\n    }\n\n    _clear(field) {\n        const current = this[field];\n        if (current && current.removeObserver) {\n            current.removeObserver(this);\n        }\n    }\n\n    _wrap(object, field) {\n        const type = toString.call(object);\n        let wrapped = object;\n\n        if (wrapped !== null && defined(wrapped) && type === \"[object Object]\") {\n            if (!isClass(wrapped)) {\n                wrapped = new OptionsStore(wrapped, this.prefix + field);\n            }\n\n            wrapped.addObserver(this);\n        }\n\n        return wrapped;\n    }\n}\n\nObserversMixin.extend(OptionsStore.prototype);\n\nexport default OptionsStore;\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/options-store.js\n **/","export default function isClass(obj) {\n    return obj.constructor &&\n            !hasOwnProperty.call( obj, \"constructor\" ) &&\n            !hasOwnProperty.call( obj.constructor.prototype, \"isPrototypeOf\");\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/is-class.js\n **/","import ObserversMixin from '../mixins/observers-mixin';\nimport Point from './point';\nimport Size from './size';\n\nclass Rect {\n    constructor(origin = new Point(), size = new Size()) {\n        this.setOrigin(origin);\n        this.setSize(size);\n    }\n\n    clone() {\n        return new Rect(\n            this.origin.clone(),\n            this.size.clone()\n        );\n    }\n\n    equals(other) {\n        return other &&\n               other.origin.equals(this.origin) &&\n               other.size.equals(this.size);\n    }\n\n    setOrigin(value) {\n        this._observerField(\"origin\", Point.create(value));\n        this.geometryChange();\n        return this;\n    }\n\n    getOrigin() {\n        return this.origin;\n    }\n\n    setSize(value) {\n        this._observerField(\"size\", Size.create(value));\n        this.geometryChange();\n        return this;\n    }\n\n    getSize() {\n        return this.size;\n    }\n\n    width() {\n        return this.size.width;\n    }\n\n    height() {\n        return this.size.height;\n    }\n\n    topLeft() {\n        return this.origin.clone();\n    }\n\n    bottomRight() {\n        return this.origin.clone().translate(this.width(), this.height());\n    }\n\n    topRight() {\n        return this.origin.clone().translate(this.width(), 0);\n    }\n\n    bottomLeft() {\n        return this.origin.clone().translate(0, this.height());\n    }\n\n    center() {\n        return this.origin.clone().translate(this.width() / 2, this.height() / 2);\n    }\n\n    bbox(matrix) {\n        const tl = this.topLeft().transformCopy(matrix);\n        const tr = this.topRight().transformCopy(matrix);\n        const br = this.bottomRight().transformCopy(matrix);\n        const bl = this.bottomLeft().transformCopy(matrix);\n\n        return Rect.fromPoints(tl, tr, br, bl);\n    }\n\n    transformCopy(m) {\n        return Rect.fromPoints(\n            this.topLeft().transform(m),\n            this.bottomRight().transform(m)\n        );\n    }\n\n    expand(x, y = x) {\n\n        this.size.width += 2 * x;\n        this.size.height += 2 * y;\n\n        this.origin.translate(-x, -y);\n\n        return this;\n    }\n\n    expandCopy(x, y) {\n        return this.clone().expand(x, y);\n    }\n\n    containsPoint(point) {\n        const origin = this.origin;\n        const bottomRight = this.bottomRight();\n        return !(point.x < origin.x || point.y < origin.y || bottomRight.x < point.x || bottomRight.y < point.y);\n    }\n\n    _isOnPath(point, width) {\n        const rectOuter = this.expandCopy(width, width);\n        const rectInner = this.expandCopy(-width, -width);\n\n        return rectOuter.containsPoint(point) && !rectInner.containsPoint(point);\n    }\n\n    static fromPoints() {\n        const topLeft = Point.min.apply(null, arguments);\n        const bottomRight = Point.max.apply(null, arguments);\n        const size = new Size(\n            bottomRight.x - topLeft.x,\n            bottomRight.y - topLeft.y\n        );\n\n        return new Rect(topLeft, size);\n    }\n\n    static union(a, b) {\n        return Rect.fromPoints(\n            Point.min(a.topLeft(), b.topLeft()),\n            Point.max(a.bottomRight(), b.bottomRight())\n        );\n    }\n\n    static intersect(a, b) {\n        const rect1 = {\n            left: a.topLeft().x,\n            top: a.topLeft().y,\n            right: a.bottomRight().x,\n            bottom: a.bottomRight().y\n        };\n\n        const rect2 = {\n            left: b.topLeft().x,\n            top: b.topLeft().y,\n            right: b.bottomRight().x,\n            bottom: b.bottomRight().y\n        };\n\n        if (rect1.left <= rect2.right &&\n            rect2.left <= rect1.right &&\n            rect1.top <= rect2.bottom &&\n            rect2.top <= rect1.bottom) {\n            return Rect.fromPoints(\n                new Point(Math.max(rect1.left, rect2.left), Math.max(rect1.top, rect2.top)),\n                new Point(Math.min(rect1.right, rect2.right), Math.min(rect1.bottom, rect2.bottom))\n            );\n        }\n    }\n}\n\nObserversMixin.extend(Rect.prototype);\n\nexport default Rect;\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/rect.js\n **/","import defineAccessors from '../accessors/define-accessors';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport defined from '../common/defined';\nimport round from '../common/round';\n\nclass Size {\n    constructor(width = 0, height = 0) {\n        this.width = width;\n        this.height = height;\n    }\n\n    equals(other) {\n        return other && other.width === this.width && other.height === this.height;\n    }\n\n    clone() {\n        return new Size(this.width, this.height);\n    }\n\n    toArray(digits) {\n        const doRound = defined(digits);\n        const width = doRound ? round(this.width, digits) : this.width;\n        const height = doRound ? round(this.height, digits) : this.height;\n\n        return [ width, height ];\n    }\n\n    static create(arg0, arg1) {\n        if (defined(arg0)) {\n            if (arg0 instanceof Size) {\n                return arg0;\n            } else if (arguments.length === 1 && arg0.length === 2) {\n                return new Size(arg0[0], arg0[1]);\n            }\n\n            return new Size(arg0, arg1);\n        }\n    }\n\n    static get ZERO() {\n        return new Size(0, 0);\n    }\n}\n\ndefineAccessors(Size.prototype, [ \"width\", \"height\" ]);\nObserversMixin.extend(Size.prototype);\n\nexport default Size;\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/size.js\n **/","import defined from './defined';\n\nexport default function valueOrDefault(value, defaultValue) {\n    return defined(value) ? value : defaultValue;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/value-or-default.js\n **/","let defId = 1;\n\nexport default function definitionId() {\n    return \"kdef\" + defId++;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/definition-id.js\n **/","import defined from './defined';\n\nexport default function isTransparent(color) {\n    return color === \"\" || color === null || color === \"none\" || color === \"transparent\" || !defined(color);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/is-transparent.js\n **/","\nconst Traversable = {\n    extend: function(proto, childrenField) {\n        proto.traverse = function(callback) {\n            const children = this[childrenField];\n\n            for (let i = 0; i < children.length; i++) {\n                let child = children[i];\n\n                if (child.traverse) {\n                    child.traverse(callback);\n                } else {\n                    callback(child);\n                }\n            }\n\n            return this;\n        };\n    }\n};\n\nexport default Traversable;\n\n\n/** WEBPACK FOOTER **\n ** ./src/mixins/traversable.js\n **/","export default function append(first, second) {\n    first.push.apply(first, second);\n    return first;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/append.js\n **/","import Rect from '../../geometry/rect';\n\nexport default function elementsBoundingBox(elements, applyTransform, transformation) {\n    let boundingBox;\n\n    for (let i = 0; i < elements.length; i++) {\n        let element = elements[i];\n        if (element.visible()) {\n            let elementBoundingBox = applyTransform ? element.bbox(transformation) : element.rawBBox();\n            if (elementBoundingBox) {\n                if (boundingBox) {\n                    boundingBox = Rect.union(boundingBox, elementBoundingBox);\n                } else {\n                    boundingBox = elementBoundingBox;\n                }\n            }\n        }\n    }\n\n    return boundingBox;\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/utils/elements-bounding-box.js\n **/","import Rect from '../../geometry/rect';\n\nexport default function elementsClippedBoundingBox(elements, transformation) {\n    let boundingBox;\n\n    for (let i = 0; i < elements.length; i++) {\n        let element = elements[i];\n        if (element.visible()) {\n            let elementBoundingBox = element.clippedBBox(transformation);\n            if (elementBoundingBox) {\n                if (boundingBox) {\n                    boundingBox = Rect.union(boundingBox, elementBoundingBox);\n                } else {\n                    boundingBox = elementBoundingBox;\n                }\n            }\n        }\n    }\n\n    return boundingBox;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/utils/elements-clippend-bounding-box.js\n **/","class SurfaceFactory {\n    constructor() {\n        this._items = [];\n    }\n\n    register(name, type, order) {\n        const items = this._items;\n        const first = items[0];\n        const entry = {\n            name: name,\n            type: type,\n            order: order\n        };\n\n        if (!first || order < first.order) {\n            items.unshift(entry);\n        } else {\n            items.push(entry);\n        }\n    }\n\n    create(element, options) {\n        const items = this._items;\n        let match = items[0];\n\n        if (options && options.type) {\n            const preferred = options.type.toLowerCase();\n            for (let i = 0; i < items.length; i++) {\n                if (items[i].name === preferred) {\n                    match = items[i];\n                    break;\n                }\n            }\n        }\n\n        if (match) {\n            return new match.type(element, options);\n        }\n\n        console.log( // eslint-disable-line no-console\n            `Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\\n\n            - The browser does not support SVG and Canvas. User agent: $ { navigator.userAgent }`);\n    }\n}\n\nSurfaceFactory.current = new SurfaceFactory();\n\nexport default SurfaceFactory;\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/surface-factory.js\n **/","class Observable {\n    constructor() {\n        this._events = {};\n    }\n\n    bind(eventName, handlers, one) {\n        const eventNames = getArray(eventName);\n        const handlersIsFunction = isFunction(handlers);\n        const length = eventNames.length;\n\n        if (handlers === undefined) {\n            for (let field in eventName) {\n                this.bind(field, eventName[field]);\n            }\n            return this;\n        }\n\n        for (let idx = 0; idx < length; idx++) {\n            const eventName = eventNames[idx];\n\n            let handler = handlersIsFunction ? handlers : handlers[eventName];\n\n            if (handler) {\n                if (one) {\n                    const original = handler;\n                    handler = () => { // eslint-disable-line no-loop-func\n                        this.unbind(eventName, handler);\n                        original.apply(this, arguments);\n                    };\n                    handler.original = original;\n                }\n                let events = this._events[eventName] = this._events[eventName] || [];\n                events.push(handler);\n            }\n        }\n\n        return this;\n    }\n\n    one(eventNames, handlers) {\n        return this.bind(eventNames, handlers, true);\n    }\n\n    first(eventName, handlers) {\n        const eventNames = getArray(eventName);\n        const handlersIsFunction = isFunction(handlers);\n\n        for (let idx = 0, length = eventNames.length; idx < length; idx++) {\n            const eventName = eventNames[idx];\n\n            const handler = handlersIsFunction ? handlers : handlers[eventName];\n\n            if (handler) {\n                const events = this._events[eventName] = this._events[eventName] || [];\n                events.unshift(handler);\n            }\n        }\n\n        return this;\n    }\n\n    trigger(eventName, e = {}) {\n        let events = this._events[eventName];\n\n        if (events) {\n            const length = events.length;\n\n            e.sender = this;\n            e._defaultPrevented = false;\n            e.preventDefault = preventDefault;\n            e.isDefaultPrevented = isDefaultPrevented;\n\n            events = events.slice();\n\n            for (let idx = 0; idx < length; idx++) {\n                events[idx].call(this, e);\n            }\n\n            return e._defaultPrevented === true;\n        }\n\n        return false;\n    }\n\n    unbind(eventName, handler) {\n        const events = this._events[eventName];\n\n        if (eventName === undefined) {\n            this._events = {};\n        } else if (events) {\n            if (handler) {\n                for (let idx = events.length - 1; idx >= 0; idx--) {\n                    if (events[idx] === handler || events[idx].original === handler) {\n                        events.splice(idx, 1);\n                    }\n                }\n            } else {\n                this._events[eventName] = [];\n            }\n        }\n\n        return this;\n    }\n}\n\nfunction isFunction(value) {\n    return typeof value === \"function\";\n}\n\nfunction getArray(value) {\n    return typeof value === \"string\" ? [ value ] : value;\n}\n\nfunction preventDefault() {\n    this._defaultPrevented = true;\n}\n\nfunction isDefaultPrevented() {\n    return this._defaultPrevented === true;\n}\n\nexport default Observable;\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/observable.js\n **/","export default function elementStyles(element, styles) {\n    const result = {};\n    const style = window.getComputedStyle(element);\n    const stylesArray = Array.isArray(styles) ? styles : [ styles ];\n\n    for (let idx = 0; idx < stylesArray.length; idx++) {\n        let field = stylesArray[idx];\n        result[field] = style[field];\n    }\n\n    return result;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/element-styles.js\n **/","import elementStyles from './element-styles';\n\nfunction getPixels(value) {\n    if (isNaN(value)) {\n        return value;\n    }\n    return value + \"px\";\n}\n\nexport default function elementSize(element, size) {\n    if (size) {\n        const { width, height } = size;\n\n        if (width) {\n            element.style.width = getPixels(width);\n        }\n\n        if (height) {\n            element.style.height = getPixels(height);\n        }\n\n    } else {\n        const size = elementStyles(element, [ 'width', 'height' ]);\n\n        return {\n            width: parseInt(size.width, 10),\n            height: parseInt(size.height, 10)\n        };\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/element-size.js\n **/","export default function elementOffset(element) {\n    const box = element.getBoundingClientRect();\n\n    const documentElement = document.documentElement;\n\n    return {\n        top: box.top + (window.pageYOffset || documentElement.scrollTop) - (documentElement.clientTop || 0),\n        left: box.left + (window.pageXOffset || documentElement.scrollLeft) - (documentElement.clientLeft || 0)\n    };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/element-offset.js\n **/","import Promise from 'promise';\n\nexport default function createPromise() {\n    let resolveFn, rejectFn;\n    const promise = new Promise((resolve, reject) => {\n        resolveFn = (data) => {\n            promise.state = \"resolved\";\n            resolve(data);\n        };\n        rejectFn = (data) => {\n            promise.state = \"rejected\";\n            reject(data);\n        };\n    });\n    promise.state = \"pending\";\n    promise.resolve = resolveFn;\n    promise.reject = rejectFn;\n    return promise;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/create-promise.js\n **/","'use strict';\n\nmodule.exports = require('./lib')\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/promise/index.js\n ** module id = 55\n ** module chunks = 2 3 6\n **/","'use strict';\n\nmodule.exports = require('./core.js');\nrequire('./done.js');\nrequire('./finally.js');\nrequire('./es6-extensions.js');\nrequire('./node-extensions.js');\nrequire('./synchronous.js');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/promise/lib/index.js\n ** module id = 56\n ** module chunks = 2 3 6\n **/","'use strict';\n\nvar asap = require('asap/raw');\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('not a function');\n  }\n  this._45 = 0;\n  this._81 = 0;\n  this._65 = null;\n  this._54 = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._10 = null;\nPromise._97 = null;\nPromise._61 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n};\nfunction handle(self, deferred) {\n  while (self._81 === 3) {\n    self = self._65;\n  }\n  if (Promise._10) {\n    Promise._10(self);\n  }\n  if (self._81 === 0) {\n    if (self._45 === 0) {\n      self._45 = 1;\n      self._54 = deferred;\n      return;\n    }\n    if (self._45 === 1) {\n      self._45 = 2;\n      self._54 = [self._54, deferred];\n      return;\n    }\n    self._54.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._81 === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._81 === 1) {\n        resolve(deferred.promise, self._65);\n      } else {\n        reject(deferred.promise, self._65);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._65);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._81 = 3;\n      self._65 = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._81 = 1;\n  self._65 = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._81 = 2;\n  self._65 = newValue;\n  if (Promise._97) {\n    Promise._97(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._45 === 1) {\n    handle(self, self._54);\n    self._54 = null;\n  }\n  if (self._45 === 2) {\n    for (var i = 0; i < self._54.length; i++) {\n      handle(self, self._54[i]);\n    }\n    self._54 = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  })\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/promise/lib/core.js\n ** module id = 57\n ** module chunks = 2 3 6\n **/","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\nvar BrowserMutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/asap/browser-raw.js\n ** module id = 58\n ** module chunks = 2 3 6\n **/","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype.done = function (onFulfilled, onRejected) {\n  var self = arguments.length ? this.then.apply(this, arguments) : this;\n  self.then(null, function (err) {\n    setTimeout(function () {\n      throw err;\n    }, 0);\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/promise/lib/done.js\n ** module id = 59\n ** module chunks = 2 3 6\n **/","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype['finally'] = function (f) {\n  return this.then(function (value) {\n    return Promise.resolve(f()).then(function () {\n      return value;\n    });\n  }, function (err) {\n    return Promise.resolve(f()).then(function () {\n      throw err;\n    });\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/promise/lib/finally.js\n ** module id = 60\n ** module chunks = 2 3 6\n **/","'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._61);\n  p._81 = 1;\n  p._65 = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nPromise.all = function (arr) {\n  var args = Array.prototype.slice.call(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._81 === 3) {\n            val = val._65;\n          }\n          if (val._81 === 1) return res(i, val._65);\n          if (val._81 === 2) reject(val._65);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    values.forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/promise/lib/es6-extensions.js\n ** module id = 61\n ** module chunks = 2 3 6\n **/","'use strict';\n\n// This file contains then/promise specific extensions that are only useful\n// for node.js interop\n\nvar Promise = require('./core.js');\nvar asap = require('asap');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nPromise.denodeify = function (fn, argumentCount) {\n  if (\n    typeof argumentCount === 'number' && argumentCount !== Infinity\n  ) {\n    return denodeifyWithCount(fn, argumentCount);\n  } else {\n    return denodeifyWithoutCount(fn);\n  }\n}\n\nvar callbackFn = (\n  'function (err, res) {' +\n  'if (err) { rj(err); } else { rs(res); }' +\n  '}'\n);\nfunction denodeifyWithCount(fn, argumentCount) {\n  var args = [];\n  for (var i = 0; i < argumentCount; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'return new Promise(function (rs, rj) {',\n    'var res = fn.call(',\n    ['self'].concat(args).concat([callbackFn]).join(','),\n    ');',\n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n  return Function(['Promise', 'fn'], body)(Promise, fn);\n}\nfunction denodeifyWithoutCount(fn) {\n  var fnLength = Math.max(fn.length - 1, 3);\n  var args = [];\n  for (var i = 0; i < fnLength; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'var args;',\n    'var argLength = arguments.length;',\n    'if (arguments.length > ' + fnLength + ') {',\n    'args = new Array(arguments.length + 1);',\n    'for (var i = 0; i < arguments.length; i++) {',\n    'args[i] = arguments[i];',\n    '}',\n    '}',\n    'return new Promise(function (rs, rj) {',\n    'var cb = ' + callbackFn + ';',\n    'var res;',\n    'switch (argLength) {',\n    args.concat(['extra']).map(function (_, index) {\n      return (\n        'case ' + (index) + ':' +\n        'res = fn.call(' + ['self'].concat(args.slice(0, index)).concat('cb').join(',') + ');' +\n        'break;'\n      );\n    }).join(''),\n    'default:',\n    'args[argLength] = cb;',\n    'res = fn.apply(self, args);',\n    '}',\n    \n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n\n  return Function(\n    ['Promise', 'fn'],\n    body\n  )(Promise, fn);\n}\n\nPromise.nodeify = function (fn) {\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n    var callback =\n      typeof args[args.length - 1] === 'function' ? args.pop() : null;\n    var ctx = this;\n    try {\n      return fn.apply(this, arguments).nodeify(callback, ctx);\n    } catch (ex) {\n      if (callback === null || typeof callback == 'undefined') {\n        return new Promise(function (resolve, reject) {\n          reject(ex);\n        });\n      } else {\n        asap(function () {\n          callback.call(ctx, ex);\n        })\n      }\n    }\n  }\n}\n\nPromise.prototype.nodeify = function (callback, ctx) {\n  if (typeof callback != 'function') return this;\n\n  this.then(function (value) {\n    asap(function () {\n      callback.call(ctx, null, value);\n    });\n  }, function (err) {\n    asap(function () {\n      callback.call(ctx, err);\n    });\n  });\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/promise/lib/node-extensions.js\n ** module id = 62\n ** module chunks = 2 3 6\n **/","\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/asap/browser-asap.js\n ** module id = 63\n ** module chunks = 2 3 6\n **/","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.enableSynchronous = function () {\n  Promise.prototype.isPending = function() {\n    return this.getState() == 0;\n  };\n\n  Promise.prototype.isFulfilled = function() {\n    return this.getState() == 1;\n  };\n\n  Promise.prototype.isRejected = function() {\n    return this.getState() == 2;\n  };\n\n  Promise.prototype.getValue = function () {\n    if (this._81 === 3) {\n      return this._65.getValue();\n    }\n\n    if (!this.isFulfilled()) {\n      throw new Error('Cannot get a value of an unfulfilled promise.');\n    }\n\n    return this._65;\n  };\n\n  Promise.prototype.getReason = function () {\n    if (this._81 === 3) {\n      return this._65.getReason();\n    }\n\n    if (!this.isRejected()) {\n      throw new Error('Cannot get a rejection reason of a non-rejected promise.');\n    }\n\n    return this._65;\n  };\n\n  Promise.prototype.getState = function () {\n    if (this._81 === 3) {\n      return this._65.getState();\n    }\n    if (this._81 === -1 || this._81 === -2) {\n      return 0;\n    }\n\n    return this._81;\n  };\n};\n\nPromise.disableSynchronous = function() {\n  Promise.prototype.isPending = undefined;\n  Promise.prototype.isFulfilled = undefined;\n  Promise.prototype.isRejected = undefined;\n  Promise.prototype.getValue = undefined;\n  Promise.prototype.getReason = undefined;\n  Promise.prototype.getState = undefined;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/promise/lib/synchronous.js\n ** module id = 64\n ** module chunks = 2 3 6\n **/","import GroupNode from './group-node';\nimport Traversable from '../mixins/traversable';\nimport throttle from '../common/throttle';\nimport animationFrame from '../common/animation-frame';\n\nconst FRAME_DELAY = 1000 / 60;\n\nclass RootNode extends GroupNode {\n    constructor(canvas) {\n        super();\n\n        this.canvas = canvas;\n        this.ctx = canvas.getContext(\"2d\");\n\n        const invalidateHandler = this._invalidate.bind(this);\n        this.invalidate = throttle(() => {\n            animationFrame(invalidateHandler);\n        }, FRAME_DELAY);\n    }\n\n    destroy() {\n        super.destroy();\n        this.canvas = null;\n        this.ctx = null;\n    }\n\n    load(elements, pos, cors) {\n        this.loadElements(elements, pos, cors);\n        this._invalidate();\n    }\n\n    _invalidate() {\n        if (!this.ctx) {\n            return;\n        }\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.renderTo(this.ctx);\n    }\n}\n\nTraversable.extend(RootNode.prototype, \"childNodes\");\n\nexport default RootNode;\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas/root-node.js\n **/","import Node from './node';\nimport Traversable from '../mixins/traversable';\nimport NODE_MAP from './node-map';\n\nclass GroupNode extends Node {\n\n    renderTo(ctx) {\n        if (!this.visible()) {\n            return;\n        }\n\n        ctx.save();\n\n        this.setTransform(ctx);\n        this.setClip(ctx);\n        this.setOpacity(ctx);\n\n        const childNodes = this.childNodes;\n        for (let i = 0; i < childNodes.length; i++) {\n            let child = childNodes[i];\n            if (child.visible()) {\n                child.renderTo(ctx);\n            }\n        }\n\n        ctx.restore();\n    }\n}\n\nTraversable.extend(GroupNode.prototype, \"childNodes\");\n\nNODE_MAP.Group = GroupNode;\n\nexport default GroupNode;\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas/group-node.js\n **/","import BaseNode from '../core/base-node';\nimport NODE_MAP from './node-map';\nimport defined from '../common/defined';\nimport renderPath from './utils/render-path';\n\nclass Node extends BaseNode {\n    constructor(srcElement) {\n        super(srcElement);\n        if (srcElement) {\n            this.initClip();\n        }\n    }\n\n    initClip() {\n        const clip = this.srcElement.clip();\n        if (clip) {\n            this.clip = clip;\n            clip.addObserver(this);\n        }\n    }\n\n    clear() {\n        if (this.srcElement) {\n            this.srcElement.removeObserver(this);\n        }\n\n        this.clearClip();\n\n        super.clear();\n    }\n\n    clearClip() {\n        if (this.clip) {\n            this.clip.removeObserver(this);\n            delete this.clip;\n        }\n    }\n\n    setClip(ctx) {\n        if (this.clip) {\n            ctx.beginPath();\n            renderPath(ctx, this.clip);\n            ctx.clip();\n        }\n    }\n\n    optionsChange(e) {\n        if (e.field === \"clip\") {\n            this.clearClip();\n            this.initClip();\n        }\n\n        super.optionsChange(e);\n    }\n\n    setTransform(ctx) {\n        if (this.srcElement) {\n            const transform = this.srcElement.transform();\n            if (transform) {\n                ctx.transform.apply(ctx, transform.matrix().toArray(6));\n            }\n        }\n    }\n\n    loadElements(elements, pos, cors) {\n        for (let i = 0; i < elements.length; i++) {\n            let srcElement = elements[i];\n            let children = srcElement.children;\n\n            let childNode = new NODE_MAP[srcElement.nodeType](srcElement, cors);\n\n            if (children && children.length > 0) {\n                childNode.load(children, pos, cors);\n            }\n\n            if (defined(pos)) {\n                this.insertAt(childNode, pos);\n            } else {\n                this.append(childNode);\n            }\n        }\n    }\n\n    load(elements, pos, cors) {\n        this.loadElements(elements, pos, cors);\n\n        this.invalidate();\n    }\n\n    setOpacity(ctx) {\n        if (this.srcElement) {\n            const opacity = this.srcElement.opacity();\n            if (defined(opacity)) {\n                this.globalAlpha(ctx, opacity);\n            }\n        }\n    }\n\n    globalAlpha(ctx, value) {\n        let opactity = value;\n        if (opactity && ctx.globalAlpha) {\n            opactity *= ctx.globalAlpha;\n        }\n        ctx.globalAlpha = opactity;\n    }\n\n    visible() {\n        const src = this.srcElement;\n        return !src || (src && src.options.visible !== false);\n    }\n}\n\nexport default Node;\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas/node.js\n **/","\nclass BaseNode {\n    constructor(srcElement) {\n        this.childNodes = [];\n        this.parent = null;\n\n        if (srcElement) {\n            this.srcElement = srcElement;\n            this.observe();\n        }\n    }\n\n    destroy() {\n        if (this.srcElement) {\n            this.srcElement.removeObserver(this);\n        }\n\n        const children = this.childNodes;\n        for (let i = 0; i < children.length; i++) {\n            this.childNodes[i].destroy();\n        }\n\n        this.parent = null;\n    }\n\n    load() {}\n\n    observe() {\n        if (this.srcElement) {\n            this.srcElement.addObserver(this);\n        }\n    }\n\n    append(node) {\n        this.childNodes.push(node);\n        node.parent = this;\n    }\n\n    insertAt(node, pos) {\n        this.childNodes.splice(pos, 0, node);\n        node.parent = this;\n    }\n\n    remove(index, count) {\n        const end = index + count;\n        for (let i = index; i < end; i++) {\n            this.childNodes[i].removeSelf();\n        }\n        this.childNodes.splice(index, count);\n    }\n\n    removeSelf() {\n        this.clear();\n        this.destroy();\n    }\n\n    clear() {\n        this.remove(0, this.childNodes.length);\n    }\n\n    invalidate() {\n        if (this.parent) {\n            this.parent.invalidate();\n        }\n    }\n\n    geometryChange() {\n        this.invalidate();\n    }\n\n    optionsChange() {\n        this.invalidate();\n    }\n\n    childrenChange(e) {\n        if (e.action === \"add\") {\n            this.load(e.items, e.index);\n        } else if (e.action === \"remove\") {\n            this.remove(e.index, e.items.length);\n        }\n\n        this.invalidate();\n    }\n}\n\nexport default BaseNode;\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/base-node.js\n **/","const NODE_MAP = {};\n\nexport default NODE_MAP;\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas/node-map.js\n **/","\nexport default function renderPath(ctx, path) {\n    const segments = path.segments;\n\n    if (segments.length === 0) {\n        return;\n    }\n\n    let segment = segments[0];\n    let anchor = segment.anchor();\n    ctx.moveTo(anchor.x, anchor.y);\n\n    for (let i = 1; i < segments.length; i++) {\n        segment = segments[i];\n        anchor = segment.anchor();\n\n        let prevSeg = segments[i - 1];\n        let prevOut = prevSeg.controlOut();\n        let controlIn = segment.controlIn();\n\n        if (prevOut && controlIn) {\n            ctx.bezierCurveTo(prevOut.x, prevOut.y,\n                              controlIn.x, controlIn.y,\n                              anchor.x, anchor.y);\n        } else {\n            ctx.lineTo(anchor.x, anchor.y);\n        }\n    }\n\n    if (path.options.closed) {\n        ctx.closePath();\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas/utils/render-path.js\n **/","function now() {\n    return new Date().getTime();\n}\n\nexport default function throttle(fn, delay) {\n    let lastExecTime = 0;\n    let timeout;\n\n    if (!delay || delay <= 0) {\n        return fn;\n    }\n\n    const throttled = () => {\n        const elapsed = now() - lastExecTime;\n        const args = arguments;\n\n        const exec = () => {\n            fn.apply(null, args);\n            lastExecTime = now();\n        };\n\n        // first execution\n        if (!lastExecTime) {\n            return exec();\n        }\n\n        if (timeout) {\n            clearTimeout(timeout);\n        }\n\n        if (elapsed > delay) {\n            exec();\n        } else {\n            timeout = setTimeout(exec, delay - elapsed);\n        }\n    };\n\n    throttled.cancel = function() {\n        clearTimeout(timeout);\n    };\n\n    return throttled;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/throttle.js\n **/","import QuadRoot from './quad-root';\nimport QuadNode from './quad-node';\nimport Rect from '../geometry/rect';\nimport append from '../common/append';\n\nconst ROOT_SIZE = 3000;\nconst LEVEL_STEP = 10000;\nconst MAX_LEVEL = 75;\n\nclass ShapesQuadTree {\n\n    constructor() {\n        this.initRoots();\n    }\n\n    initRoots() {\n        this.rootMap = {};\n        this.root = new QuadRoot();\n        this.rootElements = [];\n    }\n\n    clear() {\n        const rootElements = this.rootElements;\n        for (let idx = 0; idx < rootElements.length; idx++) {\n            this.remove(rootElements[idx]);\n        }\n        this.initRoots();\n    }\n\n    pointShape(point) {\n        const sectorRoot = ( this.rootMap[ Math.floor( point.x / ROOT_SIZE ) ] || {} )[ Math.floor( point.y / ROOT_SIZE ) ];\n        let result = this.root.pointShapes(point);\n\n        if (sectorRoot) {\n            result = result.concat(sectorRoot.pointShapes(point));\n        }\n\n        this.assignZindex(result);\n\n        result.sort(zIndexComparer);\n        for (let idx = 0; idx < result.length; idx++) {\n            if (result[idx].containsPoint(point)) {\n                return result[idx];\n            }\n        }\n    }\n\n    assignZindex(elements) {\n        for (let idx = 0; idx < elements.length; idx++) {\n            let element = elements[idx];\n            let zIndex = 0;\n            let levelWeight = Math.pow(LEVEL_STEP, MAX_LEVEL);\n            let parents = [];\n\n            while (element) {\n                parents.push(element);\n                element = element.parent;\n            }\n\n            while (parents.length) {\n                element = parents.pop();\n                zIndex += ((element.parent ? element.parent.children : this.rootElements).indexOf(element) + 1) * levelWeight;\n                levelWeight /= LEVEL_STEP;\n            }\n\n            elements[idx]._zIndex = zIndex;\n        }\n    }\n\n    optionsChange(e) {\n        if (e.field === \"transform\" || e.field === \"stroke.width\") {\n            this.bboxChange(e.element);\n        }\n    }\n\n    geometryChange(e) {\n        this.bboxChange(e.element);\n    }\n\n    bboxChange(element) {\n        if (element.nodeType === \"Group\") {\n            for (let idx = 0; idx < element.children.length; idx++) {\n                this.bboxChange(element.children[idx]);\n            }\n        } else {\n            if (element._quadNode) {\n                element._quadNode.remove(element);\n            }\n            this._insertShape(element);\n        }\n    }\n\n    add(elements) {\n        const elementsArray = Array.isArray(elements) ? elements.slice(0) : [ elements ];\n\n        append(this.rootElements, elementsArray);\n        this._insert(elementsArray);\n    }\n\n    childrenChange(e) {\n        if (e.action === \"remove\") {\n            for (let idx = 0; idx < e.items.length; idx++) {\n                this.remove(e.items[idx]);\n            }\n        } else {\n            this._insert(Array.prototype.slice.call(e.items, 0));\n        }\n    }\n\n    _insert(elements) {\n        let element;\n\n        while (elements.length > 0) {\n            element = elements.pop();\n            element.addObserver(this);\n            if (element.nodeType === \"Group\") {\n                append(elements, element.children);\n            } else {\n                this._insertShape(element);\n            }\n        }\n    }\n\n    _insertShape(shape) {\n        const bbox = shape.bbox();\n        if (bbox) {\n            const sectors = this.getSectors(bbox);\n            const x = sectors[0][0];\n            const y = sectors[1][0];\n\n            if (this.inRoot(sectors)) {\n                this.root.insert(shape, bbox);\n            } else {\n                const rootMap = this.rootMap;\n                if (!rootMap[x]) {\n                    rootMap[x] = {};\n                }\n\n                if (!rootMap[x][y]) {\n                    rootMap[x][y] = new QuadNode(\n                        new Rect([ x * ROOT_SIZE, y * ROOT_SIZE ], [ ROOT_SIZE, ROOT_SIZE ])\n                    );\n                }\n\n                rootMap[x][y].insert(shape, bbox);\n            }\n        }\n    }\n\n    remove(element) {\n        element.removeObserver(this);\n\n        if (element.nodeType === \"Group\") {\n            const children = element.children;\n            for (let idx = 0; idx < children.length; idx++) {\n                this.remove(children[idx]);\n            }\n        } else if (element._quadNode) {\n            element._quadNode.remove(element);\n            delete element._quadNode;\n        }\n    }\n\n    inRoot(sectors) {\n        return sectors[0].length > 1 || sectors[1].length > 1;\n    }\n\n    getSectors(rect) {\n        const bottomRight = rect.bottomRight();\n        const bottomX = Math.floor(bottomRight.x / ROOT_SIZE);\n        const bottomY = Math.floor(bottomRight.y / ROOT_SIZE);\n        const sectors = [ [], [] ];\n        for (let x = Math.floor(rect.origin.x / ROOT_SIZE); x <= bottomX; x++) {\n            sectors[0].push(x);\n        }\n        for (let y = Math.floor(rect.origin.y / ROOT_SIZE); y <= bottomY; y++) {\n            sectors[1].push(y);\n        }\n        return sectors;\n    }\n}\n\nfunction zIndexComparer(x1, x2) {\n    if (x1._zIndex < x2._zIndex) {\n        return 1;\n    }\n    if (x1._zIndex > x2._zIndex) {\n        return -1;\n    }\n\n    return 0;\n}\n\nexport default ShapesQuadTree;\n\n\n/** WEBPACK FOOTER **\n ** ./src/search/shapes-quad-tree.js\n **/","class QuadRoot {\n    constructor() {\n        this.shapes = [];\n    }\n\n    _add(shape, bbox) {\n        this.shapes.push({\n            bbox: bbox,\n            shape: shape\n        });\n        shape._quadNode = this;\n    }\n\n    pointShapes(point) {\n        const shapes = this.shapes;\n        const length = shapes.length;\n        const result = [];\n        for (let idx = 0; idx < length; idx++) {\n            if (shapes[idx].bbox.containsPoint(point)) {\n                result.push(shapes[idx].shape);\n            }\n        }\n        return result;\n    }\n\n    insert(shape, bbox) {\n        this._add(shape, bbox);\n    }\n\n    remove(shape) {\n        const shapes = this.shapes;\n        const length = shapes.length;\n\n        for (let idx = 0; idx < length; idx++) {\n            if (shapes[idx].shape === shape) {\n                shapes.splice(idx, 1);\n                break;\n            }\n        }\n    }\n}\n\nexport default QuadRoot;\n\n\n/** WEBPACK FOOTER **\n ** ./src/search/quad-root.js\n **/","import QuadRoot from './quad-root';\nimport Rect from '../geometry/rect';\nimport append from '../common/append';\n\nclass QuadNode extends QuadRoot {\n    constructor(rect) {\n        super();\n        this.children = [];\n        this.rect = rect;\n    }\n\n    inBounds(rect) {\n        const nodeRect = this.rect;\n        const nodeBottomRight = nodeRect.bottomRight();\n        const bottomRight = rect.bottomRight();\n        const inBounds = nodeRect.origin.x <= rect.origin.x && nodeRect.origin.y <= rect.origin.y && bottomRight.x <= nodeBottomRight.x &&\n            bottomRight.y <= nodeBottomRight.y;\n        return inBounds;\n    }\n\n    pointShapes(point) {\n        const children = this.children;\n        const length = children.length;\n        const result = super.pointShapes(point);\n        for (let idx = 0; idx < length; idx++) {\n            append(result, children[idx].pointShapes(point));\n        }\n        return result;\n    }\n\n    insert(shape, bbox) {\n        const children = this.children;\n        const length = children.length;\n        let inserted = false;\n\n        if (this.inBounds(bbox)) {\n            if (!length && this.shapes.length < 4) {\n                this._add(shape, bbox);\n            } else {\n                if (!length) {\n                    this._initChildren();\n                }\n\n                for (let idx = 0; idx < children.length; idx++) {\n                    if (children[idx].insert(shape, bbox)) {\n                        inserted = true;\n                        break;\n                    }\n                }\n\n                if (!inserted) {\n                    this._add(shape, bbox);\n                }\n            }\n            inserted = true;\n        }\n\n        return inserted;\n    }\n\n    _initChildren() {\n        const { rect, children, shapes } = this;\n        const center = rect.center();\n        const halfWidth = rect.width() / 2;\n        const halfHeight = rect.height() / 2;\n\n        children.push(\n            new QuadNode(new Rect(rect.origin.x, rect.origin.y, halfWidth, halfHeight)),\n            new QuadNode(new Rect(center.x, rect.origin.y, halfWidth, halfHeight)),\n            new QuadNode(new Rect(rect.origin.x, center.y, halfWidth, halfHeight)),\n            new QuadNode(new Rect(center.x, center.y, halfWidth, halfHeight))\n        );\n        for (let shapeIdx = shapes.length - 1; shapeIdx >= 0; shapeIdx--) {\n            for (let childIdx = 0; childIdx < children.length; childIdx++) {\n                if (children[childIdx].insert(shapes[shapeIdx].shape, shapes[shapeIdx].bbox)) {\n                    shapes.splice(shapeIdx, 1);\n                    break;\n                }\n            }\n        }\n    }\n}\n\nexport default QuadNode;\n\n\n/** WEBPACK FOOTER **\n ** ./src/search/quad-node.js\n **/","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\nimport renderPath from './utils/render-path';\n\nclass ArcNode extends PathNode {\n    renderPoints(ctx) {\n        const path = this.srcElement.toPath();\n        renderPath(ctx, path);\n    }\n}\n\nNODE_MAP.Arc = ArcNode;\n\nexport default ArcNode;\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas/arc-node.js\n **/","import Node from './node';\nimport isTransparent from '../common/is-transparent';\nimport valueOrDefault from '../common/value-or-default';\nimport LinearGradient from '../gradients/linear-gradient';\nimport RadialGradient from '../gradients/radial-gradient';\nimport { DASH_ARRAYS, SOLID, BUTT } from '../core/constants';\nimport renderPath from './utils/render-path';\nimport NODE_MAP from './node-map';\nimport chroma from 'chroma-js';\n\nfunction addGradientStops(gradient, stops) {\n    for (let idx = 0; idx < stops.length; idx++) {\n        let stop = stops[idx];\n        let color = chroma(stop.color());\n        color.alpha(color.alpha() * stop.opacity());\n        gradient.addColorStop(stop.offset(), color.css());\n    }\n}\n\nclass PathNode extends Node {\n\n    renderTo(ctx) {\n        ctx.save();\n\n        this.setTransform(ctx);\n        this.setClip(ctx);\n        this.setOpacity(ctx);\n\n        ctx.beginPath();\n\n        this.renderPoints(ctx, this.srcElement);\n\n        this.setLineDash(ctx);\n        this.setLineCap(ctx);\n        this.setLineJoin(ctx);\n\n        this.setFill(ctx);\n        this.setStroke(ctx);\n\n        ctx.restore();\n    }\n\n    setFill(ctx) {\n        const fill = this.srcElement.options.fill;\n        let hasFill = false;\n\n        if (fill) {\n            if (fill.nodeType === \"Gradient\") {\n                this.setGradientFill(ctx, fill);\n                hasFill = true;\n            } else if (!isTransparent(fill.color)) {\n                ctx.fillStyle = fill.color;\n\n                ctx.save();\n                this.globalAlpha(ctx, fill.opacity);\n                ctx.fill();\n                ctx.restore();\n\n                hasFill = true;\n            }\n        }\n\n        return hasFill;\n    }\n\n    setGradientFill(ctx, fill) {\n        const bbox = this.srcElement.rawBBox();\n        let gradient;\n\n        if (fill instanceof LinearGradient) {\n            let start = fill.start();\n            let end = fill.end();\n            gradient = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n        } else if (fill instanceof RadialGradient) {\n            let center = fill.center();\n            gradient = ctx.createRadialGradient(center.x, center.y, 0, center.x, center.y, fill.radius());\n        }\n\n        addGradientStops(gradient, fill.stops);\n\n        ctx.save();\n\n        if (!fill.userSpace()) {\n            ctx.transform(bbox.width(), 0, 0, bbox.height(), bbox.origin.x, bbox.origin.y);\n        }\n        ctx.fillStyle = gradient;\n        ctx.fill();\n\n        ctx.restore();\n    }\n\n    setStroke(ctx) {\n        const stroke = this.srcElement.options.stroke;\n        if (stroke && !isTransparent(stroke.color) && stroke.width > 0) {\n            ctx.strokeStyle = stroke.color;\n            ctx.lineWidth = valueOrDefault(stroke.width, 1);\n\n            ctx.save();\n            this.globalAlpha(ctx, stroke.opacity);\n            ctx.stroke();\n            ctx.restore();\n\n            return true;\n        }\n    }\n\n    dashType() {\n        const stroke = this.srcElement.options.stroke;\n        if (stroke && stroke.dashType) {\n            return stroke.dashType.toLowerCase();\n        }\n    }\n\n    setLineDash(ctx) {\n        const dashType = this.dashType();\n        if (dashType && dashType !== SOLID) {\n            const dashArray = DASH_ARRAYS[dashType];\n            if (ctx.setLineDash) {\n                ctx.setLineDash(dashArray);\n            } else {\n                ctx.mozDash = dashArray;\n                ctx.webkitLineDash = dashArray;\n            }\n        }\n    }\n\n    setLineCap(ctx) {\n        const dashType = this.dashType();\n        const stroke = this.srcElement.options.stroke;\n        if (dashType && dashType !== SOLID) {\n            ctx.lineCap = BUTT;\n        } else if (stroke && stroke.lineCap) {\n            ctx.lineCap = stroke.lineCap;\n        }\n    }\n\n    setLineJoin(ctx) {\n        const stroke = this.srcElement.options.stroke;\n        if (stroke && stroke.lineJoin) {\n            ctx.lineJoin = stroke.lineJoin;\n        }\n    }\n\n    renderPoints(ctx, path) {\n        renderPath(ctx, path);\n    }\n}\n\nNODE_MAP.Path = PathNode;\n\nexport default PathNode;\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas/path-node.js\n **/","import definePointAccessors from '../accessors/define-point-accessors';\nimport Point from '../geometry/point';\nimport Gradient from './gradient';\n\nclass LinearGradient extends Gradient {\n    constructor(options = {}) {\n        super(options);\n\n        this.start(options.start || new Point());\n\n        this.end(options.end || new Point(1, 0));\n    }\n}\n\ndefinePointAccessors(LinearGradient.prototype, [ \"start\", \"end\" ]);\n\nexport default LinearGradient;\n\n\n/** WEBPACK FOOTER **\n ** ./src/gradients/linear-gradient.js\n **/","import defined from '../common/defined';\nimport Point from '../geometry/point';\n\nfunction pointAccessor(name) {\n    const fieldName = \"_\" + name;\n    return function(value) {\n        if (defined(value)) {\n            this._observerField(fieldName, Point.create(value));\n            this.geometryChange();\n            return this;\n        }\n\n        return this[fieldName];\n    };\n}\n\nexport default function definePointAccessors(fn, names) {\n    for (let i = 0; i < names.length; i++) {\n        fn[names[i]] = pointAccessor(names[i]);\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/accessors/define-point-accessors.js\n **/","import ObserversMixin from '../mixins/observers-mixin';\nimport defined from '../common/defined';\nimport StopsArray from './stops-array';\nimport GradientStop from './gradient-stop';\nimport definitionId from '../common/definition-id';\n\nclass Gradient {\n\n    constructor(options = {}) {\n        this.stops = new StopsArray(this._createStops(options.stops));\n        this.stops.addObserver(this);\n        this._userSpace = options.userSpace;\n        this.id = definitionId();\n    }\n\n    userSpace(value) {\n        if (defined(value)) {\n            this._userSpace = value;\n            this.optionsChange();\n            return this;\n        }\n\n        return this._userSpace;\n    }\n\n    _createStops(stops = []) {\n        const result = [];\n        for (let idx = 0; idx < stops.length; idx++) {\n            result.push(GradientStop.create(stops[idx]));\n        }\n\n        return result;\n    }\n\n    addStop(offset, color, opacity) {\n        this.stops.push(new GradientStop(offset, color, opacity));\n    }\n\n    removeStop(stop) {\n        const index = this.stops.indexOf(stop);\n        if (index >= 0) {\n            this.stops.splice(index, 1);\n        }\n    }\n}\n\nGradient.prototype.nodeType = \"Gradient\";\n\nObserversMixin.extend(Gradient.prototype);\n\nObject.assign(Gradient.prototype, {\n    optionsChange: function(e) {\n        this.trigger(\"optionsChange\", {\n            field: \"gradient\" + (e ? \".\" + e.field : \"\"),\n            value: this\n        });\n    },\n\n    geometryChange: function() {\n        this.optionsChange();\n    }\n});\n\nexport default Gradient;\n\n\n/** WEBPACK FOOTER **\n ** ./src/gradients/gradient.js\n **/","import ElementsArray from '../common/elements-array';\n\nclass StopsArray extends ElementsArray {\n    _change() {\n        this.optionsChange({\n            field: \"stops\"\n        });\n    }\n}\n\nexport default StopsArray;\n\n\n/** WEBPACK FOOTER **\n ** ./src/gradients/stops-array.js\n **/","import ObserversMixin from '../mixins/observers-mixin';\n\nconst push = [].push;\nconst pop = [].pop;\nconst splice = [].splice;\nconst shift = [].shift;\nconst slice = [].slice;\nconst unshift = [].unshift;\n\nclass ElementsArray {\n    constructor(array = []) {\n\n        this.length = 0;\n        this._splice(0, array.length, array);\n    }\n\n    elements(elements) {\n        if (elements) {\n            this._splice(0, this.length, elements);\n\n            this._change();\n            return this;\n        }\n\n        return this.slice(0);\n    }\n\n    push() {\n        const elements = arguments;\n        const result = push.apply(this, elements);\n\n        this._add(elements);\n\n        return result;\n    }\n\n    slice() {\n        return slice.call(this);\n    }\n\n    pop() {\n        const length = this.length;\n        const result = pop.apply(this);\n\n        if (length) {\n            this._remove([ result ]);\n        }\n\n        return result;\n    }\n\n    splice(index, howMany) {\n        const elements = slice.call(arguments, 2);\n        const result = this._splice(index, howMany, elements);\n\n        this._change();\n\n        return result;\n    }\n\n    shift() {\n        const length = this.length;\n        const result = shift.apply(this);\n\n        if (length) {\n            this._remove([ result ]);\n        }\n\n        return result;\n    }\n\n    unshift() {\n        const elements = arguments;\n        const result = unshift.apply(this, elements);\n\n        this._add(elements);\n\n        return result;\n    }\n\n    indexOf(element) {\n        const length = this.length;\n\n        for (let idx = 0; idx < length; idx++) {\n            if (this[idx] === element) {\n                return idx;\n            }\n        }\n        return -1;\n    }\n\n    _splice(index, howMany, elements) {\n        const result = splice.apply(this, [ index, howMany ].concat(elements));\n\n        this._clearObserver(result);\n        this._setObserver(elements);\n\n        return result;\n    }\n\n    _add(elements) {\n        this._setObserver(elements);\n        this._change();\n    }\n\n    _remove(elements) {\n        this._clearObserver(elements);\n        this._change();\n    }\n\n    _setObserver(elements) {\n        for (let idx = 0; idx < elements.length; idx++) {\n            elements[idx].addObserver(this);\n        }\n    }\n\n    _clearObserver(elements) {\n        for (let idx = 0; idx < elements.length; idx++) {\n            elements[idx].removeObserver(this);\n        }\n    }\n\n    _change() {}\n}\n\nObserversMixin.extend(ElementsArray.prototype);\n\nexport default ElementsArray;\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/elements-array.js\n **/","import defineOptionsAccessors from '../accessors/define-options-accessors';\nimport OptionsStore from '../core/options-store';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport defined from '../common/defined';\n\nclass GradientStop {\n    constructor(offset, color, opacity) {\n        this.options = new OptionsStore({\n            offset: offset,\n            color: color,\n            opacity: defined(opacity) ? opacity : 1\n        });\n        this.options.addObserver(this);\n    }\n\n    static create(arg) {\n        if (defined(arg)) {\n            let stop;\n            if (arg instanceof GradientStop) {\n                stop = arg;\n            } else if (arg.length > 1) {\n                stop = new GradientStop(arg[0], arg[1], arg[2]);\n            } else {\n                stop = new GradientStop(arg.offset, arg.color, arg.opacity);\n            }\n\n            return stop;\n        }\n    }\n}\n\ndefineOptionsAccessors(GradientStop.prototype, [ \"offset\", \"color\", \"opacity\" ]);\nObserversMixin.extend(GradientStop.prototype);\n\nexport default GradientStop;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/gradients/gradient-stop.js\n **/","import defined from '../common/defined';\n\nfunction optionsAccessor(name) {\n    return function(value) {\n        if (defined(value)) {\n            this.options.set(name, value);\n            return this;\n        }\n\n        return this.options.get(name);\n    };\n}\n\nexport default function defineOptionsAccessors(fn, names) {\n    for (let i = 0; i < names.length; i++) {\n        fn[names[i]] = optionsAccessor(names[i]);\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/accessors/define-options-accessors.js\n **/","import definePointAccessors from '../accessors/define-point-accessors';\nimport Point from '../geometry/point';\nimport Gradient from './gradient';\nimport defined from '../common/defined';\n\nclass RadialGradient extends Gradient {\n    constructor(options = {}) {\n        super(options);\n\n        this.center(options.center || new Point());\n        this._radius = defined(options.radius) ? options.radius : 1;\n        this._fallbackFill = options.fallbackFill;\n    }\n\n    radius(value) {\n        if (defined(value)) {\n            this._radius = value;\n            this.geometryChange();\n            return this;\n        }\n\n        return this._radius;\n    }\n\n    fallbackFill(value) {\n        if (defined(value)) {\n            this._fallbackFill = value;\n            this.optionsChange();\n            return this;\n        }\n\n        return this._fallbackFill;\n    }\n}\n\ndefinePointAccessors(RadialGradient.prototype, [ \"center\" ]);\n\nexport default RadialGradient;\n\n\n/** WEBPACK FOOTER **\n ** ./src/gradients/radial-gradient.js\n **/","const DASH_ARRAYS = {\n    dot: [ 1.5, 3.5 ],\n    dash: [ 4, 3.5 ],\n    longdash: [ 8, 3.5 ],\n    dashdot: [ 3.5, 3.5, 1.5, 3.5 ],\n    longdashdot: [ 8, 3.5, 1.5, 3.5 ],\n    longdashdotdot: [ 8, 3.5, 1.5, 3.5, 1.5, 3.5 ]\n};\n\nconst SOLID = \"solid\";\nconst BUTT = \"butt\";\n\nexport { DASH_ARRAYS, SOLID, BUTT };\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/constants.js\n **/","\n/**\n * @license\n *\n * chroma.js - JavaScript library for color conversions\n * \n * Copyright (c) 2011-2015, Gregor Aisch\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n * \n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n * \n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n * \n * 3. The name Gregor Aisch may not be used to endorse or promote products\n *    derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n */\n\n(function() {\n  var Color, DEG2RAD, LAB_CONSTANTS, PI, PITHIRD, RAD2DEG, TWOPI, _guess_formats, _guess_formats_sorted, _input, _interpolators, abs, atan2, bezier, blend, blend_f, brewer, burn, chroma, clip_rgb, cmyk2rgb, colors, cos, css2rgb, darken, dodge, each, floor, hex2rgb, hsi2rgb, hsl2css, hsl2rgb, hsv2rgb, interpolate, interpolate_hsx, interpolate_lab, interpolate_num, interpolate_rgb, lab2lch, lab2rgb, lab_xyz, lch2lab, lch2rgb, lighten, limit, log, luminance_x, m, max, multiply, normal, num2rgb, overlay, pow, rgb2cmyk, rgb2css, rgb2hex, rgb2hsi, rgb2hsl, rgb2hsv, rgb2lab, rgb2lch, rgb2luminance, rgb2num, rgb2temperature, rgb2xyz, rgb_xyz, rnd, root, round, screen, sin, sqrt, temperature2rgb, type, unpack, w3cx11, xyz_lab, xyz_rgb,\n    slice = [].slice;\n\n  type = (function() {\n\n    /*\n    for browser-safe type checking+\n    ported from jQuery's $.type\n     */\n    var classToType, len, name, o, ref;\n    classToType = {};\n    ref = \"Boolean Number String Function Array Date RegExp Undefined Null\".split(\" \");\n    for (o = 0, len = ref.length; o < len; o++) {\n      name = ref[o];\n      classToType[\"[object \" + name + \"]\"] = name.toLowerCase();\n    }\n    return function(obj) {\n      var strType;\n      strType = Object.prototype.toString.call(obj);\n      return classToType[strType] || \"object\";\n    };\n  })();\n\n  limit = function(x, min, max) {\n    if (min == null) {\n      min = 0;\n    }\n    if (max == null) {\n      max = 1;\n    }\n    if (x < min) {\n      x = min;\n    }\n    if (x > max) {\n      x = max;\n    }\n    return x;\n  };\n\n  unpack = function(args) {\n    if (args.length >= 3) {\n      return [].slice.call(args);\n    } else {\n      return args[0];\n    }\n  };\n\n  clip_rgb = function(rgb) {\n    var i;\n    for (i in rgb) {\n      if (i < 3) {\n        if (rgb[i] < 0) {\n          rgb[i] = 0;\n        }\n        if (rgb[i] > 255) {\n          rgb[i] = 255;\n        }\n      } else if (i === 3) {\n        if (rgb[i] < 0) {\n          rgb[i] = 0;\n        }\n        if (rgb[i] > 1) {\n          rgb[i] = 1;\n        }\n      }\n    }\n    return rgb;\n  };\n\n  PI = Math.PI, round = Math.round, cos = Math.cos, floor = Math.floor, pow = Math.pow, log = Math.log, sin = Math.sin, sqrt = Math.sqrt, atan2 = Math.atan2, max = Math.max, abs = Math.abs;\n\n  TWOPI = PI * 2;\n\n  PITHIRD = PI / 3;\n\n  DEG2RAD = PI / 180;\n\n  RAD2DEG = 180 / PI;\n\n  chroma = function() {\n    if (arguments[0] instanceof Color) {\n      return arguments[0];\n    }\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, arguments, function(){});\n  };\n\n  _interpolators = [];\n\n  if ((typeof module !== \"undefined\" && module !== null) && (module.exports != null)) {\n    module.exports = chroma;\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return chroma;\n    });\n  } else {\n    root = typeof exports !== \"undefined\" && exports !== null ? exports : this;\n    root.chroma = chroma;\n  }\n\n  chroma.version = '1.1.1';\n\n\n  /**\n      chroma.js\n  \n      Copyright (c) 2011-2013, Gregor Aisch\n      All rights reserved.\n  \n      Redistribution and use in source and binary forms, with or without\n      modification, are permitted provided that the following conditions are met:\n  \n      * Redistributions of source code must retain the above copyright notice, this\n        list of conditions and the following disclaimer.\n  \n      * Redistributions in binary form must reproduce the above copyright notice,\n        this list of conditions and the following disclaimer in the documentation\n        and/or other materials provided with the distribution.\n  \n      * The name Gregor Aisch may not be used to endorse or promote products\n        derived from this software without specific prior written permission.\n  \n      THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n      AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n      IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n      DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n      INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n      BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n      DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n      OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n      NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n      EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n  \n      @source: https://github.com/gka/chroma.js\n   */\n\n  _input = {};\n\n  _guess_formats = [];\n\n  _guess_formats_sorted = false;\n\n  Color = (function() {\n    function Color() {\n      var arg, args, chk, len, len1, me, mode, o, w;\n      me = this;\n      args = [];\n      for (o = 0, len = arguments.length; o < len; o++) {\n        arg = arguments[o];\n        if (arg != null) {\n          args.push(arg);\n        }\n      }\n      mode = args[args.length - 1];\n      if (_input[mode] != null) {\n        me._rgb = clip_rgb(_input[mode](unpack(args.slice(0, -1))));\n      } else {\n        if (!_guess_formats_sorted) {\n          _guess_formats = _guess_formats.sort(function(a, b) {\n            return b.p - a.p;\n          });\n          _guess_formats_sorted = true;\n        }\n        for (w = 0, len1 = _guess_formats.length; w < len1; w++) {\n          chk = _guess_formats[w];\n          mode = chk.test.apply(chk, args);\n          if (mode) {\n            break;\n          }\n        }\n        if (mode) {\n          me._rgb = clip_rgb(_input[mode].apply(_input, args));\n        }\n      }\n      if (me._rgb == null) {\n        console.warn('unknown format: ' + args);\n      }\n      if (me._rgb == null) {\n        me._rgb = [0, 0, 0];\n      }\n      if (me._rgb.length === 3) {\n        me._rgb.push(1);\n      }\n    }\n\n    Color.prototype.alpha = function(alpha) {\n      if (arguments.length) {\n        this._rgb[3] = alpha;\n        return this;\n      }\n      return this._rgb[3];\n    };\n\n    Color.prototype.toString = function() {\n      return this.name();\n    };\n\n    return Color;\n\n  })();\n\n  chroma._input = _input;\n\n\n  /**\n  \tColorBrewer colors for chroma.js\n  \n  \tCopyright (c) 2002 Cynthia Brewer, Mark Harrower, and The \n  \tPennsylvania State University.\n  \n  \tLicensed under the Apache License, Version 2.0 (the \"License\"); \n  \tyou may not use this file except in compliance with the License.\n  \tYou may obtain a copy of the License at\t\n  \thttp://www.apache.org/licenses/LICENSE-2.0\n  \n  \tUnless required by applicable law or agreed to in writing, software distributed\n  \tunder the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n  \tCONDITIONS OF ANY KIND, either express or implied. See the License for the\n  \tspecific language governing permissions and limitations under the License.\n  \n      @preserve\n   */\n\n  chroma.brewer = brewer = {\n    OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],\n    PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],\n    BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],\n    Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],\n    BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],\n    YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],\n    YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],\n    Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],\n    RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],\n    Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],\n    YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],\n    Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],\n    GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],\n    Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],\n    YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],\n    PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],\n    Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],\n    PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],\n    Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],\n    RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],\n    RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],\n    PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],\n    PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],\n    RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],\n    BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],\n    RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],\n    PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],\n    Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],\n    Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],\n    Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],\n    Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],\n    Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],\n    Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],\n    Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],\n    Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2']\n  };\n\n\n  /**\n  \tX11 color names\n  \n  \thttp://www.w3.org/TR/css3-color/#svg-color\n   */\n\n  w3cx11 = {\n    indigo: \"#4b0082\",\n    gold: \"#ffd700\",\n    hotpink: \"#ff69b4\",\n    firebrick: \"#b22222\",\n    indianred: \"#cd5c5c\",\n    yellow: \"#ffff00\",\n    mistyrose: \"#ffe4e1\",\n    darkolivegreen: \"#556b2f\",\n    olive: \"#808000\",\n    darkseagreen: \"#8fbc8f\",\n    pink: \"#ffc0cb\",\n    tomato: \"#ff6347\",\n    lightcoral: \"#f08080\",\n    orangered: \"#ff4500\",\n    navajowhite: \"#ffdead\",\n    lime: \"#00ff00\",\n    palegreen: \"#98fb98\",\n    darkslategrey: \"#2f4f4f\",\n    greenyellow: \"#adff2f\",\n    burlywood: \"#deb887\",\n    seashell: \"#fff5ee\",\n    mediumspringgreen: \"#00fa9a\",\n    fuchsia: \"#ff00ff\",\n    papayawhip: \"#ffefd5\",\n    blanchedalmond: \"#ffebcd\",\n    chartreuse: \"#7fff00\",\n    dimgray: \"#696969\",\n    black: \"#000000\",\n    peachpuff: \"#ffdab9\",\n    springgreen: \"#00ff7f\",\n    aquamarine: \"#7fffd4\",\n    white: \"#ffffff\",\n    orange: \"#ffa500\",\n    lightsalmon: \"#ffa07a\",\n    darkslategray: \"#2f4f4f\",\n    brown: \"#a52a2a\",\n    ivory: \"#fffff0\",\n    dodgerblue: \"#1e90ff\",\n    peru: \"#cd853f\",\n    lawngreen: \"#7cfc00\",\n    chocolate: \"#d2691e\",\n    crimson: \"#dc143c\",\n    forestgreen: \"#228b22\",\n    darkgrey: \"#a9a9a9\",\n    lightseagreen: \"#20b2aa\",\n    cyan: \"#00ffff\",\n    mintcream: \"#f5fffa\",\n    silver: \"#c0c0c0\",\n    antiquewhite: \"#faebd7\",\n    mediumorchid: \"#ba55d3\",\n    skyblue: \"#87ceeb\",\n    gray: \"#808080\",\n    darkturquoise: \"#00ced1\",\n    goldenrod: \"#daa520\",\n    darkgreen: \"#006400\",\n    floralwhite: \"#fffaf0\",\n    darkviolet: \"#9400d3\",\n    darkgray: \"#a9a9a9\",\n    moccasin: \"#ffe4b5\",\n    saddlebrown: \"#8b4513\",\n    grey: \"#808080\",\n    darkslateblue: \"#483d8b\",\n    lightskyblue: \"#87cefa\",\n    lightpink: \"#ffb6c1\",\n    mediumvioletred: \"#c71585\",\n    slategrey: \"#708090\",\n    red: \"#ff0000\",\n    deeppink: \"#ff1493\",\n    limegreen: \"#32cd32\",\n    darkmagenta: \"#8b008b\",\n    palegoldenrod: \"#eee8aa\",\n    plum: \"#dda0dd\",\n    turquoise: \"#40e0d0\",\n    lightgrey: \"#d3d3d3\",\n    lightgoldenrodyellow: \"#fafad2\",\n    darkgoldenrod: \"#b8860b\",\n    lavender: \"#e6e6fa\",\n    maroon: \"#800000\",\n    yellowgreen: \"#9acd32\",\n    sandybrown: \"#f4a460\",\n    thistle: \"#d8bfd8\",\n    violet: \"#ee82ee\",\n    navy: \"#000080\",\n    magenta: \"#ff00ff\",\n    dimgrey: \"#696969\",\n    tan: \"#d2b48c\",\n    rosybrown: \"#bc8f8f\",\n    olivedrab: \"#6b8e23\",\n    blue: \"#0000ff\",\n    lightblue: \"#add8e6\",\n    ghostwhite: \"#f8f8ff\",\n    honeydew: \"#f0fff0\",\n    cornflowerblue: \"#6495ed\",\n    slateblue: \"#6a5acd\",\n    linen: \"#faf0e6\",\n    darkblue: \"#00008b\",\n    powderblue: \"#b0e0e6\",\n    seagreen: \"#2e8b57\",\n    darkkhaki: \"#bdb76b\",\n    snow: \"#fffafa\",\n    sienna: \"#a0522d\",\n    mediumblue: \"#0000cd\",\n    royalblue: \"#4169e1\",\n    lightcyan: \"#e0ffff\",\n    green: \"#008000\",\n    mediumpurple: \"#9370db\",\n    midnightblue: \"#191970\",\n    cornsilk: \"#fff8dc\",\n    paleturquoise: \"#afeeee\",\n    bisque: \"#ffe4c4\",\n    slategray: \"#708090\",\n    darkcyan: \"#008b8b\",\n    khaki: \"#f0e68c\",\n    wheat: \"#f5deb3\",\n    teal: \"#008080\",\n    darkorchid: \"#9932cc\",\n    deepskyblue: \"#00bfff\",\n    salmon: \"#fa8072\",\n    darkred: \"#8b0000\",\n    steelblue: \"#4682b4\",\n    palevioletred: \"#db7093\",\n    lightslategray: \"#778899\",\n    aliceblue: \"#f0f8ff\",\n    lightslategrey: \"#778899\",\n    lightgreen: \"#90ee90\",\n    orchid: \"#da70d6\",\n    gainsboro: \"#dcdcdc\",\n    mediumseagreen: \"#3cb371\",\n    lightgray: \"#d3d3d3\",\n    mediumturquoise: \"#48d1cc\",\n    lemonchiffon: \"#fffacd\",\n    cadetblue: \"#5f9ea0\",\n    lightyellow: \"#ffffe0\",\n    lavenderblush: \"#fff0f5\",\n    coral: \"#ff7f50\",\n    purple: \"#800080\",\n    aqua: \"#00ffff\",\n    whitesmoke: \"#f5f5f5\",\n    mediumslateblue: \"#7b68ee\",\n    darkorange: \"#ff8c00\",\n    mediumaquamarine: \"#66cdaa\",\n    darksalmon: \"#e9967a\",\n    beige: \"#f5f5dc\",\n    blueviolet: \"#8a2be2\",\n    azure: \"#f0ffff\",\n    lightsteelblue: \"#b0c4de\",\n    oldlace: \"#fdf5e6\",\n    rebeccapurple: \"#663399\"\n  };\n\n  chroma.colors = colors = w3cx11;\n\n  lab2rgb = function() {\n    var a, args, b, g, l, r, x, y, z;\n    args = unpack(arguments);\n    l = args[0], a = args[1], b = args[2];\n    y = (l + 16) / 116;\n    x = isNaN(a) ? y : y + a / 500;\n    z = isNaN(b) ? y : y - b / 200;\n    y = LAB_CONSTANTS.Yn * lab_xyz(y);\n    x = LAB_CONSTANTS.Xn * lab_xyz(x);\n    z = LAB_CONSTANTS.Zn * lab_xyz(z);\n    r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);\n    g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);\n    b = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);\n    r = limit(r, 0, 255);\n    g = limit(g, 0, 255);\n    b = limit(b, 0, 255);\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n\n  xyz_rgb = function(r) {\n    return round(255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow(r, 1 / 2.4) - 0.055));\n  };\n\n  lab_xyz = function(t) {\n    if (t > LAB_CONSTANTS.t1) {\n      return t * t * t;\n    } else {\n      return LAB_CONSTANTS.t2 * (t - LAB_CONSTANTS.t0);\n    }\n  };\n\n  LAB_CONSTANTS = {\n    Kn: 18,\n    Xn: 0.950470,\n    Yn: 1,\n    Zn: 1.088830,\n    t0: 0.137931034,\n    t1: 0.206896552,\n    t2: 0.12841855,\n    t3: 0.008856452\n  };\n\n  rgb2lab = function() {\n    var b, g, r, ref, ref1, x, y, z;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    ref1 = rgb2xyz(r, g, b), x = ref1[0], y = ref1[1], z = ref1[2];\n    return [116 * y - 16, 500 * (x - y), 200 * (y - z)];\n  };\n\n  rgb_xyz = function(r) {\n    if ((r /= 255) <= 0.04045) {\n      return r / 12.92;\n    } else {\n      return pow((r + 0.055) / 1.055, 2.4);\n    }\n  };\n\n  xyz_lab = function(t) {\n    if (t > LAB_CONSTANTS.t3) {\n      return pow(t, 1 / 3);\n    } else {\n      return t / LAB_CONSTANTS.t2 + LAB_CONSTANTS.t0;\n    }\n  };\n\n  rgb2xyz = function() {\n    var b, g, r, ref, x, y, z;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    r = rgb_xyz(r);\n    g = rgb_xyz(g);\n    b = rgb_xyz(b);\n    x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / LAB_CONSTANTS.Xn);\n    y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / LAB_CONSTANTS.Yn);\n    z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / LAB_CONSTANTS.Zn);\n    return [x, y, z];\n  };\n\n  chroma.lab = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['lab']), function(){});\n  };\n\n  _input.lab = lab2rgb;\n\n  Color.prototype.lab = function() {\n    return rgb2lab(this._rgb);\n  };\n\n  bezier = function(colors) {\n    var I, I0, I1, c, lab0, lab1, lab2, lab3, ref, ref1, ref2;\n    colors = (function() {\n      var len, o, results;\n      results = [];\n      for (o = 0, len = colors.length; o < len; o++) {\n        c = colors[o];\n        results.push(chroma(c));\n      }\n      return results;\n    })();\n    if (colors.length === 2) {\n      ref = (function() {\n        var len, o, results;\n        results = [];\n        for (o = 0, len = colors.length; o < len; o++) {\n          c = colors[o];\n          results.push(c.lab());\n        }\n        return results;\n      })(), lab0 = ref[0], lab1 = ref[1];\n      I = function(t) {\n        var i, lab;\n        lab = (function() {\n          var o, results;\n          results = [];\n          for (i = o = 0; o <= 2; i = ++o) {\n            results.push(lab0[i] + t * (lab1[i] - lab0[i]));\n          }\n          return results;\n        })();\n        return chroma.lab.apply(chroma, lab);\n      };\n    } else if (colors.length === 3) {\n      ref1 = (function() {\n        var len, o, results;\n        results = [];\n        for (o = 0, len = colors.length; o < len; o++) {\n          c = colors[o];\n          results.push(c.lab());\n        }\n        return results;\n      })(), lab0 = ref1[0], lab1 = ref1[1], lab2 = ref1[2];\n      I = function(t) {\n        var i, lab;\n        lab = (function() {\n          var o, results;\n          results = [];\n          for (i = o = 0; o <= 2; i = ++o) {\n            results.push((1 - t) * (1 - t) * lab0[i] + 2 * (1 - t) * t * lab1[i] + t * t * lab2[i]);\n          }\n          return results;\n        })();\n        return chroma.lab.apply(chroma, lab);\n      };\n    } else if (colors.length === 4) {\n      ref2 = (function() {\n        var len, o, results;\n        results = [];\n        for (o = 0, len = colors.length; o < len; o++) {\n          c = colors[o];\n          results.push(c.lab());\n        }\n        return results;\n      })(), lab0 = ref2[0], lab1 = ref2[1], lab2 = ref2[2], lab3 = ref2[3];\n      I = function(t) {\n        var i, lab;\n        lab = (function() {\n          var o, results;\n          results = [];\n          for (i = o = 0; o <= 2; i = ++o) {\n            results.push((1 - t) * (1 - t) * (1 - t) * lab0[i] + 3 * (1 - t) * (1 - t) * t * lab1[i] + 3 * (1 - t) * t * t * lab2[i] + t * t * t * lab3[i]);\n          }\n          return results;\n        })();\n        return chroma.lab.apply(chroma, lab);\n      };\n    } else if (colors.length === 5) {\n      I0 = bezier(colors.slice(0, 3));\n      I1 = bezier(colors.slice(2, 5));\n      I = function(t) {\n        if (t < 0.5) {\n          return I0(t * 2);\n        } else {\n          return I1((t - 0.5) * 2);\n        }\n      };\n    }\n    return I;\n  };\n\n  chroma.bezier = function(colors) {\n    var f;\n    f = bezier(colors);\n    f.scale = function() {\n      return chroma.scale(f);\n    };\n    return f;\n  };\n\n\n  /*\n      chroma.js\n  \n      Copyright (c) 2011-2013, Gregor Aisch\n      All rights reserved.\n  \n      Redistribution and use in source and binary forms, with or without\n      modification, are permitted provided that the following conditions are met:\n  \n      * Redistributions of source code must retain the above copyright notice, this\n        list of conditions and the following disclaimer.\n  \n      * Redistributions in binary form must reproduce the above copyright notice,\n        this list of conditions and the following disclaimer in the documentation\n        and/or other materials provided with the distribution.\n  \n      * The name Gregor Aisch may not be used to endorse or promote products\n        derived from this software without specific prior written permission.\n  \n      THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n      AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n      IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n      DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n      INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n      BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n      DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n      OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n      NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n      EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n  \n      @source: https://github.com/gka/chroma.js\n   */\n\n  chroma.cubehelix = function(start, rotations, hue, gamma, lightness) {\n    var dh, dl, f;\n    if (start == null) {\n      start = 300;\n    }\n    if (rotations == null) {\n      rotations = -1.5;\n    }\n    if (hue == null) {\n      hue = 1;\n    }\n    if (gamma == null) {\n      gamma = 1;\n    }\n    if (lightness == null) {\n      lightness = [0, 1];\n    }\n    dl = lightness[1] - lightness[0];\n    dh = 0;\n    f = function(fract) {\n      var a, amp, b, cos_a, g, h, l, r, sin_a;\n      a = TWOPI * ((start + 120) / 360 + rotations * fract);\n      l = pow(lightness[0] + dl * fract, gamma);\n      h = dh !== 0 ? hue[0] + fract * dh : hue;\n      amp = h * l * (1 - l) / 2;\n      cos_a = cos(a);\n      sin_a = sin(a);\n      r = l + amp * (-0.14861 * cos_a + 1.78277 * sin_a);\n      g = l + amp * (-0.29227 * cos_a - 0.90649 * sin_a);\n      b = l + amp * (+1.97294 * cos_a);\n      return chroma(clip_rgb([r * 255, g * 255, b * 255]));\n    };\n    f.start = function(s) {\n      if (s == null) {\n        return start;\n      }\n      start = s;\n      return f;\n    };\n    f.rotations = function(r) {\n      if (r == null) {\n        return rotations;\n      }\n      rotations = r;\n      return f;\n    };\n    f.gamma = function(g) {\n      if (g == null) {\n        return gamma;\n      }\n      gamma = g;\n      return f;\n    };\n    f.hue = function(h) {\n      if (h == null) {\n        return hue;\n      }\n      hue = h;\n      if (type(hue) === 'array') {\n        dh = hue[1] - hue[0];\n        if (dh === 0) {\n          hue = hue[1];\n        }\n      } else {\n        dh = 0;\n      }\n      return f;\n    };\n    f.lightness = function(h) {\n      if (h == null) {\n        return lightness;\n      }\n      lightness = h;\n      if (type(lightness) === 'array') {\n        dl = lightness[1] - lightness[0];\n        if (dl === 0) {\n          lightness = lightness[1];\n        }\n      } else {\n        dl = 0;\n      }\n      return f;\n    };\n    f.scale = function() {\n      return chroma.scale(f);\n    };\n    f.hue(hue);\n    return f;\n  };\n\n  chroma.random = function() {\n    var code, digits, i, o;\n    digits = '0123456789abcdef';\n    code = '#';\n    for (i = o = 0; o < 6; i = ++o) {\n      code += digits.charAt(floor(Math.random() * 16));\n    }\n    return new Color(code);\n  };\n\n  chroma.average = function(colors) {\n    var a, b, c, g, l, len, o, r, rgba;\n    r = g = b = a = 0;\n    l = colors.length;\n    for (o = 0, len = colors.length; o < len; o++) {\n      c = colors[o];\n      rgba = chroma(c).rgba();\n      r += rgba[0];\n      g += rgba[1];\n      b += rgba[2];\n      a += rgba[3];\n    }\n    return new Color(r / l, g / l, b / l, a / l);\n  };\n\n  _input.rgb = function() {\n    var k, ref, results, v;\n    ref = unpack(arguments);\n    results = [];\n    for (k in ref) {\n      v = ref[k];\n      results.push(v);\n    }\n    return results;\n  };\n\n  chroma.rgb = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['rgb']), function(){});\n  };\n\n  Color.prototype.rgb = function() {\n    return this._rgb.slice(0, 3);\n  };\n\n  Color.prototype.rgba = function() {\n    return this._rgb;\n  };\n\n  _guess_formats.push({\n    p: 15,\n    test: function(n) {\n      var a;\n      a = unpack(arguments);\n      if (type(a) === 'array' && a.length === 3) {\n        return 'rgb';\n      }\n      if (a.length === 4 && type(a[3]) === \"number\" && a[3] >= 0 && a[3] <= 1) {\n        return 'rgb';\n      }\n    }\n  });\n\n  hex2rgb = function(hex) {\n    var a, b, g, r, rgb, u;\n    if (hex.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)) {\n      if (hex.length === 4 || hex.length === 7) {\n        hex = hex.substr(1);\n      }\n      if (hex.length === 3) {\n        hex = hex.split(\"\");\n        hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n      }\n      u = parseInt(hex, 16);\n      r = u >> 16;\n      g = u >> 8 & 0xFF;\n      b = u & 0xFF;\n      return [r, g, b, 1];\n    }\n    if (hex.match(/^#?([A-Fa-f0-9]{8})$/)) {\n      if (hex.length === 9) {\n        hex = hex.substr(1);\n      }\n      u = parseInt(hex, 16);\n      r = u >> 24 & 0xFF;\n      g = u >> 16 & 0xFF;\n      b = u >> 8 & 0xFF;\n      a = round((u & 0xFF) / 0xFF * 100) / 100;\n      return [r, g, b, a];\n    }\n    if ((_input.css != null) && (rgb = _input.css(hex))) {\n      return rgb;\n    }\n    throw \"unknown color: \" + hex;\n  };\n\n  rgb2hex = function(channels, mode) {\n    var a, b, g, hxa, r, str, u;\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    r = channels[0], g = channels[1], b = channels[2], a = channels[3];\n    u = r << 16 | g << 8 | b;\n    str = \"000000\" + u.toString(16);\n    str = str.substr(str.length - 6);\n    hxa = '0' + round(a * 255).toString(16);\n    hxa = hxa.substr(hxa.length - 2);\n    return \"#\" + (function() {\n      switch (mode.toLowerCase()) {\n        case 'rgba':\n          return str + hxa;\n        case 'argb':\n          return hxa + str;\n        default:\n          return str;\n      }\n    })();\n  };\n\n  _input.hex = function(h) {\n    return hex2rgb(h);\n  };\n\n  chroma.hex = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['hex']), function(){});\n  };\n\n  Color.prototype.hex = function(mode) {\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    return rgb2hex(this._rgb, mode);\n  };\n\n  _guess_formats.push({\n    p: 10,\n    test: function(n) {\n      if (arguments.length === 1 && type(n) === \"string\") {\n        return 'hex';\n      }\n    }\n  });\n\n  hsl2rgb = function() {\n    var args, b, c, g, h, i, l, o, r, ref, s, t1, t2, t3;\n    args = unpack(arguments);\n    h = args[0], s = args[1], l = args[2];\n    if (s === 0) {\n      r = g = b = l * 255;\n    } else {\n      t3 = [0, 0, 0];\n      c = [0, 0, 0];\n      t2 = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      t1 = 2 * l - t2;\n      h /= 360;\n      t3[0] = h + 1 / 3;\n      t3[1] = h;\n      t3[2] = h - 1 / 3;\n      for (i = o = 0; o <= 2; i = ++o) {\n        if (t3[i] < 0) {\n          t3[i] += 1;\n        }\n        if (t3[i] > 1) {\n          t3[i] -= 1;\n        }\n        if (6 * t3[i] < 1) {\n          c[i] = t1 + (t2 - t1) * 6 * t3[i];\n        } else if (2 * t3[i] < 1) {\n          c[i] = t2;\n        } else if (3 * t3[i] < 2) {\n          c[i] = t1 + (t2 - t1) * ((2 / 3) - t3[i]) * 6;\n        } else {\n          c[i] = t1;\n        }\n      }\n      ref = [round(c[0] * 255), round(c[1] * 255), round(c[2] * 255)], r = ref[0], g = ref[1], b = ref[2];\n    }\n    if (args.length > 3) {\n      return [r, g, b, args[3]];\n    } else {\n      return [r, g, b];\n    }\n  };\n\n  rgb2hsl = function(r, g, b) {\n    var h, l, min, ref, s;\n    if (r !== void 0 && r.length >= 3) {\n      ref = r, r = ref[0], g = ref[1], b = ref[2];\n    }\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    min = Math.min(r, g, b);\n    max = Math.max(r, g, b);\n    l = (max + min) / 2;\n    if (max === min) {\n      s = 0;\n      h = Number.NaN;\n    } else {\n      s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);\n    }\n    if (r === max) {\n      h = (g - b) / (max - min);\n    } else if (g === max) {\n      h = 2 + (b - r) / (max - min);\n    } else if (b === max) {\n      h = 4 + (r - g) / (max - min);\n    }\n    h *= 60;\n    if (h < 0) {\n      h += 360;\n    }\n    return [h, s, l];\n  };\n\n  chroma.hsl = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['hsl']), function(){});\n  };\n\n  _input.hsl = hsl2rgb;\n\n  Color.prototype.hsl = function() {\n    return rgb2hsl(this._rgb);\n  };\n\n  hsv2rgb = function() {\n    var args, b, f, g, h, i, p, q, r, ref, ref1, ref2, ref3, ref4, ref5, s, t, v;\n    args = unpack(arguments);\n    h = args[0], s = args[1], v = args[2];\n    v *= 255;\n    if (s === 0) {\n      r = g = b = v;\n    } else {\n      if (h === 360) {\n        h = 0;\n      }\n      if (h > 360) {\n        h -= 360;\n      }\n      if (h < 0) {\n        h += 360;\n      }\n      h /= 60;\n      i = floor(h);\n      f = h - i;\n      p = v * (1 - s);\n      q = v * (1 - s * f);\n      t = v * (1 - s * (1 - f));\n      switch (i) {\n        case 0:\n          ref = [v, t, p], r = ref[0], g = ref[1], b = ref[2];\n          break;\n        case 1:\n          ref1 = [q, v, p], r = ref1[0], g = ref1[1], b = ref1[2];\n          break;\n        case 2:\n          ref2 = [p, v, t], r = ref2[0], g = ref2[1], b = ref2[2];\n          break;\n        case 3:\n          ref3 = [p, q, v], r = ref3[0], g = ref3[1], b = ref3[2];\n          break;\n        case 4:\n          ref4 = [t, p, v], r = ref4[0], g = ref4[1], b = ref4[2];\n          break;\n        case 5:\n          ref5 = [v, p, q], r = ref5[0], g = ref5[1], b = ref5[2];\n      }\n    }\n    r = round(r);\n    g = round(g);\n    b = round(b);\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n\n  rgb2hsv = function() {\n    var b, delta, g, h, min, r, ref, s, v;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    min = Math.min(r, g, b);\n    max = Math.max(r, g, b);\n    delta = max - min;\n    v = max / 255.0;\n    if (max === 0) {\n      h = Number.NaN;\n      s = 0;\n    } else {\n      s = delta / max;\n      if (r === max) {\n        h = (g - b) / delta;\n      }\n      if (g === max) {\n        h = 2 + (b - r) / delta;\n      }\n      if (b === max) {\n        h = 4 + (r - g) / delta;\n      }\n      h *= 60;\n      if (h < 0) {\n        h += 360;\n      }\n    }\n    return [h, s, v];\n  };\n\n  chroma.hsv = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['hsv']), function(){});\n  };\n\n  _input.hsv = hsv2rgb;\n\n  Color.prototype.hsv = function() {\n    return rgb2hsv(this._rgb);\n  };\n\n  num2rgb = function(num) {\n    var b, g, r;\n    if (type(num) === \"number\" && num >= 0 && num <= 0xFFFFFF) {\n      r = num >> 16;\n      g = (num >> 8) & 0xFF;\n      b = num & 0xFF;\n      return [r, g, b, 1];\n    }\n    console.warn(\"unknown num color: \" + num);\n    return [0, 0, 0, 1];\n  };\n\n  rgb2num = function() {\n    var b, g, r, ref;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    return (r << 16) + (g << 8) + b;\n  };\n\n  chroma.num = function(num) {\n    return new Color(num, 'num');\n  };\n\n  Color.prototype.num = function(mode) {\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    return rgb2num(this._rgb, mode);\n  };\n\n  _input.num = num2rgb;\n\n  _guess_formats.push({\n    p: 10,\n    test: function(n) {\n      if (arguments.length === 1 && type(n) === \"number\" && n >= 0 && n <= 0xFFFFFF) {\n        return 'num';\n      }\n    }\n  });\n\n  css2rgb = function(css) {\n    var aa, ab, hsl, i, m, o, rgb, w;\n    css = css.toLowerCase();\n    if ((chroma.colors != null) && chroma.colors[css]) {\n      return hex2rgb(chroma.colors[css]);\n    }\n    if (m = css.match(/rgb\\(\\s*(\\-?\\d+),\\s*(\\-?\\d+)\\s*,\\s*(\\-?\\d+)\\s*\\)/)) {\n      rgb = m.slice(1, 4);\n      for (i = o = 0; o <= 2; i = ++o) {\n        rgb[i] = +rgb[i];\n      }\n      rgb[3] = 1;\n    } else if (m = css.match(/rgba\\(\\s*(\\-?\\d+),\\s*(\\-?\\d+)\\s*,\\s*(\\-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)/)) {\n      rgb = m.slice(1, 5);\n      for (i = w = 0; w <= 3; i = ++w) {\n        rgb[i] = +rgb[i];\n      }\n    } else if (m = css.match(/rgb\\(\\s*(\\-?\\d+(?:\\.\\d+)?)%,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*\\)/)) {\n      rgb = m.slice(1, 4);\n      for (i = aa = 0; aa <= 2; i = ++aa) {\n        rgb[i] = round(rgb[i] * 2.55);\n      }\n      rgb[3] = 1;\n    } else if (m = css.match(/rgba\\(\\s*(\\-?\\d+(?:\\.\\d+)?)%,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)/)) {\n      rgb = m.slice(1, 5);\n      for (i = ab = 0; ab <= 2; i = ++ab) {\n        rgb[i] = round(rgb[i] * 2.55);\n      }\n      rgb[3] = +rgb[3];\n    } else if (m = css.match(/hsl\\(\\s*(\\-?\\d+(?:\\.\\d+)?),\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*\\)/)) {\n      hsl = m.slice(1, 4);\n      hsl[1] *= 0.01;\n      hsl[2] *= 0.01;\n      rgb = hsl2rgb(hsl);\n      rgb[3] = 1;\n    } else if (m = css.match(/hsla\\(\\s*(\\-?\\d+(?:\\.\\d+)?),\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)/)) {\n      hsl = m.slice(1, 4);\n      hsl[1] *= 0.01;\n      hsl[2] *= 0.01;\n      rgb = hsl2rgb(hsl);\n      rgb[3] = +m[4];\n    }\n    return rgb;\n  };\n\n  rgb2css = function(rgba) {\n    var mode;\n    mode = rgba[3] < 1 ? 'rgba' : 'rgb';\n    if (mode === 'rgb') {\n      return mode + '(' + rgba.slice(0, 3).map(round).join(',') + ')';\n    } else if (mode === 'rgba') {\n      return mode + '(' + rgba.slice(0, 3).map(round).join(',') + ',' + rgba[3] + ')';\n    } else {\n\n    }\n  };\n\n  rnd = function(a) {\n    return round(a * 100) / 100;\n  };\n\n  hsl2css = function(hsl, alpha) {\n    var mode;\n    mode = alpha < 1 ? 'hsla' : 'hsl';\n    hsl[0] = rnd(hsl[0] || 0);\n    hsl[1] = rnd(hsl[1] * 100) + '%';\n    hsl[2] = rnd(hsl[2] * 100) + '%';\n    if (mode === 'hsla') {\n      hsl[3] = alpha;\n    }\n    return mode + '(' + hsl.join(',') + ')';\n  };\n\n  _input.css = function(h) {\n    return css2rgb(h);\n  };\n\n  chroma.css = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['css']), function(){});\n  };\n\n  Color.prototype.css = function(mode) {\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    if (mode.slice(0, 3) === 'rgb') {\n      return rgb2css(this._rgb);\n    } else if (mode.slice(0, 3) === 'hsl') {\n      return hsl2css(this.hsl(), this.alpha());\n    }\n  };\n\n  _input.named = function(name) {\n    return hex2rgb(w3cx11[name]);\n  };\n\n  _guess_formats.push({\n    p: 20,\n    test: function(n) {\n      if (arguments.length === 1 && (w3cx11[n] != null)) {\n        return 'named';\n      }\n    }\n  });\n\n  Color.prototype.name = function(n) {\n    var h, k;\n    if (arguments.length) {\n      if (w3cx11[n]) {\n        this._rgb = hex2rgb(w3cx11[n]);\n      }\n      this._rgb[3] = 1;\n      this;\n    }\n    h = this.hex();\n    for (k in w3cx11) {\n      if (h === w3cx11[k]) {\n        return k;\n      }\n    }\n    return h;\n  };\n\n  lch2lab = function() {\n\n    /*\n    Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.\n    These formulas were invented by David Dalrymple to obtain maximum contrast without going\n    out of gamut if the parameters are in the range 0-1.\n    \n    A saturation multiplier was added by Gregor Aisch\n     */\n    var c, h, l, ref;\n    ref = unpack(arguments), l = ref[0], c = ref[1], h = ref[2];\n    h = h * DEG2RAD;\n    return [l, cos(h) * c, sin(h) * c];\n  };\n\n  lch2rgb = function() {\n    var L, a, args, b, c, g, h, l, r, ref, ref1;\n    args = unpack(arguments);\n    l = args[0], c = args[1], h = args[2];\n    ref = lch2lab(l, c, h), L = ref[0], a = ref[1], b = ref[2];\n    ref1 = lab2rgb(L, a, b), r = ref1[0], g = ref1[1], b = ref1[2];\n    return [limit(r, 0, 255), limit(g, 0, 255), limit(b, 0, 255), args.length > 3 ? args[3] : 1];\n  };\n\n  lab2lch = function() {\n    var a, b, c, h, l, ref;\n    ref = unpack(arguments), l = ref[0], a = ref[1], b = ref[2];\n    c = sqrt(a * a + b * b);\n    h = (atan2(b, a) * RAD2DEG + 360) % 360;\n    if (round(c * 10000) === 0) {\n      h = Number.NaN;\n    }\n    return [l, c, h];\n  };\n\n  rgb2lch = function() {\n    var a, b, g, l, r, ref, ref1;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    ref1 = rgb2lab(r, g, b), l = ref1[0], a = ref1[1], b = ref1[2];\n    return lab2lch(l, a, b);\n  };\n\n  chroma.lch = function() {\n    var args;\n    args = unpack(arguments);\n    return new Color(args, 'lch');\n  };\n\n  chroma.hcl = function() {\n    var args;\n    args = unpack(arguments);\n    return new Color(args, 'hcl');\n  };\n\n  _input.lch = lch2rgb;\n\n  _input.hcl = function() {\n    var c, h, l, ref;\n    ref = unpack(arguments), h = ref[0], c = ref[1], l = ref[2];\n    return lch2rgb([l, c, h]);\n  };\n\n  Color.prototype.lch = function() {\n    return rgb2lch(this._rgb);\n  };\n\n  Color.prototype.hcl = function() {\n    return rgb2lch(this._rgb).reverse();\n  };\n\n  rgb2cmyk = function(mode) {\n    var b, c, f, g, k, m, r, ref, y;\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    r = r / 255;\n    g = g / 255;\n    b = b / 255;\n    k = 1 - Math.max(r, Math.max(g, b));\n    f = k < 1 ? 1 / (1 - k) : 0;\n    c = (1 - r - k) * f;\n    m = (1 - g - k) * f;\n    y = (1 - b - k) * f;\n    return [c, m, y, k];\n  };\n\n  cmyk2rgb = function() {\n    var alpha, args, b, c, g, k, m, r, y;\n    args = unpack(arguments);\n    c = args[0], m = args[1], y = args[2], k = args[3];\n    alpha = args.length > 4 ? args[4] : 1;\n    if (k === 1) {\n      return [0, 0, 0, alpha];\n    }\n    r = c >= 1 ? 0 : round(255 * (1 - c) * (1 - k));\n    g = m >= 1 ? 0 : round(255 * (1 - m) * (1 - k));\n    b = y >= 1 ? 0 : round(255 * (1 - y) * (1 - k));\n    return [r, g, b, alpha];\n  };\n\n  _input.cmyk = function() {\n    return cmyk2rgb(unpack(arguments));\n  };\n\n  chroma.cmyk = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['cmyk']), function(){});\n  };\n\n  Color.prototype.cmyk = function() {\n    return rgb2cmyk(this._rgb);\n  };\n\n  _input.gl = function() {\n    var i, k, o, rgb, v;\n    rgb = (function() {\n      var ref, results;\n      ref = unpack(arguments);\n      results = [];\n      for (k in ref) {\n        v = ref[k];\n        results.push(v);\n      }\n      return results;\n    }).apply(this, arguments);\n    for (i = o = 0; o <= 2; i = ++o) {\n      rgb[i] *= 255;\n    }\n    return rgb;\n  };\n\n  chroma.gl = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['gl']), function(){});\n  };\n\n  Color.prototype.gl = function() {\n    var rgb;\n    rgb = this._rgb;\n    return [rgb[0] / 255, rgb[1] / 255, rgb[2] / 255, rgb[3]];\n  };\n\n  rgb2luminance = function(r, g, b) {\n    var ref;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    r = luminance_x(r);\n    g = luminance_x(g);\n    b = luminance_x(b);\n    return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n  };\n\n  luminance_x = function(x) {\n    x /= 255;\n    if (x <= 0.03928) {\n      return x / 12.92;\n    } else {\n      return pow((x + 0.055) / 1.055, 2.4);\n    }\n  };\n\n  _interpolators = [];\n\n  interpolate = function(col1, col2, f, m) {\n    var interpol, len, o, res;\n    if (f == null) {\n      f = 0.5;\n    }\n    if (m == null) {\n      m = 'rgb';\n    }\n\n    /*\n    interpolates between colors\n    f = 0 --> me\n    f = 1 --> col\n     */\n    if (type(col1) !== 'object') {\n      col1 = chroma(col1);\n    }\n    if (type(col2) !== 'object') {\n      col2 = chroma(col2);\n    }\n    for (o = 0, len = _interpolators.length; o < len; o++) {\n      interpol = _interpolators[o];\n      if (m === interpol[0]) {\n        res = interpol[1](col1, col2, f, m);\n        break;\n      }\n    }\n    if (res == null) {\n      throw \"color mode \" + m + \" is not supported\";\n    }\n    res.alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));\n    return res;\n  };\n\n  chroma.interpolate = interpolate;\n\n  Color.prototype.interpolate = function(col2, f, m) {\n    return interpolate(this, col2, f, m);\n  };\n\n  chroma.mix = interpolate;\n\n  Color.prototype.mix = Color.prototype.interpolate;\n\n  interpolate_rgb = function(col1, col2, f, m) {\n    var xyz0, xyz1;\n    xyz0 = col1._rgb;\n    xyz1 = col2._rgb;\n    return new Color(xyz0[0] + f * (xyz1[0] - xyz0[0]), xyz0[1] + f * (xyz1[1] - xyz0[1]), xyz0[2] + f * (xyz1[2] - xyz0[2]), m);\n  };\n\n  _interpolators.push(['rgb', interpolate_rgb]);\n\n  Color.prototype.luminance = function(lum, mode) {\n    var cur_lum, eps, max_iter, test;\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    if (!arguments.length) {\n      return rgb2luminance(this._rgb);\n    }\n    if (lum === 0) {\n      this._rgb = [0, 0, 0, this._rgb[3]];\n    } else if (lum === 1) {\n      this._rgb = [255, 255, 255, this._rgb[3]];\n    } else {\n      eps = 1e-7;\n      max_iter = 20;\n      test = function(l, h) {\n        var lm, m;\n        m = l.interpolate(h, 0.5, mode);\n        lm = m.luminance();\n        if (Math.abs(lum - lm) < eps || !max_iter--) {\n          return m;\n        }\n        if (lm > lum) {\n          return test(l, m);\n        }\n        return test(m, h);\n      };\n      cur_lum = rgb2luminance(this._rgb);\n      this._rgb = (cur_lum > lum ? test(chroma('black'), this) : test(this, chroma('white'))).rgba();\n    }\n    return this;\n  };\n\n  temperature2rgb = function(kelvin) {\n    var b, g, r, temp;\n    temp = kelvin / 100;\n    if (temp < 66) {\n      r = 255;\n      g = -155.25485562709179 - 0.44596950469579133 * (g = temp - 2) + 104.49216199393888 * log(g);\n      b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp - 10) + 115.67994401066147 * log(b);\n    } else {\n      r = 351.97690566805693 + 0.114206453784165 * (r = temp - 55) - 40.25366309332127 * log(r);\n      g = 325.4494125711974 + 0.07943456536662342 * (g = temp - 50) - 28.0852963507957 * log(g);\n      b = 255;\n    }\n    return clip_rgb([r, g, b]);\n  };\n\n  rgb2temperature = function() {\n    var b, eps, g, maxTemp, minTemp, r, ref, rgb, temp;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    minTemp = 1000;\n    maxTemp = 40000;\n    eps = 0.4;\n    while (maxTemp - minTemp > eps) {\n      temp = (maxTemp + minTemp) * 0.5;\n      rgb = temperature2rgb(temp);\n      if ((rgb[2] / rgb[0]) >= (b / r)) {\n        maxTemp = temp;\n      } else {\n        minTemp = temp;\n      }\n    }\n    return round(temp);\n  };\n\n  chroma.temperature = chroma.kelvin = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['temperature']), function(){});\n  };\n\n  _input.temperature = _input.kelvin = _input.K = temperature2rgb;\n\n  Color.prototype.temperature = function() {\n    return rgb2temperature(this._rgb);\n  };\n\n  Color.prototype.kelvin = Color.prototype.temperature;\n\n  chroma.contrast = function(a, b) {\n    var l1, l2, ref, ref1;\n    if ((ref = type(a)) === 'string' || ref === 'number') {\n      a = new Color(a);\n    }\n    if ((ref1 = type(b)) === 'string' || ref1 === 'number') {\n      b = new Color(b);\n    }\n    l1 = a.luminance();\n    l2 = b.luminance();\n    if (l1 > l2) {\n      return (l1 + 0.05) / (l2 + 0.05);\n    } else {\n      return (l2 + 0.05) / (l1 + 0.05);\n    }\n  };\n\n  Color.prototype.get = function(modechan) {\n    var channel, i, me, mode, ref, src;\n    me = this;\n    ref = modechan.split('.'), mode = ref[0], channel = ref[1];\n    src = me[mode]();\n    if (channel) {\n      i = mode.indexOf(channel);\n      if (i > -1) {\n        return src[i];\n      } else {\n        return console.warn('unknown channel ' + channel + ' in mode ' + mode);\n      }\n    } else {\n      return src;\n    }\n  };\n\n  Color.prototype.set = function(modechan, value) {\n    var channel, i, me, mode, ref, src;\n    me = this;\n    ref = modechan.split('.'), mode = ref[0], channel = ref[1];\n    if (channel) {\n      src = me[mode]();\n      i = mode.indexOf(channel);\n      if (i > -1) {\n        if (type(value) === 'string') {\n          switch (value.charAt(0)) {\n            case '+':\n              src[i] += +value;\n              break;\n            case '-':\n              src[i] += +value;\n              break;\n            case '*':\n              src[i] *= +(value.substr(1));\n              break;\n            case '/':\n              src[i] /= +(value.substr(1));\n              break;\n            default:\n              src[i] = +value;\n          }\n        } else {\n          src[i] = value;\n        }\n      } else {\n        console.warn('unknown channel ' + channel + ' in mode ' + mode);\n      }\n    } else {\n      src = value;\n    }\n    me._rgb = chroma(src, mode).alpha(me.alpha())._rgb;\n    return me;\n  };\n\n  Color.prototype.darken = function(amount) {\n    var lab, me;\n    if (amount == null) {\n      amount = 1;\n    }\n    me = this;\n    lab = me.lab();\n    lab[0] -= LAB_CONSTANTS.Kn * amount;\n    return chroma.lab(lab).alpha(me.alpha());\n  };\n\n  Color.prototype.brighten = function(amount) {\n    if (amount == null) {\n      amount = 1;\n    }\n    return this.darken(-amount);\n  };\n\n  Color.prototype.darker = Color.prototype.darken;\n\n  Color.prototype.brighter = Color.prototype.brighten;\n\n  Color.prototype.saturate = function(amount) {\n    var lch, me;\n    if (amount == null) {\n      amount = 1;\n    }\n    me = this;\n    lch = me.lch();\n    lch[1] += amount * LAB_CONSTANTS.Kn;\n    if (lch[1] < 0) {\n      lch[1] = 0;\n    }\n    return chroma.lch(lch).alpha(me.alpha());\n  };\n\n  Color.prototype.desaturate = function(amount) {\n    if (amount == null) {\n      amount = 1;\n    }\n    return this.saturate(-amount);\n  };\n\n  Color.prototype.premultiply = function() {\n    var a, rgb;\n    rgb = this.rgb();\n    a = this.alpha();\n    return chroma(rgb[0] * a, rgb[1] * a, rgb[2] * a, a);\n  };\n\n  blend = function(bottom, top, mode) {\n    if (!blend[mode]) {\n      throw 'unknown blend mode ' + mode;\n    }\n    return blend[mode](bottom, top);\n  };\n\n  blend_f = function(f) {\n    return function(bottom, top) {\n      var c0, c1;\n      c0 = chroma(top).rgb();\n      c1 = chroma(bottom).rgb();\n      return chroma(f(c0, c1), 'rgb');\n    };\n  };\n\n  each = function(f) {\n    return function(c0, c1) {\n      var i, o, out;\n      out = [];\n      for (i = o = 0; o <= 3; i = ++o) {\n        out[i] = f(c0[i], c1[i]);\n      }\n      return out;\n    };\n  };\n\n  normal = function(a, b) {\n    return a;\n  };\n\n  multiply = function(a, b) {\n    return a * b / 255;\n  };\n\n  darken = function(a, b) {\n    if (a > b) {\n      return b;\n    } else {\n      return a;\n    }\n  };\n\n  lighten = function(a, b) {\n    if (a > b) {\n      return a;\n    } else {\n      return b;\n    }\n  };\n\n  screen = function(a, b) {\n    return 255 * (1 - (1 - a / 255) * (1 - b / 255));\n  };\n\n  overlay = function(a, b) {\n    if (b < 128) {\n      return 2 * a * b / 255;\n    } else {\n      return 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255));\n    }\n  };\n\n  burn = function(a, b) {\n    return 255 * (1 - (1 - b / 255) / (a / 255));\n  };\n\n  dodge = function(a, b) {\n    if (a === 255) {\n      return 255;\n    }\n    a = 255 * (b / 255) / (1 - a / 255);\n    if (a > 255) {\n      return 255;\n    } else {\n      return a;\n    }\n  };\n\n  blend.normal = blend_f(each(normal));\n\n  blend.multiply = blend_f(each(multiply));\n\n  blend.screen = blend_f(each(screen));\n\n  blend.overlay = blend_f(each(overlay));\n\n  blend.darken = blend_f(each(darken));\n\n  blend.lighten = blend_f(each(lighten));\n\n  blend.dodge = blend_f(each(dodge));\n\n  blend.burn = blend_f(each(burn));\n\n  chroma.blend = blend;\n\n  chroma.analyze = function(data) {\n    var len, o, r, val;\n    r = {\n      min: Number.MAX_VALUE,\n      max: Number.MAX_VALUE * -1,\n      sum: 0,\n      values: [],\n      count: 0\n    };\n    for (o = 0, len = data.length; o < len; o++) {\n      val = data[o];\n      if ((val != null) && !isNaN(val)) {\n        r.values.push(val);\n        r.sum += val;\n        if (val < r.min) {\n          r.min = val;\n        }\n        if (val > r.max) {\n          r.max = val;\n        }\n        r.count += 1;\n      }\n    }\n    r.domain = [r.min, r.max];\n    r.limits = function(mode, num) {\n      return chroma.limits(r, mode, num);\n    };\n    return r;\n  };\n\n  chroma.scale = function(colors, positions) {\n    var _classes, _colorCache, _colors, _correctLightness, _domain, _fixed, _max, _min, _mode, _nacol, _out, _padding, _pos, _spread, classifyValue, f, getClass, getColor, resetCache, setColors, tmap;\n    _mode = 'rgb';\n    _nacol = chroma('#ccc');\n    _spread = 0;\n    _fixed = false;\n    _domain = [0, 1];\n    _pos = [];\n    _padding = [0, 0];\n    _classes = false;\n    _colors = [];\n    _out = false;\n    _min = 0;\n    _max = 1;\n    _correctLightness = false;\n    _colorCache = {};\n    setColors = function(colors) {\n      var c, col, o, ref, ref1, ref2, w;\n      if (colors == null) {\n        colors = ['#fff', '#000'];\n      }\n      if ((colors != null) && type(colors) === 'string' && (((ref = chroma.brewer) != null ? ref[colors] : void 0) != null)) {\n        colors = chroma.brewer[colors];\n      }\n      if (type(colors) === 'array') {\n        colors = colors.slice(0);\n        for (c = o = 0, ref1 = colors.length - 1; 0 <= ref1 ? o <= ref1 : o >= ref1; c = 0 <= ref1 ? ++o : --o) {\n          col = colors[c];\n          if (type(col) === \"string\") {\n            colors[c] = chroma(col);\n          }\n        }\n        _pos.length = 0;\n        for (c = w = 0, ref2 = colors.length - 1; 0 <= ref2 ? w <= ref2 : w >= ref2; c = 0 <= ref2 ? ++w : --w) {\n          _pos.push(c / (colors.length - 1));\n        }\n      }\n      resetCache();\n      return _colors = colors;\n    };\n    getClass = function(value) {\n      var i, n;\n      if (_classes != null) {\n        n = _classes.length - 1;\n        i = 0;\n        while (i < n && value >= _classes[i]) {\n          i++;\n        }\n        return i - 1;\n      }\n      return 0;\n    };\n    tmap = function(t) {\n      return t;\n    };\n    classifyValue = function(value) {\n      var i, maxc, minc, n, val;\n      val = value;\n      if (_classes.length > 2) {\n        n = _classes.length - 1;\n        i = getClass(value);\n        minc = _classes[0] + (_classes[1] - _classes[0]) * (0 + _spread * 0.5);\n        maxc = _classes[n - 1] + (_classes[n] - _classes[n - 1]) * (1 - _spread * 0.5);\n        val = _min + ((_classes[i] + (_classes[i + 1] - _classes[i]) * 0.5 - minc) / (maxc - minc)) * (_max - _min);\n      }\n      return val;\n    };\n    getColor = function(val, bypassMap) {\n      var c, col, i, k, o, p, ref, t;\n      if (bypassMap == null) {\n        bypassMap = false;\n      }\n      if (isNaN(val)) {\n        return _nacol;\n      }\n      if (!bypassMap) {\n        if (_classes && _classes.length > 2) {\n          c = getClass(val);\n          t = c / (_classes.length - 2);\n          t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));\n        } else if (_max !== _min) {\n          t = (val - _min) / (_max - _min);\n          t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));\n          t = Math.min(1, Math.max(0, t));\n        } else {\n          t = 1;\n        }\n      } else {\n        t = val;\n      }\n      if (!bypassMap) {\n        t = tmap(t);\n      }\n      k = Math.floor(t * 10000);\n      if (_colorCache[k]) {\n        col = _colorCache[k];\n      } else {\n        if (type(_colors) === 'array') {\n          for (i = o = 0, ref = _pos.length - 1; 0 <= ref ? o <= ref : o >= ref; i = 0 <= ref ? ++o : --o) {\n            p = _pos[i];\n            if (t <= p) {\n              col = _colors[i];\n              break;\n            }\n            if (t >= p && i === _pos.length - 1) {\n              col = _colors[i];\n              break;\n            }\n            if (t > p && t < _pos[i + 1]) {\n              t = (t - p) / (_pos[i + 1] - p);\n              col = chroma.interpolate(_colors[i], _colors[i + 1], t, _mode);\n              break;\n            }\n          }\n        } else if (type(_colors) === 'function') {\n          col = _colors(t);\n        }\n        _colorCache[k] = col;\n      }\n      return col;\n    };\n    resetCache = function() {\n      return _colorCache = {};\n    };\n    setColors(colors);\n    f = function(v) {\n      var c;\n      c = chroma(getColor(v));\n      if (_out && c[_out]) {\n        return c[_out]();\n      } else {\n        return c;\n      }\n    };\n    f.classes = function(classes) {\n      var d;\n      if (classes != null) {\n        if (type(classes) === 'array') {\n          _classes = classes;\n          _domain = [classes[0], classes[classes.length - 1]];\n        } else {\n          d = chroma.analyze(_domain);\n          if (classes === 0) {\n            _classes = [d.min, d.max];\n          } else {\n            _classes = chroma.limits(d, 'e', classes);\n          }\n        }\n        return f;\n      }\n      return _classes;\n    };\n    f.domain = function(domain) {\n      var c, d, k, len, o, ref, w;\n      if (!arguments.length) {\n        return _domain;\n      }\n      _min = domain[0];\n      _max = domain[domain.length - 1];\n      _pos = [];\n      k = _colors.length;\n      if (domain.length === k && _min !== _max) {\n        for (o = 0, len = domain.length; o < len; o++) {\n          d = domain[o];\n          _pos.push((d - _min) / (_max - _min));\n        }\n      } else {\n        for (c = w = 0, ref = k - 1; 0 <= ref ? w <= ref : w >= ref; c = 0 <= ref ? ++w : --w) {\n          _pos.push(c / (k - 1));\n        }\n      }\n      _domain = [_min, _max];\n      return f;\n    };\n    f.mode = function(_m) {\n      if (!arguments.length) {\n        return _mode;\n      }\n      _mode = _m;\n      resetCache();\n      return f;\n    };\n    f.range = function(colors, _pos) {\n      setColors(colors, _pos);\n      return f;\n    };\n    f.out = function(_o) {\n      _out = _o;\n      return f;\n    };\n    f.spread = function(val) {\n      if (!arguments.length) {\n        return _spread;\n      }\n      _spread = val;\n      return f;\n    };\n    f.correctLightness = function(v) {\n      if (v == null) {\n        v = true;\n      }\n      _correctLightness = v;\n      resetCache();\n      if (_correctLightness) {\n        tmap = function(t) {\n          var L0, L1, L_actual, L_diff, L_ideal, max_iter, pol, t0, t1;\n          L0 = getColor(0, true).lab()[0];\n          L1 = getColor(1, true).lab()[0];\n          pol = L0 > L1;\n          L_actual = getColor(t, true).lab()[0];\n          L_ideal = L0 + (L1 - L0) * t;\n          L_diff = L_actual - L_ideal;\n          t0 = 0;\n          t1 = 1;\n          max_iter = 20;\n          while (Math.abs(L_diff) > 1e-2 && max_iter-- > 0) {\n            (function() {\n              if (pol) {\n                L_diff *= -1;\n              }\n              if (L_diff < 0) {\n                t0 = t;\n                t += (t1 - t) * 0.5;\n              } else {\n                t1 = t;\n                t += (t0 - t) * 0.5;\n              }\n              L_actual = getColor(t, true).lab()[0];\n              return L_diff = L_actual - L_ideal;\n            })();\n          }\n          return t;\n        };\n      } else {\n        tmap = function(t) {\n          return t;\n        };\n      }\n      return f;\n    };\n    f.padding = function(p) {\n      if (p != null) {\n        if (type(p) === 'number') {\n          p = [p, p];\n        }\n        _padding = p;\n        return f;\n      } else {\n        return _padding;\n      }\n    };\n    f.colors = function() {\n      var dd, dm, i, numColors, o, out, ref, results, samples, w;\n      numColors = 0;\n      out = 'hex';\n      if (arguments.length === 1) {\n        if (type(arguments[0]) === 'string') {\n          out = arguments[0];\n        } else {\n          numColors = arguments[0];\n        }\n      }\n      if (arguments.length === 2) {\n        numColors = arguments[0], out = arguments[1];\n      }\n      if (numColors) {\n        dm = _domain[0];\n        dd = _domain[1] - dm;\n        return (function() {\n          results = [];\n          for (var o = 0; 0 <= numColors ? o < numColors : o > numColors; 0 <= numColors ? o++ : o--){ results.push(o); }\n          return results;\n        }).apply(this).map(function(i) {\n          return f(dm + i / (numColors - 1) * dd)[out]();\n        });\n      }\n      colors = [];\n      samples = [];\n      if (_classes && _classes.length > 2) {\n        for (i = w = 1, ref = _classes.length; 1 <= ref ? w < ref : w > ref; i = 1 <= ref ? ++w : --w) {\n          samples.push((_classes[i - 1] + _classes[i]) * 0.5);\n        }\n      } else {\n        samples = _domain;\n      }\n      return samples.map(function(v) {\n        return f(v)[out]();\n      });\n    };\n    return f;\n  };\n\n  if (chroma.scales == null) {\n    chroma.scales = {};\n  }\n\n  chroma.scales.cool = function() {\n    return chroma.scale([chroma.hsl(180, 1, .9), chroma.hsl(250, .7, .4)]);\n  };\n\n  chroma.scales.hot = function() {\n    return chroma.scale(['#000', '#f00', '#ff0', '#fff'], [0, .25, .75, 1]).mode('rgb');\n  };\n\n  chroma.analyze = function(data, key, filter) {\n    var add, k, len, o, r, val, visit;\n    r = {\n      min: Number.MAX_VALUE,\n      max: Number.MAX_VALUE * -1,\n      sum: 0,\n      values: [],\n      count: 0\n    };\n    if (filter == null) {\n      filter = function() {\n        return true;\n      };\n    }\n    add = function(val) {\n      if ((val != null) && !isNaN(val)) {\n        r.values.push(val);\n        r.sum += val;\n        if (val < r.min) {\n          r.min = val;\n        }\n        if (val > r.max) {\n          r.max = val;\n        }\n        r.count += 1;\n      }\n    };\n    visit = function(val, k) {\n      if (filter(val, k)) {\n        if ((key != null) && type(key) === 'function') {\n          return add(key(val));\n        } else if ((key != null) && type(key) === 'string' || type(key) === 'number') {\n          return add(val[key]);\n        } else {\n          return add(val);\n        }\n      }\n    };\n    if (type(data) === 'array') {\n      for (o = 0, len = data.length; o < len; o++) {\n        val = data[o];\n        visit(val);\n      }\n    } else {\n      for (k in data) {\n        val = data[k];\n        visit(val, k);\n      }\n    }\n    r.domain = [r.min, r.max];\n    r.limits = function(mode, num) {\n      return chroma.limits(r, mode, num);\n    };\n    return r;\n  };\n\n  chroma.limits = function(data, mode, num) {\n    var aa, ab, ac, ad, ae, af, ag, ah, ai, aj, ak, al, am, assignments, best, centroids, cluster, clusterSizes, dist, i, j, kClusters, limits, max_log, min, min_log, mindist, n, nb_iters, newCentroids, o, p, pb, pr, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, repeat, sum, tmpKMeansBreaks, value, values, w;\n    if (mode == null) {\n      mode = 'equal';\n    }\n    if (num == null) {\n      num = 7;\n    }\n    if (type(data) === 'array') {\n      data = chroma.analyze(data);\n    }\n    min = data.min;\n    max = data.max;\n    sum = data.sum;\n    values = data.values.sort(function(a, b) {\n      return a - b;\n    });\n    limits = [];\n    if (mode.substr(0, 1) === 'c') {\n      limits.push(min);\n      limits.push(max);\n    }\n    if (mode.substr(0, 1) === 'e') {\n      limits.push(min);\n      for (i = o = 1, ref = num - 1; 1 <= ref ? o <= ref : o >= ref; i = 1 <= ref ? ++o : --o) {\n        limits.push(min + (i / num) * (max - min));\n      }\n      limits.push(max);\n    } else if (mode.substr(0, 1) === 'l') {\n      if (min <= 0) {\n        throw 'Logarithmic scales are only possible for values > 0';\n      }\n      min_log = Math.LOG10E * log(min);\n      max_log = Math.LOG10E * log(max);\n      limits.push(min);\n      for (i = w = 1, ref1 = num - 1; 1 <= ref1 ? w <= ref1 : w >= ref1; i = 1 <= ref1 ? ++w : --w) {\n        limits.push(pow(10, min_log + (i / num) * (max_log - min_log)));\n      }\n      limits.push(max);\n    } else if (mode.substr(0, 1) === 'q') {\n      limits.push(min);\n      for (i = aa = 1, ref2 = num - 1; 1 <= ref2 ? aa <= ref2 : aa >= ref2; i = 1 <= ref2 ? ++aa : --aa) {\n        p = values.length * i / num;\n        pb = floor(p);\n        if (pb === p) {\n          limits.push(values[pb]);\n        } else {\n          pr = p - pb;\n          limits.push(values[pb] * pr + values[pb + 1] * (1 - pr));\n        }\n      }\n      limits.push(max);\n    } else if (mode.substr(0, 1) === 'k') {\n\n      /*\n      implementation based on\n      http://code.google.com/p/figue/source/browse/trunk/figue.js#336\n      simplified for 1-d input values\n       */\n      n = values.length;\n      assignments = new Array(n);\n      clusterSizes = new Array(num);\n      repeat = true;\n      nb_iters = 0;\n      centroids = null;\n      centroids = [];\n      centroids.push(min);\n      for (i = ab = 1, ref3 = num - 1; 1 <= ref3 ? ab <= ref3 : ab >= ref3; i = 1 <= ref3 ? ++ab : --ab) {\n        centroids.push(min + (i / num) * (max - min));\n      }\n      centroids.push(max);\n      while (repeat) {\n        for (j = ac = 0, ref4 = num - 1; 0 <= ref4 ? ac <= ref4 : ac >= ref4; j = 0 <= ref4 ? ++ac : --ac) {\n          clusterSizes[j] = 0;\n        }\n        for (i = ad = 0, ref5 = n - 1; 0 <= ref5 ? ad <= ref5 : ad >= ref5; i = 0 <= ref5 ? ++ad : --ad) {\n          value = values[i];\n          mindist = Number.MAX_VALUE;\n          for (j = ae = 0, ref6 = num - 1; 0 <= ref6 ? ae <= ref6 : ae >= ref6; j = 0 <= ref6 ? ++ae : --ae) {\n            dist = abs(centroids[j] - value);\n            if (dist < mindist) {\n              mindist = dist;\n              best = j;\n            }\n          }\n          clusterSizes[best]++;\n          assignments[i] = best;\n        }\n        newCentroids = new Array(num);\n        for (j = af = 0, ref7 = num - 1; 0 <= ref7 ? af <= ref7 : af >= ref7; j = 0 <= ref7 ? ++af : --af) {\n          newCentroids[j] = null;\n        }\n        for (i = ag = 0, ref8 = n - 1; 0 <= ref8 ? ag <= ref8 : ag >= ref8; i = 0 <= ref8 ? ++ag : --ag) {\n          cluster = assignments[i];\n          if (newCentroids[cluster] === null) {\n            newCentroids[cluster] = values[i];\n          } else {\n            newCentroids[cluster] += values[i];\n          }\n        }\n        for (j = ah = 0, ref9 = num - 1; 0 <= ref9 ? ah <= ref9 : ah >= ref9; j = 0 <= ref9 ? ++ah : --ah) {\n          newCentroids[j] *= 1 / clusterSizes[j];\n        }\n        repeat = false;\n        for (j = ai = 0, ref10 = num - 1; 0 <= ref10 ? ai <= ref10 : ai >= ref10; j = 0 <= ref10 ? ++ai : --ai) {\n          if (newCentroids[j] !== centroids[i]) {\n            repeat = true;\n            break;\n          }\n        }\n        centroids = newCentroids;\n        nb_iters++;\n        if (nb_iters > 200) {\n          repeat = false;\n        }\n      }\n      kClusters = {};\n      for (j = aj = 0, ref11 = num - 1; 0 <= ref11 ? aj <= ref11 : aj >= ref11; j = 0 <= ref11 ? ++aj : --aj) {\n        kClusters[j] = [];\n      }\n      for (i = ak = 0, ref12 = n - 1; 0 <= ref12 ? ak <= ref12 : ak >= ref12; i = 0 <= ref12 ? ++ak : --ak) {\n        cluster = assignments[i];\n        kClusters[cluster].push(values[i]);\n      }\n      tmpKMeansBreaks = [];\n      for (j = al = 0, ref13 = num - 1; 0 <= ref13 ? al <= ref13 : al >= ref13; j = 0 <= ref13 ? ++al : --al) {\n        tmpKMeansBreaks.push(kClusters[j][0]);\n        tmpKMeansBreaks.push(kClusters[j][kClusters[j].length - 1]);\n      }\n      tmpKMeansBreaks = tmpKMeansBreaks.sort(function(a, b) {\n        return a - b;\n      });\n      limits.push(tmpKMeansBreaks[0]);\n      for (i = am = 1, ref14 = tmpKMeansBreaks.length - 1; am <= ref14; i = am += 2) {\n        if (!isNaN(tmpKMeansBreaks[i])) {\n          limits.push(tmpKMeansBreaks[i]);\n        }\n      }\n    }\n    return limits;\n  };\n\n  hsi2rgb = function(h, s, i) {\n\n    /*\n    borrowed from here:\n    http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp\n     */\n    var args, b, g, r;\n    args = unpack(arguments);\n    h = args[0], s = args[1], i = args[2];\n    h /= 360;\n    if (h < 1 / 3) {\n      b = (1 - s) / 3;\n      r = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;\n      g = 1 - (b + r);\n    } else if (h < 2 / 3) {\n      h -= 1 / 3;\n      r = (1 - s) / 3;\n      g = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;\n      b = 1 - (r + g);\n    } else {\n      h -= 2 / 3;\n      g = (1 - s) / 3;\n      b = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;\n      r = 1 - (g + b);\n    }\n    r = limit(i * r * 3);\n    g = limit(i * g * 3);\n    b = limit(i * b * 3);\n    return [r * 255, g * 255, b * 255, args.length > 3 ? args[3] : 1];\n  };\n\n  rgb2hsi = function() {\n\n    /*\n    borrowed from here:\n    http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp\n     */\n    var b, g, h, i, min, r, ref, s;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    TWOPI = Math.PI * 2;\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    min = Math.min(r, g, b);\n    i = (r + g + b) / 3;\n    s = 1 - min / i;\n    if (s === 0) {\n      h = 0;\n    } else {\n      h = ((r - g) + (r - b)) / 2;\n      h /= Math.sqrt((r - g) * (r - g) + (r - b) * (g - b));\n      h = Math.acos(h);\n      if (b > g) {\n        h = TWOPI - h;\n      }\n      h /= TWOPI;\n    }\n    return [h * 360, s, i];\n  };\n\n  chroma.hsi = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['hsi']), function(){});\n  };\n\n  _input.hsi = hsi2rgb;\n\n  Color.prototype.hsi = function() {\n    return rgb2hsi(this._rgb);\n  };\n\n  interpolate_hsx = function(col1, col2, f, m) {\n    var dh, hue, hue0, hue1, lbv, lbv0, lbv1, res, sat, sat0, sat1, xyz0, xyz1;\n    if (m === 'hsl') {\n      xyz0 = col1.hsl();\n      xyz1 = col2.hsl();\n    } else if (m === 'hsv') {\n      xyz0 = col1.hsv();\n      xyz1 = col2.hsv();\n    } else if (m === 'hsi') {\n      xyz0 = col1.hsi();\n      xyz1 = col2.hsi();\n    } else if (m === 'lch' || m === 'hcl') {\n      m = 'hcl';\n      xyz0 = col1.hcl();\n      xyz1 = col2.hcl();\n    }\n    if (m.substr(0, 1) === 'h') {\n      hue0 = xyz0[0], sat0 = xyz0[1], lbv0 = xyz0[2];\n      hue1 = xyz1[0], sat1 = xyz1[1], lbv1 = xyz1[2];\n    }\n    if (!isNaN(hue0) && !isNaN(hue1)) {\n      if (hue1 > hue0 && hue1 - hue0 > 180) {\n        dh = hue1 - (hue0 + 360);\n      } else if (hue1 < hue0 && hue0 - hue1 > 180) {\n        dh = hue1 + 360 - hue0;\n      } else {\n        dh = hue1 - hue0;\n      }\n      hue = hue0 + f * dh;\n    } else if (!isNaN(hue0)) {\n      hue = hue0;\n      if ((lbv1 === 1 || lbv1 === 0) && m !== 'hsv') {\n        sat = sat0;\n      }\n    } else if (!isNaN(hue1)) {\n      hue = hue1;\n      if ((lbv0 === 1 || lbv0 === 0) && m !== 'hsv') {\n        sat = sat1;\n      }\n    } else {\n      hue = Number.NaN;\n    }\n    if (sat == null) {\n      sat = sat0 + f * (sat1 - sat0);\n    }\n    lbv = lbv0 + f * (lbv1 - lbv0);\n    return res = chroma[m](hue, sat, lbv);\n  };\n\n  _interpolators = _interpolators.concat((function() {\n    var len, o, ref, results;\n    ref = ['hsv', 'hsl', 'hsi', 'hcl', 'lch'];\n    results = [];\n    for (o = 0, len = ref.length; o < len; o++) {\n      m = ref[o];\n      results.push([m, interpolate_hsx]);\n    }\n    return results;\n  })());\n\n  interpolate_num = function(col1, col2, f, m) {\n    var n1, n2;\n    n1 = col1.num();\n    n2 = col2.num();\n    return chroma.num(n1 + (n2 - n1) * f, 'num');\n  };\n\n  _interpolators.push(['num', interpolate_num]);\n\n  interpolate_lab = function(col1, col2, f, m) {\n    var res, xyz0, xyz1;\n    xyz0 = col1.lab();\n    xyz1 = col2.lab();\n    return res = new Color(xyz0[0] + f * (xyz1[0] - xyz0[0]), xyz0[1] + f * (xyz1[1] - xyz0[1]), xyz0[2] + f * (xyz1[2] - xyz0[2]), m);\n  };\n\n  _interpolators.push(['lab', interpolate_lab]);\n\n}).call(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/chroma-js/chroma.js\n ** module id = 86\n ** module chunks = 2 3 6\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 87\n ** module chunks = 2 3 6\n **/","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\n\nclass CircleNode extends PathNode {\n    renderPoints(ctx) {\n        const { center, radius } = this.srcElement.geometry();\n\n        ctx.arc(center.x, center.y, radius, 0, Math.PI * 2);\n    }\n}\n\nNODE_MAP.Circle = CircleNode;\n\nexport default CircleNode;\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas/circle-node.js\n **/","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\n\nclass RectNode extends PathNode {\n    renderPoints(ctx) {\n        const { origin, size } = this.srcElement.geometry();\n\n        ctx.rect(origin.x, origin.y, size.width, size.height);\n    }\n}\n\nNODE_MAP.Rect = RectNode;\n\nexport default RectNode;\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas/rect-node.js\n **/","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\nimport createPromise from '../common/create-promise';\n\nclass ImageNode extends PathNode {\n    constructor(srcElement, cors) {\n        super(srcElement);\n\n        this.onLoad = this.onLoad.bind(this);\n        this.onError = this.onError.bind(this);\n\n        this.loading = createPromise();\n\n        const img = this.img = new Image();\n\n        if (cors && !(/^data:/i.test(srcElement.src()))) {\n            img.crossOrigin = cors;\n        }\n\n        img.src = srcElement.src();\n\n        if (img.complete) {\n            this.onLoad();\n        } else {\n            img.onload = this.onLoad;\n            img.onerror = this.onError;\n        }\n    }\n\n    renderTo(ctx) {\n        if (this.loading.state === \"resolved\") {\n            ctx.save();\n\n            this.setTransform(ctx);\n            this.setClip(ctx);\n\n            this.drawImage(ctx);\n\n            ctx.restore();\n        }\n    }\n\n    optionsChange(e) {\n        if (e.field === \"src\") {\n            this.loading = createPromise();\n            this.img.src = this.srcElement.src();\n        } else {\n            super.optionsChange(e);\n        }\n    }\n\n    onLoad() {\n        this.loading.resolve();\n        this.invalidate();\n    }\n\n    onError() {\n        this.loading.reject(new Error(\n            \"Unable to load image '\" + this.img.src +\n            \"'. Check for connectivity and verify CORS headers.\"\n        ));\n    }\n\n    drawImage(ctx) {\n        const rect = this.srcElement.rect();\n        const topLeft = rect.topLeft();\n\n        ctx.drawImage(\n            this.img, topLeft.x, topLeft.y, rect.width(), rect.height()\n        );\n    }\n}\n\nNODE_MAP.Image = ImageNode;\n\nexport default ImageNode;\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas/image-node.js\n **/","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\n\nclass TextNode extends PathNode {\n    renderTo(ctx) {\n        const text = this.srcElement;\n        const pos = text.position();\n        const size = text.measure();\n\n        ctx.save();\n\n        this.setTransform(ctx);\n        this.setClip(ctx);\n        this.setOpacity(ctx);\n\n        ctx.beginPath();\n\n        ctx.font = text.options.font;\n        if (this.setFill(ctx)) {\n            ctx.fillText(text.content(), pos.x, pos.y + size.baseline);\n        }\n\n        if (this.setStroke(ctx)) {\n            this.setLineDash(ctx);\n            ctx.strokeText(text.content(), pos.x, pos.y + size.baseline);\n        }\n\n        ctx.restore();\n    }\n}\n\n\nNODE_MAP.Text = TextNode;\n\nexport default TextNode;\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas/text-node.js\n **/","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\nimport renderPath from './utils/render-path';\n\nclass MultiPathNode extends PathNode {\n    renderPoints(ctx) {\n        const paths = this.srcElement.paths;\n        for (let i = 0; i < paths.length; i++) {\n            renderPath(ctx, paths[i]);\n        }\n    }\n}\n\nNODE_MAP.MultiPath = MultiPathNode;\n\nexport default MultiPathNode;\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas/multi-path-node.js\n **/"],"sourceRoot":""}