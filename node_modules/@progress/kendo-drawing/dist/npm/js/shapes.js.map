{"version":3,"sources":["webpack:///webpack/bootstrap 13e767750b2d13e6c0a1?db68******","webpack:///./src/alignment/translate-to-point.js?e421**","webpack:///./src/geometry/transform.js?4efe*****","webpack:///./src/geometry/transformation.js?ce5c*****","webpack:///./src/mixins/observers-mixin.js?bc00*****","webpack:///./src/common/to-matrix.js?6da2*****","webpack:///./src/geometry/matrix.js?f797*****","webpack:///./src/common/defined.js?16fa*****","webpack:///./src/common/round.js?f851*****","webpack:///./src/geometry/math.js?48db*****","webpack:///./src/geometry/complex-number.js?4d62*****","webpack:///./src/geometry/constants.js?7629*****","webpack:///./src/geometry/point.js?fc87*****","webpack:///./src/accessors/define-accessors.js?45c5*****","webpack:///./src/alignment/align-start.js?aa3f**","webpack:///./src/shapes/group.js?22be**","webpack:///./src/shapes/element.js?dc65**","webpack:///./src/core/options-store.js?4b1b***","webpack:///./src/common/is-class.js?f21b***","webpack:///./src/geometry/rect.js?fd8d***","webpack:///./src/geometry/size.js?27bc***","webpack:///./src/common/value-or-default.js?e063**","webpack:///./src/common/definition-id.js?b22e***","webpack:///./src/common/is-transparent.js?5ea3**","webpack:///./src/mixins/traversable.js?354c**","webpack:///./src/common/append.js?3fab**","webpack:///./src/shapes/utils/elements-bounding-box.js?10f3**","webpack:///./src/shapes/utils/elements-clippend-bounding-box.js?6374**","webpack:///./src/accessors/define-point-accessors.js?2cf6****","webpack:///./src/common/elements-array.js?bb15***","webpack:///./src/shapes.js?a89a*","webpack:///./src/shapes/circle.js?da71*","webpack:///./src/geometry/circle.js?8d01**","webpack:///./src/mixins/paintable.js?3fa9*","webpack:///./src/mixins/measurable.js?b6ff*","webpack:///./src/accessors/define-geometry-accessors.js?0f7d*","webpack:///./src/shapes/arc.js?df83*","webpack:///./src/geometry/arc.js?c23f**","webpack:///./src/shapes/path.js?481f*","webpack:///./src/shapes/geometry-elements-array.js?3780*","webpack:///./src/common/last.js?2c0f*","webpack:///./src/geometry/segment.js?8a01**","webpack:///./src/shapes/multi-path.js?3450*","webpack:///./src/shapes/text.js?ab8f*","webpack:///./src/text-metrics/measure-text.js?bb67*","webpack:///./src/text-metrics/text-metrics.js?405d*","webpack:///./src/text-metrics/lru-cache.js?c8c5*","webpack:///./src/shapes/image.js?8f98*","webpack:///./src/shapes/layout.js?99f1*","webpack:///./src/shapes/rect.js?b097*"],"names":[],"mappings":"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","file":"src/shapes.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 13e767750b2d13e6c0a1\n **/","import createTransform from '../geometry/transform';\n\nexport default function translateToPoint(point, bbox, element) {\n    const transofrm = element.transform() || createTransform();\n    const matrix = transofrm.matrix();\n    matrix.e += point.x - bbox.origin.x;\n    matrix.f += point.y - bbox.origin.y;\n\n    transofrm.matrix(matrix);\n    element.transform(transofrm);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/alignment/translate-to-point.js\n **/","import Transformation from './transformation';\n\nexport default function transform(matrix) {\n    if (matrix === null) {\n        return null;\n    }\n\n    if (matrix instanceof Transformation) {\n        return matrix;\n    }\n\n    return new Transformation(matrix);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/transform.js\n **/","import ObserversMixin from '../mixins/observers-mixin';\nimport toMatrix from '../common/to-matrix';\nimport Matrix from './matrix';\nimport Point from './point';\n\nclass Transformation {\n\n    constructor(matrix = Matrix.unit()) {\n        this._matrix = matrix;\n    }\n\n    clone() {\n        return new Transformation(\n            this._matrix.clone()\n        );\n    }\n\n    equals(other) {\n        return other &&\n               other._matrix.equals(this._matrix);\n    }\n\n    translate(x, y) {\n        this._matrix = this._matrix.multiplyCopy(Matrix.translate(x, y));\n\n        this._optionsChange();\n        return this;\n    }\n\n    scale(scaleX, scaleY = scaleX, origin = null) {\n        let originPoint = origin;\n\n        if (originPoint) {\n            originPoint = Point.create(originPoint);\n            this._matrix = this._matrix.multiplyCopy(Matrix.translate(originPoint.x, originPoint.y));\n        }\n\n        this._matrix = this._matrix.multiplyCopy(Matrix.scale(scaleX, scaleY));\n\n        if (originPoint) {\n            this._matrix = this._matrix.multiplyCopy(Matrix.translate(-originPoint.x, -originPoint.y));\n        }\n\n        this._optionsChange();\n        return this;\n    }\n\n    rotate(angle, origin) {\n        const originPoint = Point.create(origin) || Point.ZERO;\n\n        this._matrix = this._matrix.multiplyCopy(Matrix.rotate(angle, originPoint.x, originPoint.y));\n\n        this._optionsChange();\n        return this;\n    }\n\n    multiply(transformation) {\n        const matrix = toMatrix(transformation);\n\n        this._matrix = this._matrix.multiplyCopy(matrix);\n\n        this._optionsChange();\n        return this;\n    }\n\n    matrix(matrix) {\n        if (matrix) {\n            this._matrix = matrix;\n            this._optionsChange();\n            return this;\n        }\n\n        return this._matrix;\n    }\n\n    _optionsChange() {\n        this.optionsChange({\n            field: \"transform\",\n            value: this\n        });\n    }\n}\n\nObserversMixin.extend(Transformation.prototype);\n\nexport default Transformation;\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/transformation.js\n **/","\nconst ObserversMixin = {\n    extend: function(proto) {\n        for (let method in this) {\n            if (method !== \"extend\") {\n                proto[method] = this[method];\n            }\n        }\n    },\n\n    observers: function() {\n        this._observers = this._observers || [];\n        return this._observers;\n    },\n\n    addObserver: function(element) {\n        if (!this._observers) {\n            this._observers = [ element ];\n        } else {\n            this._observers.push(element);\n        }\n        return this;\n    },\n\n    removeObserver: function(element) {\n        const observers = this.observers();\n        const index = observers.indexOf(element);\n        if (index !== -1) {\n            observers.splice(index, 1);\n        }\n        return this;\n    },\n\n    trigger: function(methodName, event) {\n        const observers = this._observers;\n\n        if (observers && !this._suspended) {\n            for (let idx = 0; idx < observers.length; idx++) {\n                let observer = observers[idx];\n                if (observer[methodName]) {\n                    observer[methodName](event);\n                }\n            }\n        }\n        return this;\n    },\n\n    optionsChange: function(e = {}) {\n        e.element = this;\n        this.trigger(\"optionsChange\", e);\n    },\n\n    geometryChange: function() {\n        this.trigger(\"geometryChange\", {\n            element: this\n        });\n    },\n\n    suspend: function() {\n        this._suspended = (this._suspended || 0) + 1;\n        return this;\n    },\n\n    resume: function() {\n        this._suspended = Math.max((this._suspended || 0) - 1, 0);\n        return this;\n    },\n\n    _observerField: function(field, value) {\n        if (this[field]) {\n            this[field].removeObserver(this);\n        }\n        this[field] = value;\n        value.addObserver(this);\n    }\n};\n\nexport default ObserversMixin;\n\n\n/** WEBPACK FOOTER **\n ** ./src/mixins/observers-mixin.js\n **/","export default function toMatrix(transformation) {\n    if (transformation && typeof transformation.matrix === \"function\") {\n        return transformation.matrix();\n    }\n\n    return transformation;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/to-matrix.js\n **/","import defined from '../common/defined';\nimport round from '../common/round';\nimport { rad } from './math';\n\nclass Matrix {\n\n    constructor(a = 0, b = 0, c = 0, d = 0, e = 0, f = 0) {\n        this.a = a;\n        this.b = b;\n        this.c = c;\n        this.d = d;\n        this.e = e;\n        this.f = f;\n    }\n\n    multiplyCopy(matrix) {\n        return new Matrix(\n            this.a * matrix.a + this.c * matrix.b,\n            this.b * matrix.a + this.d * matrix.b,\n            this.a * matrix.c + this.c * matrix.d,\n            this.b * matrix.c + this.d * matrix.d,\n            this.a * matrix.e + this.c * matrix.f + this.e,\n            this.b * matrix.e + this.d * matrix.f + this.f\n        );\n    }\n\n    invert() {\n        const { a, b, c: d, d: e, e: g, f: h } = this;\n        const det = a * e - b * d;\n\n        if (det === 0) {\n            return null;\n        }\n\n        return new Matrix(e / det, -b / det, -d / det, a / det,\n                          (d * h - e * g) / det, (b * g - a * h) / det);\n    }\n\n    clone() {\n        return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n    }\n\n    equals(other) {\n        if (!other) {\n            return false;\n        }\n\n        return this.a === other.a && this.b === other.b &&\n               this.c === other.c && this.d === other.d &&\n               this.e === other.e && this.f === other.f;\n    }\n\n    round(precision) {\n        this.a = round(this.a, precision);\n        this.b = round(this.b, precision);\n        this.c = round(this.c, precision);\n        this.d = round(this.d, precision);\n        this.e = round(this.e, precision);\n        this.f = round(this.f, precision);\n\n        return this;\n    }\n\n    toArray(precision) {\n        const result = [ this.a, this.b, this.c, this.d, this.e, this.f ];\n\n        if (defined(precision)) {\n            for (let i = 0; i < result.length; i++) {\n                result[i] = round(result[i], precision);\n            }\n        }\n\n        return result;\n    }\n\n    toString(precision, separator = \",\") {\n        return this.toArray(precision).join(separator);\n    }\n\n    static translate(x, y) {\n        return new Matrix(1, 0, 0, 1, x, y);\n    }\n\n    static unit() {\n        return new Matrix(1, 0, 0, 1, 0, 0);\n    }\n\n    static rotate(angle, x, y) {\n        const matrix = new Matrix();\n        matrix.a = Math.cos(rad(angle));\n        matrix.b = Math.sin(rad(angle));\n        matrix.c = -matrix.b;\n        matrix.d = matrix.a;\n        matrix.e = (x - x * matrix.a + y * matrix.b) || 0;\n        matrix.f = (y - y * matrix.a - x * matrix.b) || 0;\n\n        return matrix;\n    }\n\n    static scale(scaleX, scaleY) {\n        return new Matrix(scaleX, 0, 0, scaleY, 0, 0);\n    }\n}\n\nMatrix.IDENTITY = Matrix.unit();\n\nexport default Matrix;\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/matrix.js\n **/","const UNDEFINED = \"undefined\";\n\nexport default function defined(value) {\n    return typeof value !== UNDEFINED;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/defined.js\n **/","function pow(p) {\n    if (p) {\n        return Math.pow(10, p);\n    }\n\n    return 1;\n}\n\nexport default function round(value, precision) {\n    const power = pow(precision);\n    return Math.round(value * power) / power;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/round.js\n **/","import ComplexNumber from './complex-number';\nimport Point from './point';\nimport transform from './transform';\nimport { PRECISION, DEG_TO_RAD } from './constants';\nimport round from '../common/round';\n\nfunction numberSign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nexport function solveQuadraticEquation(a, b, c) {\n    const squareRoot = Math.sqrt(Math.pow(b, 2) - 4 * a * c);\n    return [\n        (-b + squareRoot) / (2 * a),\n        (-b - squareRoot) / (2 * a)\n    ];\n}\n\n//Cardano's formula\nexport function solveCubicEquation(a, b, c, d) {\n    if (a === 0) {\n        return solveQuadraticEquation(b, c, d);\n    }\n\n    const p = (3 * a * c - Math.pow(b, 2)) / (3 * Math.pow(a, 2));\n    const q = (2 * Math.pow(b, 3) - 9 * a * b * c + 27 * Math.pow(a, 2) * d) / (27 * Math.pow(a, 3));\n    const Q = Math.pow(p / 3, 3) + Math.pow(q / 2, 2);\n    const i = new ComplexNumber(0,1);\n    const b3a = -b / (3 * a);\n    let x1, x2, y1, y2, y3, z1, z2;\n\n    if (Q < 0) {\n        x1 = new ComplexNumber(-q / 2, Math.sqrt(-Q)).nthRoot(3);\n        x2 = new ComplexNumber(-q / 2, - Math.sqrt(-Q)).nthRoot(3);\n    } else {\n        x1 = -q / 2 + Math.sqrt(Q);\n        x1 = new ComplexNumber(numberSign(x1) * Math.pow(Math.abs(x1), 1 / 3));\n        x2 = -q / 2 - Math.sqrt(Q);\n        x2 = new ComplexNumber(numberSign(x2) * Math.pow(Math.abs(x2), 1 / 3));\n    }\n\n    y1 = x1.add(x2);\n\n    z1 = x1.add(x2).multiplyConstant(-1 / 2);\n    z2 = x1.add(x2.negate()).multiplyConstant(Math.sqrt(3) / 2);\n\n    y2 = z1.add(i.multiply(z2));\n    y3 = z1.add(i.negate().multiply(z2));\n\n    const result = [];\n\n    if (y1.isReal()) {\n        result.push(round(y1.real + b3a, PRECISION));\n    }\n    if (y2.isReal()) {\n        result.push(round(y2.real + b3a, PRECISION));\n    }\n    if (y3.isReal()) {\n        result.push(round(y3.real + b3a, PRECISION));\n    }\n\n    return result;\n}\n\nfunction toCubicPolynomial(points, field) {\n    return [ -points[0][field] + 3 * points[1][field] - 3 * points[2][field] + points[3][field],\n        3 * (points[0][field] - 2 * points[1][field] + points[2][field]),\n        3 * (-points[0][field] + points[1][field]),\n        points[0][field]\n    ];\n}\n\nexport function calculateCurveAt(t, field, points) {\n    const t1 = 1 - t;\n    return Math.pow(t1, 3) * points[0][field] +\n        3 * Math.pow(t1, 2) * t * points[1][field] +\n        3 * Math.pow(t, 2) * t1 * points[2][field] +\n        Math.pow(t, 3) * points[3][field];\n}\n\nexport function curveIntersectionsCount(points, point, bbox) {\n    const polynomial = toCubicPolynomial(points, \"x\");\n    const roots = solveCubicEquation(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point.x);\n    let rayIntersection, intersectsRay;\n    let count = 0;\n    for (let i = 0; i < roots.length; i++) {\n        rayIntersection = calculateCurveAt(roots[i], \"y\", points);\n        intersectsRay = close(rayIntersection, point.y) || rayIntersection > point.y;\n        if (intersectsRay && (((roots[i] === 0 || roots[i] === 1) && bbox.bottomRight().x > point.x) || (0 < roots[i] && roots[i] < 1))) {\n            count++;\n        }\n    }\n\n    return count;\n}\n\nexport function lineIntersectionsCount(a, b, point) {\n    let intersects;\n    if (a.x !== b.x) {\n        const minX = Math.min(a.x, b.x);\n        const maxX = Math.max(a.x, b.x);\n        const minY = Math.min(a.y, b.y);\n        const maxY = Math.max(a.y, b.y);\n        const inRange = minX <= point.x && point.x < maxX;\n\n        if (minY === maxY) {\n            intersects = point.y <= minY && inRange;\n        } else {\n            intersects = inRange && (((maxY - minY) * ((a.x - b.x) * (a.y - b.y) > 0 ? point.x - minX : maxX - point.x)) / (maxX - minX) + minY - point.y) >= 0;\n        }\n    }\n    return intersects ? 1 : 0;\n}\n\nexport function lineIntersection(p0, p1, p2, p3) {\n    const s1x = p1.x - p0.x;\n    const s2x = p3.x - p2.x;\n    const s1y = p1.y - p0.y;\n    const s2y = p3.y - p2.y;\n    const nx = p0.x - p2.x;\n    const ny = p0.y - p2.y;\n    const d = s1x * s2y - s2x * s1y;\n    const s = (s1x * ny - s1y * nx) / d;\n    const t = (s2x * ny - s2y * nx) / d;\n\n    if (s >= 0 && s <= 1 && t >= 0 && t <= 1) {\n        return new Point(p0.x + t * s1x, p0.y + t * s1y);\n    }\n}\n\nexport function close(a, b, tolerance = PRECISION) {\n    return round(Math.abs(a - b), tolerance) === 0;\n}\n\nexport function closeOrLess(a, b, tolerance) {\n    return a < b || close(a, b, tolerance);\n}\n\nexport function isOutOfEndPoint(endPoint, controlPoint, point) {\n    const angle = deg(Math.atan2(controlPoint.y - endPoint.y, controlPoint.x - endPoint.x));\n    const rotatedPoint = point.transformCopy(transform().rotate(-angle, endPoint));\n\n    return rotatedPoint.x < endPoint.x;\n}\n\nexport function hasRootsInRange(points, point, field, rootField, range) {\n    const polynomial = toCubicPolynomial(points, rootField);\n    const roots = solveCubicEquation(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point[rootField]);\n    let intersection;\n\n    for (let idx = 0; idx < roots.length; idx++) {\n        if (0 <= roots[idx] && roots[idx] <= 1) {\n            intersection = calculateCurveAt(roots[idx], field, points);\n            if (Math.abs(intersection - point[field]) <= range) {\n                return true;\n            }\n        }\n    }\n}\n\nexport function deg(radians) {\n    return radians / DEG_TO_RAD;\n}\n\nexport function rad(degrees) {\n    return degrees * DEG_TO_RAD;\n}\n\nexport function ellipseExtremeAngles(center, rx, ry, matrix) {\n    let extremeX = 0;\n    let extremeY = 0;\n\n    if (matrix) {\n        extremeX = Math.atan2(matrix.c * ry, matrix.a * rx);\n        if (matrix.b !== 0) {\n            extremeY = Math.atan2(matrix.d * ry, matrix.b * rx);\n        }\n    }\n\n    return {\n        x: extremeX,\n        y: extremeY\n    };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/math.js\n **/","import { PRECISION } from './constants';\nimport round from '../common/round';\n\nclass ComplexNumber {\n\n    constructor(real = 0, img = 0) {\n        this.real = real;\n        this.img = img;\n    }\n\n    add(cNumber) {\n        return new ComplexNumber(round(this.real + cNumber.real, PRECISION), round(this.img + cNumber.img, PRECISION));\n    }\n\n    addConstant(value) {\n        return new ComplexNumber(this.real + value, this.img);\n    }\n\n    negate() {\n        return new ComplexNumber(-this.real, -this.img);\n    }\n\n    multiply(cNumber) {\n        return new ComplexNumber(this.real * cNumber.real - this.img * cNumber.img,\n            this.real * cNumber.img + this.img * cNumber.real);\n    }\n\n    multiplyConstant(value) {\n        return new ComplexNumber(this.real * value, this.img * value);\n    }\n\n    nthRoot(n) {\n        const rad = Math.atan2(this.img, this.real);\n        const r = Math.sqrt(Math.pow(this.img, 2) + Math.pow(this.real, 2));\n        const nthR = Math.pow(r, 1 / n);\n\n        return new ComplexNumber(nthR * Math.cos(rad / n), nthR * Math.sin(rad / n)); //Moivre's formula\n    }\n\n    equals(cNumber) {\n        return this.real === cNumber.real && this.img === cNumber.img;\n    }\n\n    isReal() {\n        return this.img === 0;\n    }\n}\n\nexport default ComplexNumber;\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/complex-number.js\n **/","const DEG_TO_RAD = Math.PI / 180;\nconst MAX_NUM = Number.MAX_VALUE;\nconst MIN_NUM = -Number.MAX_VALUE;\nconst PRECISION = 10;\n\nexport { DEG_TO_RAD, MAX_NUM, MIN_NUM, PRECISION };\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/constants.js\n **/","import defineAccessors from '../accessors/define-accessors';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport { MIN_NUM, MAX_NUM } from './constants';\nimport toMatrix from '../common/to-matrix';\nimport defined from '../common/defined';\nimport round from '../common/round';\nimport transform from './transform';\n\nclass Point {\n\n    constructor(x = 0, y = 0) {\n        this.x = x;\n        this.y = y;\n    }\n\n    equals(other) {\n        return other && other.x === this.x && other.y === this.y;\n    }\n\n    clone() {\n        return new Point(this.x, this.y);\n    }\n\n    rotate(angle, origin) {\n        return this.transform(\n            transform().rotate(angle, origin)\n        );\n    }\n\n    translate(x, y) {\n        this.x += x;\n        this.y += y;\n\n        this.geometryChange();\n\n        return this;\n    }\n\n    translateWith(point) {\n        return this.translate(point.x, point.y);\n    }\n\n    move(x, y) {\n        this.x = this.y = 0;\n        return this.translate(x, y);\n    }\n\n    scale(scaleX, scaleY = scaleX) {\n        this.x *= scaleX;\n        this.y *= scaleY;\n\n        this.geometryChange();\n\n        return this;\n    }\n\n    scaleCopy(scaleX, scaleY) {\n        return this.clone().scale(scaleX, scaleY);\n    }\n\n    transform(transformation) {\n        const matrix = toMatrix(transformation);\n        const { x, y } = this;\n\n        this.x = matrix.a * x + matrix.c * y + matrix.e;\n        this.y = matrix.b * x + matrix.d * y + matrix.f;\n\n        this.geometryChange();\n\n        return this;\n    }\n\n    transformCopy(transformation) {\n        const point = this.clone();\n\n        if (transformation) {\n            point.transform(transformation);\n        }\n\n        return point;\n    }\n\n    distanceTo(point) {\n        const dx = this.x - point.x;\n        const dy = this.y - point.y;\n\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n\n    round(digits) {\n        this.x = round(this.x, digits);\n        this.y = round(this.y, digits);\n\n        this.geometryChange();\n\n        return this;\n    }\n\n    toArray(digits) {\n        const doRound = defined(digits);\n        const x = doRound ? round(this.x, digits) : this.x;\n        const y = doRound ? round(this.y, digits) : this.y;\n\n        return [ x, y ];\n    }\n\n    toString(digits, separator = \" \") {\n        let { x, y } = this;\n\n        if (defined(digits)) {\n            x = round(x, digits);\n            y = round(y, digits);\n        }\n\n        return x + separator + y;\n    }\n\n    static create(arg0, arg1) {\n        if (defined(arg0)) {\n            if (arg0 instanceof Point) {\n                return arg0;\n            } else if (arguments.length === 1 && arg0.length === 2) {\n                return new Point(arg0[0], arg0[1]);\n            }\n\n            return new Point(arg0, arg1);\n        }\n    }\n\n    static min() {\n        let minX = MAX_NUM;\n        let minY = MAX_NUM;\n\n        for (let i = 0; i < arguments.length; i++) {\n            let point = arguments[i];\n            minX = Math.min(point.x, minX);\n            minY = Math.min(point.y, minY);\n        }\n\n        return new Point(minX, minY);\n    }\n\n    static max() {\n        let maxX = MIN_NUM;\n        let maxY = MIN_NUM;\n\n        for (let i = 0; i < arguments.length; i++) {\n            const point = arguments[i];\n            maxX = Math.max(point.x, maxX);\n            maxY = Math.max(point.y, maxY);\n        }\n\n        return new Point(maxX, maxY);\n    }\n\n    static minPoint() {\n        return new Point(MIN_NUM, MIN_NUM);\n    }\n\n    static maxPoint() {\n        return new Point(MAX_NUM, MAX_NUM);\n    }\n\n    static get ZERO() {\n        return new Point(0, 0);\n    }\n}\n\ndefineAccessors(Point.prototype, [ \"x\", \"y\" ]);\nObserversMixin.extend(Point.prototype);\n\nexport default Point;\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/point.js\n **/","function setAccessor(field) {\n    return function(value) {\n        if (this[field] !== value) {\n            this[field] = value;\n            this.geometryChange();\n        }\n\n        return this;\n    };\n}\n\nfunction getAccessor(field) {\n    return function() {\n        return this[field];\n    };\n}\n\nexport default function defineAccessors(fn, fields) {\n    for (let i = 0; i < fields.length; i++) {\n        let name = fields[i];\n        let capitalized = name.charAt(0).toUpperCase() +\n                          name.substring(1, name.length);\n\n        fn[\"set\" + capitalized] = setAccessor(name);\n        fn[\"get\" + capitalized] = getAccessor(name);\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/accessors/define-accessors.js\n **/","\nexport default function alignStart(size, rect, align, axis, sizeField) {\n    let start;\n    if (align === \"start\") {\n        start = rect.origin[axis];\n    } else if (align === \"end\") {\n        start = rect.origin[axis] + rect.size[sizeField] - size;\n    } else {\n        start = rect.origin[axis] + (rect.size[sizeField] - size) / 2;\n    }\n\n    return start;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/alignment/align-start.js\n **/","import Element from './element';\nimport Traversable from '../mixins/traversable';\nimport append from '../common/append';\nimport elementsBoundingBox from './utils/elements-bounding-box';\nimport elementsClippedBoundingBox from './utils/elements-clippend-bounding-box';\n\nclass Group extends Element {\n\n    constructor(options) {\n        super(options);\n        this.children = [];\n    }\n\n    childrenChange(action, items, index) {\n        this.trigger(\"childrenChange\",{\n            action: action,\n            items: items,\n            index: index\n        });\n    }\n\n    append() {\n        append(this.children, arguments);\n        this._reparent(arguments, this);\n\n        this.childrenChange(\"add\", arguments);\n\n        return this;\n    }\n\n    insert(index, element) {\n        this.children.splice(index, 0, element);\n        element.parent = this;\n\n        this.childrenChange(\"add\", [ element ], index);\n\n        return this;\n    }\n\n    remove(element) {\n        const index = this.children.indexOf(element);\n        if (index >= 0) {\n            this.children.splice(index, 1);\n            element.parent = null;\n            this.childrenChange(\"remove\", [ element ], index);\n        }\n\n        return this;\n    }\n\n    removeAt(index) {\n        if (0 <= index && index < this.children.length) {\n            let element = this.children[index];\n            this.children.splice(index, 1);\n            element.parent = null;\n            this.childrenChange(\"remove\", [ element ], index);\n        }\n\n        return this;\n    }\n\n    clear() {\n        const items = this.children;\n        this.children = [];\n        this._reparent(items, null);\n\n        this.childrenChange(\"remove\", items, 0);\n\n        return this;\n    }\n\n    bbox(transformation) {\n        return elementsBoundingBox(this.children, true, this.currentTransform(transformation));\n    }\n\n    rawBBox() {\n        return elementsBoundingBox(this.children, false);\n    }\n\n    _clippedBBox(transformation) {\n        return elementsClippedBoundingBox(this.children, this.currentTransform(transformation));\n    }\n\n    currentTransform(transformation) {\n        return Element.prototype.currentTransform.call(this, transformation) || null;\n    }\n\n    containsPoint(point, parentTransform) {\n        if (this.visible()) {\n            const children = this.children;\n            const transform = this.currentTransform(parentTransform);\n            for (let idx = 0; idx < children.length; idx++) {\n                if (children[idx].containsPoint(point, transform)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    _reparent(elements, newParent) {\n        for (let i = 0; i < elements.length; i++) {\n            const child = elements[i];\n            const parent = child.parent;\n            if (parent && parent !== this && parent.remove) {\n                parent.remove(child);\n            }\n\n            child.parent = newParent;\n        }\n    }\n}\n\nGroup.prototype.nodeType = \"Group\";\n\nTraversable.extend(Group.prototype, \"children\");\n\nexport default Group;\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/group.js\n **/","import OptionsStore from '../core/options-store';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport Rect from '../geometry/rect';\nimport Matrix from '../geometry/matrix';\nimport createTransform from '../geometry/transform';\nimport valueOrDefault from '../common/value-or-default';\nimport definitionId from '../common/definition-id';\nimport defined from '../common/defined';\nimport toMatrix from '../common/to-matrix';\nimport isTransparent from '../common/is-transparent';\n\nclass Element {\n\n    constructor(options) {\n        this._initOptions(options);\n    }\n\n    _initOptions(options = {}) {\n        const { clip, transform } = options;\n\n        if (transform) {\n            options.transform = createTransform(transform);\n        }\n\n        if (clip && !clip.id) {\n            clip.id = definitionId();\n        }\n\n        this.options = new OptionsStore(options);\n        this.options.addObserver(this);\n    }\n\n    transform(transform) {\n        if (defined(transform)) {\n            this.options.set(\"transform\", createTransform(transform));\n        } else {\n            return this.options.get(\"transform\");\n        }\n    }\n\n    parentTransform() {\n        let element = this;\n        let parentMatrix;\n\n        while (element.parent) {\n            element = element.parent;\n            let transformation = element.transform();\n            if (transformation) {\n                parentMatrix = transformation.matrix().multiplyCopy(parentMatrix || Matrix.unit());\n            }\n        }\n\n        if (parentMatrix) {\n            return createTransform(parentMatrix);\n        }\n    }\n\n    currentTransform(parentTransform = this.parentTransform()) {\n        const elementTransform = this.transform();\n        const elementMatrix = toMatrix(elementTransform);\n\n        let parentMatrix = toMatrix(parentTransform);\n        let combinedMatrix;\n\n        if (elementMatrix && parentMatrix) {\n            combinedMatrix = parentMatrix.multiplyCopy(elementMatrix);\n        } else {\n            combinedMatrix = elementMatrix || parentMatrix;\n        }\n\n        if (combinedMatrix) {\n            return createTransform(combinedMatrix);\n        }\n    }\n\n    visible(visible) {\n        if (defined(visible)) {\n            this.options.set(\"visible\", visible);\n            return this;\n        }\n\n        return this.options.get(\"visible\") !== false;\n    }\n\n    clip(clip) {\n        const options = this.options;\n        if (defined(clip)) {\n            if (clip && !clip.id) {\n                clip.id = definitionId();\n            }\n            options.set(\"clip\", clip);\n            return this;\n        }\n\n        return options.get(\"clip\");\n    }\n\n    opacity(value) {\n        if (defined(value)) {\n            this.options.set(\"opacity\", value);\n            return this;\n        }\n\n        return valueOrDefault(this.options.get(\"opacity\"), 1);\n    }\n\n    clippedBBox(transformation) {\n        const bbox = this._clippedBBox(transformation);\n        if (bbox) {\n            const clip = this.clip();\n            return clip ? Rect.intersect(bbox, clip.bbox(transformation)) : bbox;\n        }\n    }\n\n    containsPoint(point, parentTransform) {\n        if (this.visible()) {\n            const transform = this.currentTransform(parentTransform);\n            let transformedPoint = point;\n            if (transform) {\n                transformedPoint = point.transformCopy(transform.matrix().invert());\n            }\n            return (this._hasFill() && this._containsPoint(transformedPoint)) || (this._isOnPath && this._hasStroke() && this._isOnPath(transformedPoint));\n        }\n        return false;\n    }\n\n    _hasFill() {\n        const fill = this.options.fill;\n        return fill && !isTransparent(fill.color);\n    }\n\n    _hasStroke() {\n        const stroke = this.options.stroke;\n        return stroke && stroke.width > 0 && !isTransparent(stroke.color);\n    }\n\n    _clippedBBox(transformation) {\n        return this.bbox(transformation);\n    }\n}\n\nElement.prototype.nodeType = \"Element\";\n\nObserversMixin.extend(Element.prototype);\n\nexport default Element;\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/element.js\n **/","import ObserversMixin from '../mixins/observers-mixin';\nimport defined from '../common/defined';\nimport isClass from '../common/is-class';\n\nconst toString = {}.toString;\n\nclass OptionsStore {\n\n    constructor(options, prefix = \"\") {\n        this.prefix = prefix;\n\n        for (let field in options) {\n            let member = options[field];\n            member = this._wrap(member, field);\n            this[field] = member;\n        }\n    }\n\n    get(field) {\n        const parts = field.split(\".\");\n        let result = this;\n\n        while (parts.length && result) {\n            let part = parts.shift();\n            result = result[part];\n        }\n\n        return result;\n    }\n\n    set(field, value) {\n        const current = this.get(field);\n\n        if (current !== value) {\n            this._set(field, this._wrap(value, field));\n            this.optionsChange({\n                field: this.prefix + field,\n                value: value\n            });\n        }\n    }\n\n    _set(field, value) {\n        const composite = field.indexOf(\".\") >= 0;\n        let parentObj = this;\n        let fieldName = field;\n\n        if (composite) {\n            const parts = fieldName.split(\".\");\n            let prefix = this.prefix;\n\n            while (parts.length > 1) {\n                fieldName = parts.shift();\n                prefix += fieldName + \".\";\n\n                let obj = parentObj[fieldName];\n\n                if (!obj) {\n                    obj = new OptionsStore({}, prefix);\n                    obj.addObserver(this);\n                    parentObj[fieldName] = obj;\n                }\n                parentObj = obj;\n            }\n            fieldName = parts[0];\n        }\n\n        parentObj._clear(fieldName);\n        parentObj[fieldName] = value;\n    }\n\n    _clear(field) {\n        const current = this[field];\n        if (current && current.removeObserver) {\n            current.removeObserver(this);\n        }\n    }\n\n    _wrap(object, field) {\n        const type = toString.call(object);\n        let wrapped = object;\n\n        if (wrapped !== null && defined(wrapped) && type === \"[object Object]\") {\n            if (!isClass(wrapped)) {\n                wrapped = new OptionsStore(wrapped, this.prefix + field);\n            }\n\n            wrapped.addObserver(this);\n        }\n\n        return wrapped;\n    }\n}\n\nObserversMixin.extend(OptionsStore.prototype);\n\nexport default OptionsStore;\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/options-store.js\n **/","export default function isClass(obj) {\n    return obj.constructor &&\n            !hasOwnProperty.call( obj, \"constructor\" ) &&\n            !hasOwnProperty.call( obj.constructor.prototype, \"isPrototypeOf\");\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/is-class.js\n **/","import ObserversMixin from '../mixins/observers-mixin';\nimport Point from './point';\nimport Size from './size';\n\nclass Rect {\n    constructor(origin = new Point(), size = new Size()) {\n        this.setOrigin(origin);\n        this.setSize(size);\n    }\n\n    clone() {\n        return new Rect(\n            this.origin.clone(),\n            this.size.clone()\n        );\n    }\n\n    equals(other) {\n        return other &&\n               other.origin.equals(this.origin) &&\n               other.size.equals(this.size);\n    }\n\n    setOrigin(value) {\n        this._observerField(\"origin\", Point.create(value));\n        this.geometryChange();\n        return this;\n    }\n\n    getOrigin() {\n        return this.origin;\n    }\n\n    setSize(value) {\n        this._observerField(\"size\", Size.create(value));\n        this.geometryChange();\n        return this;\n    }\n\n    getSize() {\n        return this.size;\n    }\n\n    width() {\n        return this.size.width;\n    }\n\n    height() {\n        return this.size.height;\n    }\n\n    topLeft() {\n        return this.origin.clone();\n    }\n\n    bottomRight() {\n        return this.origin.clone().translate(this.width(), this.height());\n    }\n\n    topRight() {\n        return this.origin.clone().translate(this.width(), 0);\n    }\n\n    bottomLeft() {\n        return this.origin.clone().translate(0, this.height());\n    }\n\n    center() {\n        return this.origin.clone().translate(this.width() / 2, this.height() / 2);\n    }\n\n    bbox(matrix) {\n        const tl = this.topLeft().transformCopy(matrix);\n        const tr = this.topRight().transformCopy(matrix);\n        const br = this.bottomRight().transformCopy(matrix);\n        const bl = this.bottomLeft().transformCopy(matrix);\n\n        return Rect.fromPoints(tl, tr, br, bl);\n    }\n\n    transformCopy(m) {\n        return Rect.fromPoints(\n            this.topLeft().transform(m),\n            this.bottomRight().transform(m)\n        );\n    }\n\n    expand(x, y = x) {\n\n        this.size.width += 2 * x;\n        this.size.height += 2 * y;\n\n        this.origin.translate(-x, -y);\n\n        return this;\n    }\n\n    expandCopy(x, y) {\n        return this.clone().expand(x, y);\n    }\n\n    containsPoint(point) {\n        const origin = this.origin;\n        const bottomRight = this.bottomRight();\n        return !(point.x < origin.x || point.y < origin.y || bottomRight.x < point.x || bottomRight.y < point.y);\n    }\n\n    _isOnPath(point, width) {\n        const rectOuter = this.expandCopy(width, width);\n        const rectInner = this.expandCopy(-width, -width);\n\n        return rectOuter.containsPoint(point) && !rectInner.containsPoint(point);\n    }\n\n    static fromPoints() {\n        const topLeft = Point.min.apply(null, arguments);\n        const bottomRight = Point.max.apply(null, arguments);\n        const size = new Size(\n            bottomRight.x - topLeft.x,\n            bottomRight.y - topLeft.y\n        );\n\n        return new Rect(topLeft, size);\n    }\n\n    static union(a, b) {\n        return Rect.fromPoints(\n            Point.min(a.topLeft(), b.topLeft()),\n            Point.max(a.bottomRight(), b.bottomRight())\n        );\n    }\n\n    static intersect(a, b) {\n        const rect1 = {\n            left: a.topLeft().x,\n            top: a.topLeft().y,\n            right: a.bottomRight().x,\n            bottom: a.bottomRight().y\n        };\n\n        const rect2 = {\n            left: b.topLeft().x,\n            top: b.topLeft().y,\n            right: b.bottomRight().x,\n            bottom: b.bottomRight().y\n        };\n\n        if (rect1.left <= rect2.right &&\n            rect2.left <= rect1.right &&\n            rect1.top <= rect2.bottom &&\n            rect2.top <= rect1.bottom) {\n            return Rect.fromPoints(\n                new Point(Math.max(rect1.left, rect2.left), Math.max(rect1.top, rect2.top)),\n                new Point(Math.min(rect1.right, rect2.right), Math.min(rect1.bottom, rect2.bottom))\n            );\n        }\n    }\n}\n\nObserversMixin.extend(Rect.prototype);\n\nexport default Rect;\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/rect.js\n **/","import defineAccessors from '../accessors/define-accessors';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport defined from '../common/defined';\nimport round from '../common/round';\n\nclass Size {\n    constructor(width = 0, height = 0) {\n        this.width = width;\n        this.height = height;\n    }\n\n    equals(other) {\n        return other && other.width === this.width && other.height === this.height;\n    }\n\n    clone() {\n        return new Size(this.width, this.height);\n    }\n\n    toArray(digits) {\n        const doRound = defined(digits);\n        const width = doRound ? round(this.width, digits) : this.width;\n        const height = doRound ? round(this.height, digits) : this.height;\n\n        return [ width, height ];\n    }\n\n    static create(arg0, arg1) {\n        if (defined(arg0)) {\n            if (arg0 instanceof Size) {\n                return arg0;\n            } else if (arguments.length === 1 && arg0.length === 2) {\n                return new Size(arg0[0], arg0[1]);\n            }\n\n            return new Size(arg0, arg1);\n        }\n    }\n\n    static get ZERO() {\n        return new Size(0, 0);\n    }\n}\n\ndefineAccessors(Size.prototype, [ \"width\", \"height\" ]);\nObserversMixin.extend(Size.prototype);\n\nexport default Size;\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/size.js\n **/","import defined from './defined';\n\nexport default function valueOrDefault(value, defaultValue) {\n    return defined(value) ? value : defaultValue;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/value-or-default.js\n **/","let defId = 1;\n\nexport default function definitionId() {\n    return \"kdef\" + defId++;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/definition-id.js\n **/","import defined from './defined';\n\nexport default function isTransparent(color) {\n    return color === \"\" || color === null || color === \"none\" || color === \"transparent\" || !defined(color);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/is-transparent.js\n **/","\nconst Traversable = {\n    extend: function(proto, childrenField) {\n        proto.traverse = function(callback) {\n            const children = this[childrenField];\n\n            for (let i = 0; i < children.length; i++) {\n                let child = children[i];\n\n                if (child.traverse) {\n                    child.traverse(callback);\n                } else {\n                    callback(child);\n                }\n            }\n\n            return this;\n        };\n    }\n};\n\nexport default Traversable;\n\n\n/** WEBPACK FOOTER **\n ** ./src/mixins/traversable.js\n **/","export default function append(first, second) {\n    first.push.apply(first, second);\n    return first;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/append.js\n **/","import Rect from '../../geometry/rect';\n\nexport default function elementsBoundingBox(elements, applyTransform, transformation) {\n    let boundingBox;\n\n    for (let i = 0; i < elements.length; i++) {\n        let element = elements[i];\n        if (element.visible()) {\n            let elementBoundingBox = applyTransform ? element.bbox(transformation) : element.rawBBox();\n            if (elementBoundingBox) {\n                if (boundingBox) {\n                    boundingBox = Rect.union(boundingBox, elementBoundingBox);\n                } else {\n                    boundingBox = elementBoundingBox;\n                }\n            }\n        }\n    }\n\n    return boundingBox;\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/utils/elements-bounding-box.js\n **/","import Rect from '../../geometry/rect';\n\nexport default function elementsClippedBoundingBox(elements, transformation) {\n    let boundingBox;\n\n    for (let i = 0; i < elements.length; i++) {\n        let element = elements[i];\n        if (element.visible()) {\n            let elementBoundingBox = element.clippedBBox(transformation);\n            if (elementBoundingBox) {\n                if (boundingBox) {\n                    boundingBox = Rect.union(boundingBox, elementBoundingBox);\n                } else {\n                    boundingBox = elementBoundingBox;\n                }\n            }\n        }\n    }\n\n    return boundingBox;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/utils/elements-clippend-bounding-box.js\n **/","import defined from '../common/defined';\nimport Point from '../geometry/point';\n\nfunction pointAccessor(name) {\n    const fieldName = \"_\" + name;\n    return function(value) {\n        if (defined(value)) {\n            this._observerField(fieldName, Point.create(value));\n            this.geometryChange();\n            return this;\n        }\n\n        return this[fieldName];\n    };\n}\n\nexport default function definePointAccessors(fn, names) {\n    for (let i = 0; i < names.length; i++) {\n        fn[names[i]] = pointAccessor(names[i]);\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/accessors/define-point-accessors.js\n **/","import ObserversMixin from '../mixins/observers-mixin';\n\nconst push = [].push;\nconst pop = [].pop;\nconst splice = [].splice;\nconst shift = [].shift;\nconst slice = [].slice;\nconst unshift = [].unshift;\n\nclass ElementsArray {\n    constructor(array = []) {\n\n        this.length = 0;\n        this._splice(0, array.length, array);\n    }\n\n    elements(elements) {\n        if (elements) {\n            this._splice(0, this.length, elements);\n\n            this._change();\n            return this;\n        }\n\n        return this.slice(0);\n    }\n\n    push() {\n        const elements = arguments;\n        const result = push.apply(this, elements);\n\n        this._add(elements);\n\n        return result;\n    }\n\n    slice() {\n        return slice.call(this);\n    }\n\n    pop() {\n        const length = this.length;\n        const result = pop.apply(this);\n\n        if (length) {\n            this._remove([ result ]);\n        }\n\n        return result;\n    }\n\n    splice(index, howMany) {\n        const elements = slice.call(arguments, 2);\n        const result = this._splice(index, howMany, elements);\n\n        this._change();\n\n        return result;\n    }\n\n    shift() {\n        const length = this.length;\n        const result = shift.apply(this);\n\n        if (length) {\n            this._remove([ result ]);\n        }\n\n        return result;\n    }\n\n    unshift() {\n        const elements = arguments;\n        const result = unshift.apply(this, elements);\n\n        this._add(elements);\n\n        return result;\n    }\n\n    indexOf(element) {\n        const length = this.length;\n\n        for (let idx = 0; idx < length; idx++) {\n            if (this[idx] === element) {\n                return idx;\n            }\n        }\n        return -1;\n    }\n\n    _splice(index, howMany, elements) {\n        const result = splice.apply(this, [ index, howMany ].concat(elements));\n\n        this._clearObserver(result);\n        this._setObserver(elements);\n\n        return result;\n    }\n\n    _add(elements) {\n        this._setObserver(elements);\n        this._change();\n    }\n\n    _remove(elements) {\n        this._clearObserver(elements);\n        this._change();\n    }\n\n    _setObserver(elements) {\n        for (let idx = 0; idx < elements.length; idx++) {\n            elements[idx].addObserver(this);\n        }\n    }\n\n    _clearObserver(elements) {\n        for (let idx = 0; idx < elements.length; idx++) {\n            elements[idx].removeObserver(this);\n        }\n    }\n\n    _change() {}\n}\n\nObserversMixin.extend(ElementsArray.prototype);\n\nexport default ElementsArray;\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/elements-array.js\n **/","export { default as Element } from './shapes/element';\nexport { default as Circle } from './shapes/circle';\nexport { default as Arc } from './shapes/arc';\nexport { default as Path } from './shapes/path';\nexport { default as MultiPath } from './shapes/multi-path';\nexport { default as Text } from './shapes/text';\nexport { default as Image } from './shapes/image';\nexport { default as Group } from './shapes/group';\nexport { default as Layout } from './shapes/layout';\nexport { default as Rect } from './shapes/rect';\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes.js\n **/","import GeometryCircle from '../geometry/circle';\nimport Paintable from '../mixins/paintable';\nimport Measurable from '../mixins/measurable';\nimport defineGeometryAccessors from '../accessors/define-geometry-accessors';\nimport Element from './element';\nimport defined from '../common/defined';\n\nconst DEFAULT_STROKE = \"#000\";\n\nclass Circle extends Element {\n\n    constructor(geometry = new GeometryCircle(), options = {}) {\n        super(options);\n        this.geometry(geometry);\n\n        if (!defined(this.options.stroke)) {\n            this.stroke(DEFAULT_STROKE);\n        }\n    }\n\n    rawBBox() {\n        return this._geometry.bbox();\n    }\n\n    _bbox(matrix) {\n        return this._geometry.bbox(matrix);\n    }\n\n    _containsPoint(point) {\n        return this.geometry().containsPoint(point);\n    }\n\n    _isOnPath(point) {\n        return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n    }\n}\n\nCircle.prototype.nodeType = \"Circle\";\n\nPaintable.extend(Circle.prototype);\nMeasurable.extend(Circle.prototype);\ndefineGeometryAccessors(Circle.prototype, [ \"geometry\" ]);\n\nexport default Circle;\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/circle.js\n **/","import defineAccessors from '../accessors/define-accessors';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport Point from './point';\nimport Rect from './rect';\nimport { rad, ellipseExtremeAngles } from './math';\n\nconst PI_DIV_2 = Math.PI / 2;\n\nclass Circle {\n\n    constructor(center = new Point(), radius = 0) {\n        this.setCenter(center);\n        this.setRadius(radius);\n    }\n\n    setCenter(value) {\n        this._observerField(\"center\", Point.create(value));\n        this.geometryChange();\n        return this;\n    }\n\n    getCenter() {\n        return this.center;\n    }\n\n    equals(other) {\n        return other &&\n               other.center.equals(this.center) &&\n               other.radius === this.radius;\n    }\n\n    clone() {\n        return new Circle(this.center.clone(), this.radius);\n    }\n\n    pointAt(angle) {\n        return this._pointAt(rad(angle));\n    }\n\n    bbox(matrix) {\n        const extremeAngles = ellipseExtremeAngles(this.center, this.radius, this.radius, matrix);\n        let minPoint = Point.maxPoint();\n        let maxPoint = Point.minPoint();\n\n        for (let i = 0; i < 4; i++) {\n            let currentPointX = this._pointAt(extremeAngles.x + i * PI_DIV_2).transformCopy(matrix);\n            let currentPointY = this._pointAt(extremeAngles.y + i * PI_DIV_2).transformCopy(matrix);\n            let currentPoint = new Point(currentPointX.x, currentPointY.y);\n\n            minPoint = Point.min(minPoint, currentPoint);\n            maxPoint = Point.max(maxPoint, currentPoint);\n        }\n\n        return Rect.fromPoints(minPoint, maxPoint);\n    }\n\n    _pointAt(angle) {\n        const { center, radius } = this;\n\n        return new Point(\n            center.x + radius * Math.cos(angle),\n            center.y + radius * Math.sin(angle)\n        );\n    }\n\n    containsPoint(point) {\n        const { center, radius } = this;\n        const inCircle = Math.pow(point.x - center.x, 2) +\n            Math.pow(point.y - center.y, 2) <= Math.pow(radius, 2);\n        return inCircle;\n    }\n\n    _isOnPath(point, width) {\n        const { center, radius } = this;\n        const pointDistance = center.distanceTo(point);\n\n        return radius - width <= pointDistance && pointDistance <= radius + width;\n    }\n}\n\ndefineAccessors(Circle.prototype, [ \"radius\" ]);\nObserversMixin.extend(Circle.prototype);\n\nexport default Circle;\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/circle.js\n **/","import defined from '../common/defined';\n\nconst GRADIENT = \"Gradient\";\n\nconst Paintable = {\n    extend: function(proto) {\n        proto.fill = this.fill;\n        proto.stroke = this.stroke;\n    },\n\n    fill: function(color, opacity) {\n        const options = this.options;\n\n        if (defined(color)) {\n            if (color && color.nodeType !== GRADIENT) {\n                const newFill = {\n                    color: color\n                };\n                if (defined(opacity)) {\n                    newFill.opacity = opacity;\n                }\n                options.set(\"fill\", newFill);\n            } else {\n                options.set(\"fill\", color);\n            }\n\n            return this;\n        }\n\n        return options.get(\"fill\");\n    },\n\n    stroke: function(color, width, opacity) {\n        if (defined(color)) {\n            this.options.set(\"stroke.color\", color);\n\n            if (defined(width)) {\n                this.options.set(\"stroke.width\", width);\n            }\n\n            if (defined(opacity)) {\n                this.options.set(\"stroke.opacity\", opacity);\n            }\n\n            return this;\n        }\n\n        return this.options.get(\"stroke\");\n    }\n};\n\nexport default Paintable;\n\n\n/** WEBPACK FOOTER **\n ** ./src/mixins/paintable.js\n **/","import Matrix from '../geometry/matrix';\nimport toMatrix from '../common/to-matrix';\n\nconst IDENTITY_MATRIX_HASH = Matrix.IDENTITY.toString();\n\nconst Measurable = {\n    extend: function(proto) {\n        proto.bbox = this.bbox;\n        proto.geometryChange = this.geometryChange;\n    },\n\n    bbox: function(transformation) {\n        const combinedMatrix = toMatrix(this.currentTransform(transformation));\n        const matrixHash = combinedMatrix ? combinedMatrix.toString() : IDENTITY_MATRIX_HASH;\n        let bbox;\n\n        if (this._bboxCache && this._matrixHash === matrixHash) {\n            bbox = this._bboxCache.clone();\n        } else {\n            bbox = this._bbox(combinedMatrix);\n            this._bboxCache = bbox ? bbox.clone() : null;\n            this._matrixHash = matrixHash;\n        }\n\n        const strokeWidth = this.options.get(\"stroke.width\");\n        if (strokeWidth && bbox) {\n            bbox.expand(strokeWidth / 2);\n        }\n\n        return bbox;\n    },\n\n    geometryChange: function() {\n        delete this._bboxCache;\n        this.trigger(\"geometryChange\", {\n            element: this\n        });\n    }\n};\n\nexport default Measurable;\n\n\n/** WEBPACK FOOTER **\n ** ./src/mixins/measurable.js\n **/","import defined from '../common/defined';\n\nfunction geometryAccessor(name) {\n    const fieldName = \"_\" + name;\n    return function(value) {\n        if (defined(value)) {\n            this._observerField(fieldName, value);\n            this.geometryChange();\n            return this;\n        }\n\n        return this[fieldName];\n    };\n}\n\nexport default function defineGeometryAccessors(fn, names) {\n    for (let i = 0; i < names.length; i++) {\n        fn[names[i]] = geometryAccessor(names[i]);\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/accessors/define-geometry-accessors.js\n **/","import GeometryArc from '../geometry/arc';\nimport Element from './element';\nimport Path from './path';\nimport Paintable from '../mixins/paintable';\nimport Measurable from '../mixins/measurable';\nimport defineGeometryAccessors from '../accessors/define-geometry-accessors';\nimport defined from '../common/defined';\n\nconst DEFAULT_STROKE = \"#000\";\n\nclass Arc extends Element {\n\n    constructor(geometry = new GeometryArc(), options = {}) {\n        super(options);\n\n        this.geometry(geometry);\n\n        if (!defined(this.options.stroke)) {\n            this.stroke(DEFAULT_STROKE);\n        }\n    }\n\n    _bbox(matrix) {\n        return this._geometry.bbox(matrix);\n    }\n\n    rawBBox() {\n        return this.geometry().bbox();\n    }\n\n    toPath() {\n        const path = new Path();\n        const curvePoints = this.geometry().curvePoints();\n\n        if (curvePoints.length > 0) {\n            path.moveTo(curvePoints[0].x, curvePoints[0].y);\n\n            for (let i = 1; i < curvePoints.length; i += 3) {\n                path.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);\n            }\n        }\n\n        return path;\n    }\n\n    _containsPoint(point) {\n        return this.geometry().containsPoint(point);\n    }\n\n    _isOnPath(point) {\n        return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n    }\n}\n\nArc.prototype.nodeType = \"Arc\";\n\nPaintable.extend(Arc.prototype);\nMeasurable.extend(Arc.prototype);\ndefineGeometryAccessors(Arc.prototype, [ \"geometry\" ]);\n\nexport default Arc;\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/arc.js\n **/","import defineAccessors from '../accessors/define-accessors';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport round from '../common/round';\nimport { rad, deg, ellipseExtremeAngles, lineIntersection, closeOrLess } from './math';\nimport { PRECISION } from './constants';\nimport Point from './point';\nimport Rect from './rect';\n\nconst MAX_INTERVAL = 45;\nconst pow = Math.pow;\n\nclass Arc {\n\n    constructor(center = new Point(), options = {}) {\n        this.setCenter(center);\n\n        this.radiusX = options.radiusX;\n        this.radiusY = options.radiusY || options.radiusX;\n        this.startAngle = options.startAngle;\n        this.endAngle = options.endAngle;\n        this.anticlockwise = options.anticlockwise || false;\n    }\n\n    clone() {\n        return new Arc(this.center, {\n            radiusX: this.radiusX,\n            radiusY: this.radiusY,\n            startAngle: this.startAngle,\n            endAngle: this.endAngle,\n            anticlockwise: this.anticlockwise\n        });\n    }\n\n    setCenter(value) {\n        this._observerField(\"center\", Point.create(value));\n        this.geometryChange();\n        return this;\n    }\n\n    getCenter() {\n        return this.center;\n    }\n\n    pointAt(angle) {\n        const center = this.center;\n        const radian = rad(angle);\n\n        return new Point(\n            center.x + this.radiusX * Math.cos(radian),\n            center.y + this.radiusY * Math.sin(radian)\n        );\n    }\n\n    curvePoints() {\n        const startAngle = this.startAngle;\n        const dir = this.anticlockwise ? -1 : 1;\n        const curvePoints = [ this.pointAt(startAngle) ];\n        const interval = this._arcInterval();\n        const intervalAngle = interval.endAngle - interval.startAngle;\n        const subIntervalsCount = Math.ceil(intervalAngle / MAX_INTERVAL);\n        const subIntervalAngle = intervalAngle / subIntervalsCount;\n        let currentAngle = startAngle;\n\n        for (let i = 1; i <= subIntervalsCount; i++) {\n            const nextAngle = currentAngle + dir * subIntervalAngle;\n            const points = this._intervalCurvePoints(currentAngle, nextAngle);\n\n            curvePoints.push(points.cp1, points.cp2, points.p2);\n            currentAngle = nextAngle;\n        }\n\n        return curvePoints;\n    }\n\n    bbox(matrix) {\n        const interval = this._arcInterval();\n        const startAngle = interval.startAngle;\n        const endAngle = interval.endAngle;\n        const extremeAngles = ellipseExtremeAngles(this.center, this.radiusX, this.radiusY, matrix);\n        const extremeX = deg(extremeAngles.x);\n        const extremeY = deg(extremeAngles.y);\n        const endPoint = this.pointAt(endAngle).transformCopy(matrix);\n        let currentAngleX = bboxStartAngle(extremeX, startAngle);\n        let currentAngleY = bboxStartAngle(extremeY, startAngle);\n        let currentPoint = this.pointAt(startAngle).transformCopy(matrix);\n        let minPoint = Point.min(currentPoint, endPoint);\n        let maxPoint = Point.max(currentPoint, endPoint);\n\n        while (currentAngleX < endAngle || currentAngleY < endAngle) {\n            let currentPointX;\n            if (currentAngleX < endAngle) {\n                currentPointX = this.pointAt(currentAngleX).transformCopy(matrix);\n                currentAngleX += 90;\n            }\n\n            let currentPointY;\n            if (currentAngleY < endAngle) {\n                currentPointY = this.pointAt(currentAngleY).transformCopy(matrix);\n                currentAngleY += 90;\n            }\n\n            currentPoint = new Point(currentPointX.x, currentPointY.y);\n            minPoint = Point.min(minPoint, currentPoint);\n            maxPoint = Point.max(maxPoint, currentPoint);\n        }\n\n        return Rect.fromPoints(minPoint, maxPoint);\n    }\n\n    _arcInterval() {\n        let { startAngle, endAngle, anticlockwise } = this;\n\n        if (anticlockwise) {\n            let oldStart = startAngle;\n            startAngle = endAngle;\n            endAngle = oldStart;\n        }\n\n        if (startAngle > endAngle || (anticlockwise && startAngle === endAngle)) {\n            endAngle += 360;\n        }\n\n        return {\n            startAngle: startAngle,\n            endAngle: endAngle\n        };\n    }\n\n    _intervalCurvePoints(startAngle, endAngle) {\n        const p1 = this.pointAt(startAngle);\n        const p2 = this.pointAt(endAngle);\n        const p1Derivative = this._derivativeAt(startAngle);\n        const p2Derivative = this._derivativeAt(endAngle);\n        const t = (rad(endAngle) - rad(startAngle)) / 3;\n        const cp1 = new Point(p1.x + t * p1Derivative.x, p1.y + t * p1Derivative.y);\n        const cp2 = new Point(p2.x - t * p2Derivative.x, p2.y - t * p2Derivative.y);\n\n        return {\n            p1: p1,\n            cp1: cp1,\n            cp2: cp2,\n            p2: p2\n        };\n    }\n\n    _derivativeAt(angle) {\n        const radian = rad(angle);\n\n        return new Point(-this.radiusX * Math.sin(radian), this.radiusY * Math.cos(radian));\n    }\n\n    containsPoint(point) {\n        const interval = this._arcInterval();\n        const intervalAngle = interval.endAngle - interval.startAngle;\n        const { center, radiusX, radiusY } = this;\n        const distance = center.distanceTo(point);\n        const angleRad = Math.atan2(point.y - center.y, point.x - center.x);\n        const pointRadius = (radiusX * radiusY) /\n            Math.sqrt(pow(radiusX, 2) * pow(Math.sin(angleRad), 2) + pow(radiusY, 2) * pow(Math.cos(angleRad), 2));\n        const startPoint = this.pointAt(this.startAngle).round(PRECISION);\n        const endPoint = this.pointAt(this.endAngle).round(PRECISION);\n        const intersection = lineIntersection(center, point.round(PRECISION), startPoint, endPoint);\n        let containsPoint;\n\n        if (intervalAngle < 180) {\n            containsPoint = intersection && closeOrLess(center.distanceTo(intersection), distance) && closeOrLess(distance, pointRadius);\n        } else {\n            let angle = calculateAngle(center.x, center.y, radiusX, radiusY, point.x, point.y);\n            if (angle !== 360) {\n                angle = (360 + angle) % 360;\n            }\n\n            let inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;\n            containsPoint = (inAngleRange && closeOrLess(distance, pointRadius)) || (!inAngleRange && (!intersection || intersection.equals(point)));\n        }\n        return containsPoint;\n    }\n\n    _isOnPath(point, width) {\n        const interval = this._arcInterval();\n        const center = this.center;\n        let angle = calculateAngle(center.x, center.y, this.radiusX, this.radiusY, point.x, point.y);\n        if (angle !== 360) {\n            angle = (360 + angle) % 360;\n        }\n\n        const inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;\n\n        return inAngleRange && this.pointAt(angle).distanceTo(point) <= width;\n    }\n\n    static fromPoints(start, end, rx, ry, largeArc, swipe) {\n        const arcParameters = normalizeArcParameters({\n            x1: start.x,\n            y1: start.y,\n            x2: end.x,\n            y2: end.y,\n            rx: rx,\n            ry: ry,\n            largeArc: largeArc,\n            swipe: swipe\n        });\n\n        return new Arc(arcParameters.center, {\n            startAngle: arcParameters.startAngle,\n            endAngle: arcParameters.endAngle,\n            radiusX: rx,\n            radiusY: ry,\n            anticlockwise: swipe === 0\n        });\n    }\n}\n\ndefineAccessors(Arc.prototype, [ \"radiusX\", \"radiusY\", \"startAngle\", \"endAngle\", \"anticlockwise\" ]);\nObserversMixin.extend(Arc.prototype);\n\nfunction elipseAngle(start, end, swipe) {\n    let endAngle = end;\n\n    if (start > endAngle) {\n        endAngle += 360;\n    }\n\n    let alpha = Math.abs(endAngle - start);\n    if (!swipe) {\n        alpha = 360 - alpha;\n    }\n\n    return alpha;\n}\n\nfunction calculateAngle(cx, cy, rx, ry, x, y) {\n    const cos = round((x - cx) / rx, 3);\n    const sin = round((y - cy) / ry, 3);\n\n    return round(deg(Math.atan2(sin, cos)));\n}\n\nfunction normalizeArcParameters(parameters) {\n    const { x1, y1, x2, y2, rx, ry, largeArc, swipe } = parameters;\n    let cx, cy;\n    let cx1, cy1;\n    let a, b, c, sqrt;\n\n    if (y1 !== y2) {\n        let x21 = x2 - x1;\n        let y21 = y2 - y1;\n        let rx2 = pow(rx, 2), ry2 = pow(ry, 2);\n        let k = (ry2 * x21 * (x1 + x2) + rx2 * y21 * (y1 + y2)) / (2 * rx2 * y21);\n        let yk2 = k - y2;\n        let l = -(x21 * ry2) / (rx2 * y21);\n\n        a = 1 / rx2 + pow(l, 2) / ry2;\n        b = 2 * ((l * yk2) / ry2 - x2 / rx2);\n        c = pow(x2, 2) / rx2 + pow(yk2, 2) / ry2 - 1;\n        sqrt = Math.sqrt(pow(b, 2) - 4 * a * c);\n\n        cx = (-b - sqrt) / (2 * a);\n        cy = k + l * cx;\n        cx1 = (-b + sqrt) / (2 * a);\n        cy1 = k + l * cx1;\n    } else if (x1 !== x2) {\n        b = - 2 * y2;\n        c = pow(((x2 - x1) * ry) / (2 * rx), 2) + pow(y2, 2) - pow(ry, 2);\n        sqrt = Math.sqrt(pow(b, 2) - 4 * c);\n\n        cx = cx1 = (x1 + x2) / 2;\n        cy = (-b - sqrt) / 2;\n        cy1 = (-b + sqrt) / 2;\n    } else {\n        return false;\n    }\n\n    let start = calculateAngle(cx, cy, rx, ry, x1, y1);\n    let end = calculateAngle(cx, cy, rx, ry, x2, y2);\n    let alpha = elipseAngle(start, end, swipe);\n\n    if ((largeArc && alpha <= 180) || (!largeArc && alpha > 180)) {\n        cx = cx1; cy = cy1;\n        start = calculateAngle(cx, cy, rx, ry, x1, y1);\n        end = calculateAngle(cx, cy, rx, ry, x2, y2);\n    }\n\n    return {\n        center: new Point(cx, cy),\n        startAngle: start,\n        endAngle: end\n    };\n}\n\nfunction bboxStartAngle(angle, start) {\n    let startAngle = angle;\n\n    while (startAngle < start) {\n        startAngle += 90;\n    }\n\n    return startAngle;\n}\n\nexport default Arc;\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/arc.js\n **/","import GeometryElementsArray from './geometry-elements-array';\nimport Element from './element';\nimport Paintable from '../mixins/paintable';\nimport Measurable from '../mixins/measurable';\nimport last from '../common/last';\nimport Arc from '../geometry/arc';\nimport Rect from '../geometry/rect';\nimport Segment from '../geometry/segment';\nimport Point from '../geometry/point';\nimport Size from '../geometry/size';\nimport { rad, lineIntersectionsCount } from '../geometry/math';\nimport defined from '../common/defined';\n\nclass Path extends Element {\n\n    constructor(options) {\n        super(options);\n        this.segments = new GeometryElementsArray();\n        this.segments.addObserver(this);\n\n        if (!defined(this.options.stroke)) {\n            this.stroke(\"#000\");\n\n            if (!defined(this.options.stroke.lineJoin)) {\n                this.options.set(\"stroke.lineJoin\", \"miter\");\n            }\n        }\n    }\n\n    moveTo(x, y) {\n        this.suspend();\n        this.segments.elements([]);\n        this.resume();\n\n        this.lineTo(x, y);\n\n        return this;\n    }\n\n    lineTo(x, y) {\n        const point = defined(y) ? new Point(x, y) : x;\n        const segment = new Segment(point);\n\n        this.segments.push(segment);\n\n        return this;\n    }\n\n    curveTo(controlOut, controlIn, point) {\n        if (this.segments.length > 0) {\n            const lastSegment = last(this.segments);\n            const segment = new Segment(point, controlIn);\n            this.suspend();\n            lastSegment.controlOut(controlOut);\n            this.resume();\n\n            this.segments.push(segment);\n        }\n\n        return this;\n    }\n\n    arc(startAngle, endAngle, radiusX, radiusY, anticlockwise) {\n        if (this.segments.length > 0) {\n            const lastSegment = last(this.segments);\n            const anchor = lastSegment.anchor();\n            const start = rad(startAngle);\n            const center = new Point(anchor.x - radiusX * Math.cos(start),\n                anchor.y - radiusY * Math.sin(start));\n            const arc = new Arc(center, {\n                startAngle: startAngle,\n                endAngle: endAngle,\n                radiusX: radiusX,\n                radiusY: radiusY,\n                anticlockwise: anticlockwise\n            });\n\n            this._addArcSegments(arc);\n        }\n\n        return this;\n    }\n\n    arcTo(end, rx, ry, largeArc, swipe) {\n        if (this.segments.length > 0) {\n            const lastSegment = last(this.segments);\n            const anchor = lastSegment.anchor();\n            const arc = Arc.fromPoints(anchor, end, rx, ry, largeArc, swipe);\n\n            this._addArcSegments(arc);\n        }\n        return this;\n    }\n\n    _addArcSegments(arc) {\n        this.suspend();\n\n        const curvePoints = arc.curvePoints();\n\n        for (let i = 1; i < curvePoints.length; i += 3) {\n            this.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);\n        }\n\n        this.resume();\n        this.geometryChange();\n    }\n\n    close() {\n        this.options.closed = true;\n        this.geometryChange();\n\n        return this;\n    }\n\n    rawBBox() {\n        return this._bbox();\n    }\n\n    _containsPoint(point) {\n        const segments = this.segments;\n        const length = segments.length;\n        let intersectionsCount = 0;\n        let previous, current;\n\n        for (let idx = 1; idx < length; idx++) {\n            previous = segments[idx - 1];\n            current = segments[idx];\n            intersectionsCount += previous._intersectionsTo(current, point);\n        }\n\n        if (this.options.closed || !segments[0].anchor().equals(segments[length - 1].anchor())) {\n            intersectionsCount += lineIntersectionsCount(segments[0].anchor(), segments[length - 1].anchor(), point);\n        }\n\n        return intersectionsCount % 2 !== 0;\n    }\n\n    _isOnPath(point, width) {\n        const segments = this.segments;\n        const length = segments.length;\n        const pathWidth = width || this.options.stroke.width;\n\n        if (length > 1) {\n            if (segments[0]._isOnPathTo(segments[1], point, pathWidth, \"start\")) {\n                return true;\n            }\n\n            for (let idx = 2; idx <= length - 2; idx++) {\n                if (segments[idx - 1]._isOnPathTo(segments[idx], point, pathWidth)) {\n                    return true;\n                }\n            }\n\n            if (segments[length - 2]._isOnPathTo(segments[length - 1], point, pathWidth, \"end\")) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    _bbox(matrix) {\n        const segments = this.segments;\n        const length = segments.length;\n        let boundingBox;\n\n        if (length === 1) {\n            let anchor = segments[0].anchor().transformCopy(matrix);\n            boundingBox = new Rect(anchor, Size.ZERO);\n        } else if (length > 0) {\n            for (let i = 1; i < length; i++) {\n                let segmentBox = segments[i - 1].bboxTo(segments[i], matrix);\n                if (boundingBox) {\n                    boundingBox = Rect.union(boundingBox, segmentBox);\n                } else {\n                    boundingBox = segmentBox;\n                }\n            }\n        }\n\n        return boundingBox;\n    }\n\n    static fromRect(rect, options) {\n        return new Path(options)\n            .moveTo(rect.topLeft())\n            .lineTo(rect.topRight())\n            .lineTo(rect.bottomRight())\n            .lineTo(rect.bottomLeft())\n            .close();\n    }\n\n    static fromPoints(points, options) {\n        if (points) {\n            const path = new Path(options);\n\n            for (let i = 0; i < points.length; i++) {\n                let point = Point.create(points[i]);\n                if (point) {\n                    if (i === 0) {\n                        path.moveTo(point);\n                    } else {\n                        path.lineTo(point);\n                    }\n                }\n            }\n\n            return path;\n        }\n    }\n\n    static fromArc(arc, options) {\n        const path = new Path(options);\n        const startAngle = arc.startAngle;\n        const start = arc.pointAt(startAngle);\n        path.moveTo(start.x, start.y);\n        path.arc(startAngle, arc.endAngle, arc.radiusX, arc.radiusY, arc.anticlockwise);\n        return path;\n    }\n}\n\nPath.prototype.nodeType = \"Path\";\n\nPaintable.extend(Path.prototype);\nMeasurable.extend(Path.prototype);\n\nexport default Path;\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/path.js\n **/","import ElementsArray from '../common/elements-array';\n\nclass GeometryElementsArray extends ElementsArray {\n    _change() {\n        this.geometryChange();\n    }\n}\n\nexport default GeometryElementsArray;\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/geometry-elements-array.js\n **/","export default function last(array) {\n    if (array) {\n        return array[array.length - 1];\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/last.js\n **/","import ObserversMixin from '../mixins/observers-mixin';\nimport definePointAccessors from '../accessors/define-point-accessors';\nimport Rect from './rect';\nimport Point from './point';\nimport transform from './transform';\nimport { isOutOfEndPoint, calculateCurveAt, hasRootsInRange, deg, curveIntersectionsCount, lineIntersectionsCount } from './math';\nimport { MIN_NUM, MAX_NUM } from './constants';\n\nclass Segment {\n\n    constructor(anchor, controlIn, controlOut) {\n        this.anchor(anchor || new Point());\n        this.controlIn(controlIn);\n        this.controlOut(controlOut);\n    }\n\n    bboxTo(toSegment, matrix) {\n        const segmentAnchor = this.anchor().transformCopy(matrix);\n        const toSegmentAnchor = toSegment.anchor().transformCopy(matrix);\n        let rect;\n\n        if (this.controlOut() && toSegment.controlIn()) {\n            rect = this._curveBoundingBox(\n                segmentAnchor, this.controlOut().transformCopy(matrix),\n                toSegment.controlIn().transformCopy(matrix), toSegmentAnchor\n            );\n        } else {\n            rect = this._lineBoundingBox(segmentAnchor, toSegmentAnchor);\n        }\n\n        return rect;\n    }\n\n    _lineBoundingBox(p1, p2) {\n        return Rect.fromPoints(p1, p2);\n    }\n\n    _curveBoundingBox(p1, cp1, cp2, p2) {\n        const points = [ p1, cp1, cp2, p2 ];\n        const extremesX = this._curveExtremesFor(points, \"x\");\n        const extremesY = this._curveExtremesFor(points, \"y\");\n        const xLimits = arrayLimits([ extremesX.min, extremesX.max, p1.x, p2.x ]);\n        const yLimits = arrayLimits([ extremesY.min, extremesY.max, p1.y, p2.y ]);\n\n        return Rect.fromPoints(new Point(xLimits.min, yLimits.min), new Point(xLimits.max, yLimits.max));\n    }\n\n    _curveExtremesFor(points, field) {\n        const extremes = this._curveExtremes(\n            points[0][field], points[1][field],\n            points[2][field], points[3][field]\n        );\n\n        return {\n            min: calculateCurveAt(extremes.min, field, points),\n            max: calculateCurveAt(extremes.max, field, points)\n        };\n    }\n\n    _curveExtremes(x1, x2, x3, x4) {\n        const a = x1 - 3 * x2 + 3 * x3 - x4;\n        const b = - 2 * (x1 - 2 * x2 + x3);\n        const c = x1 - x2;\n        const sqrt = Math.sqrt(b * b - 4 * a * c);\n        let t1 = 0;\n        let t2 = 1;\n\n        if (a === 0) {\n            if (b !== 0) {\n                t1 = t2 = -c / b;\n            }\n        } else if (!isNaN(sqrt)) {\n            t1 = (- b + sqrt) / (2 * a);\n            t2 = (- b - sqrt) / (2 * a);\n        }\n\n        let min = Math.max(Math.min(t1, t2), 0);\n        if (min < 0 || min > 1) {\n            min = 0;\n        }\n\n        let max = Math.min(Math.max(t1, t2), 1);\n        if (max > 1 || max < 0) {\n            max = 1;\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    }\n\n    _intersectionsTo(segment, point) {\n        let intersectionsCount;\n        if (this.controlOut() && segment.controlIn()) {\n            intersectionsCount = curveIntersectionsCount([ this.anchor(), this.controlOut(), segment.controlIn(), segment.anchor() ], point, this.bboxTo(segment));\n        } else {\n            intersectionsCount = lineIntersectionsCount(this.anchor(), segment.anchor(), point);\n        }\n        return intersectionsCount;\n    }\n\n    _isOnCurveTo(segment, point, width, endSegment) {\n        const bbox = this.bboxTo(segment).expand(width, width);\n        if (bbox.containsPoint(point)) {\n            const p1 = this.anchor();\n            const p2 = this.controlOut();\n            const p3 = segment.controlIn();\n            const p4 = segment.anchor();\n\n            if (endSegment === \"start\" && p1.distanceTo(point) <= width) {\n                return !isOutOfEndPoint(p1, p2, point);\n            } else if (endSegment === \"end\" && p4.distanceTo(point) <= width) {\n                return !isOutOfEndPoint(p4, p3, point);\n            }\n\n            //the approach is not entirely correct but is close and the alternatives are solving a 6th degree polynomial or testing the segment points\n            const points = [ p1, p2, p3, p4 ];\n            if (hasRootsInRange(points, point, \"x\", \"y\", width) || hasRootsInRange(points, point, \"y\", \"x\", width)) {\n                return true;\n            }\n            const rotation = transform().rotate(45, point);\n            const rotatedPoints = [ p1.transformCopy(rotation), p2.transformCopy(rotation), p3.transformCopy(rotation), p4.transformCopy(rotation) ];\n            return hasRootsInRange(rotatedPoints, point, \"x\", \"y\", width) || hasRootsInRange(rotatedPoints, point, \"y\", \"x\", width);\n        }\n    }\n\n    _isOnLineTo(segment, point, width) {\n        const p1 = this.anchor();\n        const p2 = segment.anchor();\n        const angle = deg(Math.atan2(p2.y - p1.y, p2.x - p1.x));\n        const rect = new Rect([ p1.x, p1.y - width / 2 ], [ p1.distanceTo(p2), width ]);\n        return rect.containsPoint(point.transformCopy(transform().rotate(-angle, p1)));\n    }\n\n    _isOnPathTo(segment, point, width, endSegment) {\n        let isOnPath;\n        if (this.controlOut() && segment.controlIn()) {\n            isOnPath = this._isOnCurveTo(segment, point, width / 2, endSegment);\n        } else {\n            isOnPath = this._isOnLineTo(segment, point, width);\n        }\n        return isOnPath;\n    }\n}\n\ndefinePointAccessors(Segment.prototype, [ \"anchor\", \"controlIn\", \"controlOut\" ]);\nObserversMixin.extend(Segment.prototype);\n\nfunction arrayLimits(arr) {\n    let length = arr.length;\n    let min = MAX_NUM;\n    let max = MIN_NUM;\n\n    for (let i = 0; i < length; i ++) {\n        max = Math.max(max, arr[i]);\n        min = Math.min(min, arr[i]);\n    }\n\n    return {\n        min: min,\n        max: max\n    };\n}\n\nexport default Segment;\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry/segment.js\n **/","import GeometryElementsArray from './geometry-elements-array';\nimport Element from './element';\nimport Path from './path';\nimport Paintable from '../mixins/paintable';\nimport Measurable from '../mixins/measurable';\nimport elementsBoundingBox from './utils/elements-bounding-box';\nimport elementsClippedBoundingBox from './utils/elements-clippend-bounding-box';\nimport last from '../common/last';\nimport defined from '../common/defined';\n\nclass MultiPath extends Element {\n\n    constructor(options) {\n        super(options);\n        this.paths = new GeometryElementsArray();\n        this.paths.addObserver(this);\n\n        if (!defined(this.options.stroke)) {\n            this.stroke(\"#000\");\n        }\n    }\n\n    moveTo(x, y) {\n        const path = new Path();\n        path.moveTo(x, y);\n\n        this.paths.push(path);\n\n        return this;\n    }\n\n    lineTo(x, y) {\n        if (this.paths.length > 0) {\n            last(this.paths).lineTo(x, y);\n        }\n\n        return this;\n    }\n\n    curveTo(controlOut, controlIn, point) {\n        if (this.paths.length > 0) {\n            last(this.paths).curveTo(controlOut, controlIn, point);\n        }\n\n        return this;\n    }\n\n    arc(startAngle, endAngle, radiusX, radiusY, anticlockwise) {\n        if (this.paths.length > 0) {\n            last(this.paths).arc(startAngle, endAngle, radiusX, radiusY, anticlockwise);\n        }\n\n        return this;\n    }\n\n    arcTo(end, rx, ry, largeArc, swipe) {\n        if (this.paths.length > 0) {\n            last(this.paths).arcTo(end, rx, ry, largeArc, swipe);\n        }\n\n        return this;\n    }\n\n    close() {\n        if (this.paths.length > 0) {\n            last(this.paths).close();\n        }\n\n        return this;\n    }\n\n    _bbox(matrix) {\n        return elementsBoundingBox(this.paths, true, matrix);\n    }\n\n    rawBBox() {\n        return elementsBoundingBox(this.paths, false);\n    }\n\n    _containsPoint(point) {\n        const paths = this.paths;\n\n        for (let idx = 0; idx < paths.length; idx++) {\n            if (paths[idx]._containsPoint(point)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    _isOnPath(point) {\n        const paths = this.paths;\n        const width = this.options.stroke.width;\n\n        for (let idx = 0; idx < paths.length; idx++) {\n            if (paths[idx]._isOnPath(point, width)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    _clippedBBox(transformation) {\n        return elementsClippedBoundingBox(this.paths, this.currentTransform(transformation));\n    }\n}\n\nMultiPath.prototype.nodeType = \"MultiPath\";\n\nPaintable.extend(MultiPath.prototype);\nMeasurable.extend(MultiPath.prototype);\n\nexport default MultiPath;\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/multi-path.js\n **/","import Element from './element';\nimport Point from '../geometry/point';\nimport Rect from '../geometry/rect';\nimport defined from '../common/defined';\nimport measureText from '../text-metrics/measure-text';\nimport toMatrix from '../common/to-matrix';\nimport Paintable from '../mixins/paintable';\nimport definePointAccessors from '../accessors/define-point-accessors';\n\nconst DEFAULT_FONT = \"12px sans-serif\";\nconst DEFAULT_FILL = \"#000\";\n\nclass Text extends Element {\n\n    constructor(content, position = new Point(), options = {}) {\n        super(options);\n\n        this.content(content);\n        this.position(position);\n\n        if (!this.options.font) {\n            this.options.font = DEFAULT_FONT;\n        }\n\n        if (!defined(this.options.fill)) {\n            this.fill(DEFAULT_FILL);\n        }\n    }\n\n    content(value) {\n        if (defined(value)) {\n            this.options.set(\"content\", value);\n            return this;\n        }\n\n        return this.options.get(\"content\");\n    }\n\n    measure() {\n        const metrics = measureText(this.content(), {\n            font: this.options.get(\"font\")\n        });\n\n        return metrics;\n    }\n\n    rect() {\n        const size = this.measure();\n        const pos = this.position().clone();\n        return new Rect(pos, [ size.width, size.height ]);\n    }\n\n    bbox(transformation) {\n        const combinedMatrix = toMatrix(this.currentTransform(transformation));\n        return this.rect().bbox(combinedMatrix);\n    }\n\n    rawBBox() {\n        return this.rect().bbox();\n    }\n\n    _containsPoint(point) {\n        return this.rect().containsPoint(point);\n    }\n}\n\nText.prototype.nodeType = \"Text\";\n\nPaintable.extend(Text.prototype);\n\ndefinePointAccessors(Text.prototype, [ \"position\" ]);\n\nexport default Text;\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/text.js\n **/","import TextMetrics from './text-metrics';\n\nexport default function measureText(text, style, measureBox) {\n    return TextMetrics.current.measure(text, style, measureBox);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/text-metrics/measure-text.js\n **/","import LRUCache from './lru-cache';\nimport defined from '../common/defined';\n\nfunction zeroSize() {\n    return { width: 0, height: 0, baseline: 0 };\n}\n\nconst DEFAULT_OPTIONS = {\n    baselineMarkerSize: 1\n};\n\nfunction objectKey(object) {\n    const parts = [];\n    for (let key in object) {\n        parts.push(key + object[key]);\n    }\n\n    return parts.sort().join(\"\");\n}\n\n// Computes FNV-1 hash\n// See http://en.wikipedia.org/wiki/Fowler%E2%80%93Noll%E2%80%93Vo_hash_function\nfunction hashKey(str) {\n    // 32-bit FNV-1 offset basis\n    // See http://isthe.com/chongo/tech/comp/fnv/#FNV-param\n    let hash = 0x811C9DC5;\n\n    for (let i = 0; i < str.length; ++i) {\n        hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n        hash ^= str.charCodeAt(i);\n    }\n\n    return hash >>> 0;\n}\n\nlet defaultMeasureBox;\n\nif (typeof document !== \"undefined\") {\n    defaultMeasureBox = document.createElement(\"div\");\n    defaultMeasureBox.style.cssText = `position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;\n              padding: 0 !important; margin: 0 !important; border: 0 !important;\n              line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;`;\n}\n\nclass TextMetrics {\n    constructor(options) {\n        this._cache = new LRUCache(1000);\n        this.options = Object.assign({}, DEFAULT_OPTIONS, options);\n    }\n\n    measure(text, style, box) {\n        if (!text) {\n            return zeroSize();\n        }\n\n        const styleKey = objectKey(style);\n        const cacheKey = hashKey(text + styleKey);\n        const cachedResult = this._cache.get(cacheKey);\n\n        if (cachedResult) {\n            return cachedResult;\n        }\n\n        const size = zeroSize();\n        const measureBox = box || defaultMeasureBox;\n        const baselineMarker = this._baselineMarker().cloneNode(false);\n\n        for (let key in style) {\n            let value = style[key];\n            if (defined(value)) {\n                measureBox.style[key] = value;\n            }\n        }\n\n        measureBox.textContent = text;\n        measureBox.appendChild(baselineMarker);\n        document.body.appendChild(measureBox);\n\n        if (String(text).length) {\n            size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n            size.height = measureBox.offsetHeight;\n            size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n        }\n\n        if (size.width > 0 && size.height > 0) {\n            this._cache.put(cacheKey, size);\n        }\n\n        measureBox.parentNode.removeChild(measureBox);\n\n        return size;\n    }\n\n    _baselineMarker() {\n        const marker = document.createElement(\"div\");\n        marker.style.cssText = \"display: inline-block; vertical-align: baseline;width: \" +\n            this.options.baselineMarkerSize + \"px; height: \" + this.options.baselineMarkerSize + \"px;overflow: hidden;\";\n\n        return marker;\n    }\n}\n\nTextMetrics.current = new TextMetrics();\n\nexport default TextMetrics;\n\n\n/** WEBPACK FOOTER **\n ** ./src/text-metrics/text-metrics.js\n **/","class LRUCache {\n    constructor(size) {\n        this._size = size;\n        this._length = 0;\n        this._map = {};\n    }\n\n    put(key, value) {\n        const map = this._map;\n        const entry = { key: key, value: value };\n\n        map[key] = entry;\n\n        if (!this._head) {\n            this._head = this._tail = entry;\n        } else {\n            this._tail.newer = entry;\n            entry.older = this._tail;\n            this._tail = entry;\n        }\n\n        if (this._length >= this._size) {\n            map[this._head.key] = null;\n            this._head = this._head.newer;\n            this._head.older = null;\n        } else {\n            this._length++;\n        }\n    }\n\n    get(key) {\n        const entry = this._map[key];\n\n        if (entry) {\n            if (entry === this._head && entry !== this._tail) {\n                this._head = entry.newer;\n                this._head.older = null;\n            }\n\n            if (entry !== this._tail) {\n                if (entry.older) {\n                    entry.older.newer = entry.newer;\n                    entry.newer.older = entry.older;\n                }\n\n                entry.older = this._tail;\n                entry.newer = null;\n\n                this._tail.newer = entry;\n                this._tail = entry;\n            }\n\n            return entry.value;\n        }\n    }\n}\n\nexport default LRUCache;\n\n\n/** WEBPACK FOOTER **\n ** ./src/text-metrics/lru-cache.js\n **/","import defineGeometryAccessors from '../accessors/define-geometry-accessors';\nimport Element from './element';\nimport Rect from '../geometry/rect';\nimport defined from '../common/defined';\nimport toMatrix from '../common/to-matrix';\n\nclass Image extends Element {\n\n    constructor(src, rect = new Rect(), options = {}) {\n        super(options);\n\n        this.src(src);\n        this.rect(rect);\n    }\n\n    src(value) {\n        if (defined(value)) {\n            this.options.set(\"src\", value);\n            return this;\n        }\n\n        return this.options.get(\"src\");\n    }\n\n    bbox(transformation) {\n        const combinedMatrix = toMatrix(this.currentTransform(transformation));\n        return this._rect.bbox(combinedMatrix);\n    }\n\n    rawBBox() {\n        return this._rect.bbox();\n    }\n\n    _containsPoint(point) {\n        return this._rect.containsPoint(point);\n    }\n\n    _hasFill() {\n        return this.src();\n    }\n}\n\nImage.prototype.nodeType = \"Image\";\n\ndefineGeometryAccessors(Image.prototype, [ \"rect\" ]);\n\nexport default Image;\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/image.js\n **/","import Group from './group';\nimport Size from '../geometry/size';\nimport Rect from '../geometry/rect';\nimport Point from '../geometry/point';\nimport createTransform from '../geometry/transform';\nimport translateToPoint from '../alignment/translate-to-point';\nimport alignStart from '../alignment/align-start';\n\nconst DEFAULT_OPTIONS = {\n    alignContent: \"start\",\n    justifyContent: \"start\",\n    alignItems: \"start\",\n    spacing: 0,\n    orientation: \"horizontal\",\n    lineSpacing: 0,\n    wrap: true\n};\n\nclass Layout extends Group {\n\n    constructor(rect, options) {\n        super(Object.assign({}, DEFAULT_OPTIONS, options));\n        this._rect = rect;\n        this._fieldMap = {};\n    }\n\n    rect(value) {\n        if (value) {\n            this._rect = value;\n            return this;\n        }\n\n        return this._rect;\n    }\n\n    _initMap() {\n        const options = this.options;\n        const fieldMap = this._fieldMap;\n        if (options.orientation === \"horizontal\") {\n            fieldMap.sizeField = \"width\";\n            fieldMap.groupsSizeField = \"height\";\n            fieldMap.groupAxis = \"x\";\n            fieldMap.groupsAxis = \"y\";\n        } else {\n            fieldMap.sizeField = \"height\";\n            fieldMap.groupsSizeField = \"width\";\n            fieldMap.groupAxis = \"y\";\n            fieldMap.groupsAxis = \"x\";\n        }\n    }\n\n    reflow() {\n        if (!this._rect || this.children.length === 0) {\n            return;\n        }\n        this._initMap();\n\n        if (this.options.transform) {\n            this.transform(null);\n        }\n\n        const options = this.options;\n        const rect = this._rect;\n        const { groups, groupsSize } = this._initGroups();\n        const { sizeField, groupsSizeField, groupAxis, groupsAxis } = this._fieldMap;\n        const groupOrigin = new Point();\n        const elementOrigin = new Point();\n        const size = new Size();\n        let groupStart = alignStart(groupsSize, rect, options.alignContent, groupsAxis, groupsSizeField);\n        let elementStart, bbox, element, group, groupBox;\n\n        for (let groupIdx = 0; groupIdx < groups.length; groupIdx++) {\n            group = groups[groupIdx];\n            groupOrigin[groupAxis] = elementStart = alignStart(group.size, rect, options.justifyContent, groupAxis, sizeField);\n            groupOrigin[groupsAxis] = groupStart;\n            size[sizeField] = group.size;\n            size[groupsSizeField] = group.lineSize;\n            groupBox = new Rect(groupOrigin, size);\n            for (let idx = 0; idx < group.bboxes.length; idx++) {\n                element = group.elements[idx];\n                bbox = group.bboxes[idx];\n                elementOrigin[groupAxis] = elementStart;\n                elementOrigin[groupsAxis] = alignStart(bbox.size[groupsSizeField], groupBox, options.alignItems, groupsAxis, groupsSizeField);\n                translateToPoint(elementOrigin, bbox, element);\n                elementStart += bbox.size[sizeField] + options.spacing;\n            }\n            groupStart += group.lineSize + options.lineSpacing;\n        }\n\n        if (!options.wrap && group.size > rect.size[sizeField]) {\n            const scale = rect.size[sizeField] / groupBox.size[sizeField];\n            const scaledStart = groupBox.topLeft().scale(scale, scale);\n            const scaledSize = groupBox.size[groupsSizeField] * scale;\n            const newStart = alignStart(scaledSize, rect, options.alignContent, groupsAxis, groupsSizeField);\n            const transform = createTransform();\n            if (groupAxis === \"x\") {\n                transform.translate(rect.origin.x - scaledStart.x, newStart - scaledStart.y);\n            } else {\n                transform.translate(newStart - scaledStart.x, rect.origin.y - scaledStart.y);\n            }\n            transform.scale(scale, scale);\n\n            this.transform(transform);\n        }\n    }\n\n    _initGroups() {\n        const { options, children } = this;\n        const { lineSpacing, wrap, spacing } = options;\n        const sizeField = this._fieldMap.sizeField;\n        let group = this._newGroup();\n        const groups = [];\n        const addGroup = function() {\n            groups.push(group);\n            groupsSize += group.lineSize + lineSpacing;\n        };\n        let groupsSize = -lineSpacing;\n\n        for (let idx = 0; idx < children.length; idx++) {\n            let element = children[idx];\n            let bbox = children[idx].clippedBBox();\n            if (element.visible() && bbox) {\n                if (wrap && group.size + bbox.size[sizeField] + spacing > this._rect.size[sizeField]) {\n                    if (group.bboxes.length === 0) {\n                        this._addToGroup(group, bbox, element);\n                        addGroup();\n                        group = this._newGroup();\n                    } else {\n                        addGroup();\n                        group = this._newGroup();\n                        this._addToGroup(group, bbox, element);\n                    }\n                } else {\n                    this._addToGroup(group, bbox, element);\n                }\n            }\n        }\n\n        if (group.bboxes.length) {\n            addGroup();\n        }\n\n        return {\n            groups: groups,\n            groupsSize: groupsSize\n        };\n    }\n\n    _addToGroup(group, bbox, element) {\n        group.size += bbox.size[this._fieldMap.sizeField] + this.options.spacing;\n        group.lineSize = Math.max(bbox.size[this._fieldMap.groupsSizeField], group.lineSize);\n        group.bboxes.push(bbox);\n        group.elements.push(element);\n    }\n\n    _newGroup() {\n        return {\n            lineSize: 0,\n            size: -this.options.spacing,\n            bboxes: [],\n            elements: []\n        };\n    }\n}\n\nexport default Layout;\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/layout.js\n **/","import defineGeometryAccessors from '../accessors/define-geometry-accessors';\nimport Element from './element';\nimport Paintable from '../mixins/paintable';\nimport Measurable from '../mixins/measurable';\nimport defined from '../common/defined';\nimport GeometryRect from '../geometry/rect';\n\nclass Rect extends Element {\n\n    constructor(geometry = new GeometryRect(), options = {}) {\n        super(options);\n        this.geometry(geometry);\n\n        if (!defined(this.options.stroke)) {\n            this.stroke(\"#000\");\n        }\n    }\n\n    _bbox(matrix) {\n        return this._geometry.bbox(matrix);\n    }\n\n    rawBBox() {\n        return this._geometry.bbox();\n    }\n\n    _containsPoint(point) {\n        return this._geometry.containsPoint(point);\n    }\n\n    _isOnPath(point) {\n        return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n    }\n}\n\nRect.prototype.nodeType = \"Rect\";\n\nPaintable.extend(Rect.prototype);\nMeasurable.extend(Rect.prototype);\ndefineGeometryAccessors(Rect.prototype, [ \"geometry\" ]);\n\nexport default Rect;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/shapes/rect.js\n **/"],"sourceRoot":""}