(function(e, a) { for(var i in a) e[i] = a[i]; }(exports, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(52);


/***/ },
/* 1 */,
/* 2 */
/***/ function(module, exports) {

	module.exports = require("./utils");

/***/ },
/* 3 */,
/* 4 */,
/* 5 */
/***/ function(module, exports) {

	module.exports = require("@angular/core");

/***/ },
/* 6 */,
/* 7 */,
/* 8 */
/***/ function(module, exports) {

	module.exports = require("./detail-template.directive");

/***/ },
/* 9 */,
/* 10 */,
/* 11 */,
/* 12 */,
/* 13 */,
/* 14 */,
/* 15 */,
/* 16 */,
/* 17 */,
/* 18 */,
/* 19 */,
/* 20 */,
/* 21 */,
/* 22 */,
/* 23 */,
/* 24 */,
/* 25 */,
/* 26 */,
/* 27 */,
/* 28 */,
/* 29 */,
/* 30 */,
/* 31 */,
/* 32 */,
/* 33 */,
/* 34 */
/***/ function(module, exports) {

	module.exports = require("rxjs/add/operator/map");

/***/ },
/* 35 */
/***/ function(module, exports) {

	module.exports = require("rxjs/add/operator/merge");

/***/ },
/* 36 */,
/* 37 */,
/* 38 */,
/* 39 */,
/* 40 */
/***/ function(module, exports) {

	module.exports = require("./details.service");

/***/ },
/* 41 */
/***/ function(module, exports) {

	module.exports = require("./columns-container");

/***/ },
/* 42 */,
/* 43 */,
/* 44 */,
/* 45 */,
/* 46 */,
/* 47 */,
/* 48 */,
/* 49 */,
/* 50 */,
/* 51 */,
/* 52 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
	    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
	    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
	    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
	    return c > 3 && r && Object.defineProperty(target, key, r), r;
	};
	var __metadata = (this && this.__metadata) || function (k, v) {
	    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
	};
	var __param = (this && this.__param) || function (paramIndex, decorator) {
	    return function (target, key) { decorator(target, key, paramIndex); }
	};
	var core_1 = __webpack_require__(5);
	var Observable_1 = __webpack_require__(53);
	var Subject_1 = __webpack_require__(54);
	__webpack_require__(55);
	__webpack_require__(34);
	__webpack_require__(35);
	__webpack_require__(56);
	__webpack_require__(57);
	__webpack_require__(58);
	__webpack_require__(59);
	var row_height_service_1 = __webpack_require__(60);
	var scroller_service_1 = __webpack_require__(61);
	var detail_template_directive_1 = __webpack_require__(8);
	var utils_1 = __webpack_require__(2);
	var details_service_1 = __webpack_require__(40);
	var columns_container_1 = __webpack_require__(41);
	/**
	 * @hidden
	 */
	var SCROLLER_FACTORY_TOKEN = new core_1.OpaqueToken('grid-scroll-service-factory');
	/**
	 * @hidden
	 */
	var DEFAULT_SCROLLER_FACTORY = function (observable) { return new scroller_service_1.ScrollerService(observable); };
	/**
	 * @hidden
	 */
	var wheelDeltaY = function (e) {
	    var deltaY = e.wheelDeltaY;
	    if (e.wheelDelta && (deltaY === undefined || deltaY)) {
	        return e.wheelDelta;
	    }
	    else if (e.detail && e.axis === e.VERTICAL_AXIS) {
	        return (-e.detail) * 10;
	    }
	    return 0;
	};
	/**
	 * @hidden
	 */
	var ListComponent = (function () {
	    function ListComponent(scrollerFactory, detailsService) {
	        var _this = this;
	        this.skip = 0;
	        this.columns = new columns_container_1.ColumnsContainer(function () { return []; });
	        this.pageChange = new core_1.EventEmitter();
	        this.containerScroll = new core_1.EventEmitter();
	        this.dispatcher = new Subject_1.Subject();
	        this.PAGE_EVENT_TIMEOUT = 200;
	        this.scroller = scrollerFactory(this.dispatcher);
	        this.detailsSubscription = detailsService.changes.subscribe(function (x) { return _this.detailExpand(x); });
	    }
	    Object.defineProperty(ListComponent.prototype, "lockedColumns", {
	        get: function () {
	            return this.columns.lockedColumns;
	        },
	        enumerable: true,
	        configurable: true
	    });
	    Object.defineProperty(ListComponent.prototype, "nonLockedColumns", {
	        get: function () {
	            return this.columns.nonLockedColumns;
	        },
	        enumerable: true,
	        configurable: true
	    });
	    Object.defineProperty(ListComponent.prototype, "lockedWidth", {
	        get: function () {
	            return this.lockedColumns.reduce(function (prev, curr) { return prev + (curr.width || 0); }, 0);
	        },
	        enumerable: true,
	        configurable: true
	    });
	    Object.defineProperty(ListComponent.prototype, "nonLockedWidth", {
	        get: function () {
	            if (this.lockedColumns.length) {
	                return this.nonLockedColumns.reduce(function (prev, curr) { return prev + (curr.width || 0); }, 0);
	            }
	            return undefined;
	        },
	        enumerable: true,
	        configurable: true
	    });
	    ListComponent.prototype.ngOnInit = function () {
	        this.init();
	    };
	    ListComponent.prototype.ngOnChanges = function (changes) {
	        if (utils_1.isChanged("total", changes)) {
	            this.init();
	        }
	    };
	    ListComponent.prototype.ngAfterViewInit = function () {
	        var _this = this;
	        this.container.nativeElement.scrollTop = this.rowHeightService.offset(this.skip);
	        this.containerScrollSubscription = Observable_1.Observable
	            .fromEvent(this.container.nativeElement, 'scroll')
	            .map(function (event) { return event.target; })
	            .do(this.onContainerScroll.bind(this))
	            .subscribe(this.dispatcher);
	        if (this.lockedContainer) {
	            this.containerScrollSubscription = this.containerScrollSubscription
	                .add(Observable_1.Observable.fromEvent(this.lockedContainer.nativeElement, 'mousewheel')
	                .merge(Observable_1.Observable.fromEvent(this.lockedContainer.nativeElement, 'DOMMouseScroll'))
	                .filter(function (event) { return !event.ctrlKey; })
	                .map(function (event) { return wheelDeltaY(event); })
	                .distinctUntilChanged()
	                .subscribe(function (x) { return _this.container.nativeElement.scrollTop -= x; }));
	        }
	    };
	    ListComponent.prototype.ngOnDestroy = function () {
	        if (this.scroller) {
	            this.scrollSubscription.unsubscribe();
	            this.scroller.destroy();
	        }
	        if (this.containerScrollSubscription) {
	            this.containerScrollSubscription.unsubscribe();
	        }
	        if (this.resizeSubscription) {
	            this.resizeSubscription.unsubscribe();
	        }
	        if (this.detailsSubscription) {
	            this.detailsSubscription.unsubscribe();
	        }
	    };
	    ListComponent.prototype.init = function () {
	        this.rowHeightService = new row_height_service_1.RowHeightService(this.total, this.rowHeight, this.detailRowHeight);
	        this.totalHeight = this.rowHeightService.totalHeight();
	        var observable = this.scroller
	            .create(this.rowHeightService, this.skip, this.take, this.total);
	        this.scrollSubscription = observable
	            .filter(function (x) { return x instanceof scroller_service_1.PageAction; })
	            .debounceTime(this.PAGE_EVENT_TIMEOUT)
	            .subscribe(this.pageChange)
	            .add(observable
	            .filter(function (x) { return x instanceof scroller_service_1.ScrollAction; })
	            .subscribe(this.scroll.bind(this)));
	    };
	    ListComponent.prototype.detailExpand = function (_a) {
	        var index = _a.index, expand = _a.expand;
	        if (expand) {
	            this.rowHeightService.expandDetail(index);
	        }
	        else {
	            this.rowHeightService.collapseDetail(index);
	        }
	        this.totalHeight = this.rowHeightService.totalHeight();
	    };
	    ListComponent.prototype.scroll = function (_a) {
	        var offset = _a.offset;
	        this.style = { transform: "translateY(" + offset + "px)" };
	        //this.style = { top: offset + "px" };
	    };
	    ListComponent.prototype.onContainerScroll = function (_a) {
	        var scrollTop = _a.scrollTop, scrollLeft = _a.scrollLeft;
	        if (this.lockedContainer) {
	            this.lockedContainer.nativeElement.scrollTop = scrollTop;
	        }
	        this.containerScroll.emit({ scrollTop: scrollTop, scrollLeft: scrollLeft });
	    };
	    __decorate([
	        core_1.Input(), 
	        __metadata('design:type', Array)
	    ], ListComponent.prototype, "data", void 0);
	    __decorate([
	        core_1.Input(), 
	        __metadata('design:type', Number)
	    ], ListComponent.prototype, "total", void 0);
	    __decorate([
	        core_1.Input(), 
	        __metadata('design:type', Number)
	    ], ListComponent.prototype, "height", void 0);
	    __decorate([
	        core_1.Input(), 
	        __metadata('design:type', Number)
	    ], ListComponent.prototype, "rowHeight", void 0);
	    __decorate([
	        core_1.Input(), 
	        __metadata('design:type', Number)
	    ], ListComponent.prototype, "detailRowHeight", void 0);
	    __decorate([
	        core_1.Input(), 
	        __metadata('design:type', Number)
	    ], ListComponent.prototype, "take", void 0);
	    __decorate([
	        core_1.Input(), 
	        __metadata('design:type', Number)
	    ], ListComponent.prototype, "skip", void 0);
	    __decorate([
	        core_1.Input(), 
	        __metadata('design:type', columns_container_1.ColumnsContainer)
	    ], ListComponent.prototype, "columns", void 0);
	    __decorate([
	        core_1.Input(), 
	        __metadata('design:type', detail_template_directive_1.DetailTemplateDirective)
	    ], ListComponent.prototype, "detailTemplate", void 0);
	    __decorate([
	        core_1.Input(), 
	        __metadata('design:type', Boolean)
	    ], ListComponent.prototype, "selectable", void 0);
	    __decorate([
	        core_1.Output(), 
	        __metadata('design:type', core_1.EventEmitter)
	    ], ListComponent.prototype, "pageChange", void 0);
	    __decorate([
	        core_1.Output(), 
	        __metadata('design:type', core_1.EventEmitter)
	    ], ListComponent.prototype, "containerScroll", void 0);
	    __decorate([
	        core_1.ViewChild("container"), 
	        __metadata('design:type', core_1.ElementRef)
	    ], ListComponent.prototype, "container", void 0);
	    __decorate([
	        core_1.ViewChild("lockedContainer"), 
	        __metadata('design:type', core_1.ElementRef)
	    ], ListComponent.prototype, "lockedContainer", void 0);
	    ListComponent = __decorate([
	        core_1.Component({
	            providers: [
	                {
	                    provide: SCROLLER_FACTORY_TOKEN,
	                    useValue: DEFAULT_SCROLLER_FACTORY
	                }],
	            selector: 'kendo-grid-list',
	            template: "\n    <div #lockedContainer class=\"k-grid-content-locked\" [style.height.px]=\"height\"\n        *ngIf=\"lockedColumns.length\" [style.width.px]=\"lockedWidth\">\n        <table [ngStyle]=\"style\">\n            <colgroup kendoGridColGroup\n                [columns]=\"lockedColumns\"\n                [detailTemplate]=\"detailTemplate\">\n            </colgroup>\n            <tbody kendoGridTableBody\n                [data]=\"data\"\n                [columns]=\"lockedColumns\"\n                [detailTemplate]=\"detailTemplate\"\n                [skip]=\"skip\"\n                [selectable]=\"selectable\">\n            </tbody>\n        </table>\n        <div class=\"k-height-container\">\n            <div [style.height.px]=\"totalHeight\"></div>\n        </div>\n    </div><div #container class=\"k-grid-content k-virtual-content\"\n        [style.height.px]=\"height\"\n        [kendoGridResizableContainer]=\"lockedColumns.length\"\n        [lockedWidth]=\"lockedWidth + 1\">\n        <table [ngStyle]=\"style\" [style.width.px]=\"nonLockedWidth\">\n            <colgroup kendoGridColGroup\n                [columns]=\"nonLockedColumns\"\n                [detailTemplate]=\"detailTemplate\">\n            </colgroup>\n            <tbody kendoGridTableBody\n                [data]=\"data\"\n                [columns]=\"nonLockedColumns\"\n                [detailTemplate]=\"detailTemplate\"\n                [skip]=\"skip\"\n                [selectable]=\"selectable\">\n            </tbody>\n        </table>\n        <div class=\"k-height-container\">\n            <div [style.height.px]=\"totalHeight\"></div>\n        </div>\n    </div>"
	        }),
	        __param(0, core_1.Inject(SCROLLER_FACTORY_TOKEN)), 
	        __metadata('design:paramtypes', [Function, details_service_1.DetailsService])
	    ], ListComponent);
	    return ListComponent;
	}());
	exports.ListComponent = ListComponent;


/***/ },
/* 53 */
/***/ function(module, exports) {

	module.exports = require("rxjs/Observable");

/***/ },
/* 54 */
/***/ function(module, exports) {

	module.exports = require("rxjs/Subject");

/***/ },
/* 55 */
/***/ function(module, exports) {

	module.exports = require("rxjs/add/observable/fromEvent");

/***/ },
/* 56 */
/***/ function(module, exports) {

	module.exports = require("rxjs/add/operator/filter");

/***/ },
/* 57 */
/***/ function(module, exports) {

	module.exports = require("rxjs/add/operator/do");

/***/ },
/* 58 */
/***/ function(module, exports) {

	module.exports = require("rxjs/add/operator/distinctUntilChanged");

/***/ },
/* 59 */
/***/ function(module, exports) {

	module.exports = require("rxjs/add/operator/debounceTime");

/***/ },
/* 60 */
/***/ function(module, exports) {

	module.exports = require("./row-height.service");

/***/ },
/* 61 */
/***/ function(module, exports) {

	module.exports = require("./scroller.service");

/***/ }
/******/ ])));
//# sourceMappingURL=list.component.js.map